<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="10021pt" height="6349pt"
 viewBox="0.00 0.00 10021.47 6348.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 6344.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-6344.8 10017.4744,-6344.8 10017.4744,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7362.6411,-498.7 7362.6411,-1077.1 8299.6787,-1077.1 8299.6787,-498.7 7362.6411,-498.7"/>
<text text-anchor="middle" x="7831.1599" y="-1060.5" font-family="Times,serif" font-size="14.00" fill="#000000">BlackScholes</text>
<polyline fill="none" stroke="#000000" points="7362.6411,-1052.3 8299.6787,-1052.3 "/>
<text text-anchor="start" x="7370.6411" y="-1035.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7370.6411" y="-1018.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SECONDS_PER_YEAR: uint</text>
<text text-anchor="start" x="7370.6411" y="-1002.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<text text-anchor="start" x="7370.6411" y="-985.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LN_2_PRECISE: uint</text>
<text text-anchor="start" x="7370.6411" y="-968.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SQRT_TWOPI: uint</text>
<text text-anchor="start" x="7370.6411" y="-951.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="7370.6411" y="-934.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="7370.6411" y="-918.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_EXP: int</text>
<text text-anchor="start" x="7370.6411" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_EXP: uint</text>
<text text-anchor="start" x="7370.6411" y="-884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_T_ANNUALISED: uint</text>
<text text-anchor="start" x="7370.6411" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_VOLATILITY: uint</text>
<text text-anchor="start" x="7370.6411" y="-850.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;VEGA_STANDARDISATION_MIN_DAYS: uint</text>
<polyline fill="none" stroke="#000000" points="7362.6411,-842.7 8299.6787,-842.7 "/>
<text text-anchor="start" x="7370.6411" y="-826.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7370.6411" y="-809.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;floor(x: uint): uint</text>
<text text-anchor="start" x="7370.6411" y="-792.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln(x: uint): int</text>
<text text-anchor="start" x="7370.6411" y="-775.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrtPrecise(x: uint): uint</text>
<text text-anchor="start" x="7370.6411" y="-758.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal(x: int): uint</text>
<text text-anchor="start" x="7370.6411" y="-742.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF(x: int): uint</text>
<text text-anchor="start" x="7370.6411" y="-725.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="7370.6411" y="-708.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2(tAnnualised: uint, volatility: uint, spot: uint, strike: uint, rate: int): (d1: int, d2: int)</text>
<text text-anchor="start" x="7370.6411" y="-691.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_optionPrices(tAnnualised: uint, spot: uint, strike: uint, rate: int, d1: int, d2: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="7370.6411" y="-674.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_delta(d1: int): (callDelta: int, putDelta: int)</text>
<text text-anchor="start" x="7370.6411" y="-658.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_vega(tAnnualised: uint, spot: uint, d1: int): (vega: uint)</text>
<text text-anchor="start" x="7370.6411" y="-641.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_standardVega(d1: int, spot: uint, timeToExpirySec: uint): uint</text>
<text text-anchor="start" x="7370.6411" y="-624.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7370.6411" y="-607.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPrices(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="7370.6411" y="-590.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pricesDeltaStdVega(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): IBlackScholes.PricesDeltaStdVega</text>
<text text-anchor="start" x="7370.6411" y="-574.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7370.6411" y="-557.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(x: int): uint</text>
<text text-anchor="start" x="7370.6411" y="-540.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: uint): uint</text>
<text text-anchor="start" x="7370.6411" y="-523.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: int): uint</text>
<text text-anchor="start" x="7370.6411" y="-506.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt(x: uint): (y: uint)</text>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7403.0731,-1760.9 7403.0731,-1952.9 8259.2467,-1952.9 8259.2467,-1760.9 7403.0731,-1760.9"/>
<text text-anchor="middle" x="7831.1599" y="-1936.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="7831.1599" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000">IBlackScholes</text>
<polyline fill="none" stroke="#000000" points="7403.0731,-1911.3 8259.2467,-1911.3 "/>
<text text-anchor="middle" x="7831.1599" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7403.0731,-1886.5 8259.2467,-1886.5 "/>
<text text-anchor="start" x="7411.0731" y="-1869.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7411.0731" y="-1853.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;abs(x: int): uint</text>
<text text-anchor="start" x="7411.0731" y="-1836.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exp(x: uint): uint</text>
<text text-anchor="start" x="7411.0731" y="-1819.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exp(x: int): uint</text>
<text text-anchor="start" x="7411.0731" y="-1802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sqrt(x: uint): (y: uint)</text>
<text text-anchor="start" x="7411.0731" y="-1785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;optionPrices(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="7411.0731" y="-1769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pricesDeltaStdVega(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): PricesDeltaStdVega</text>
</g>
<!-- 0&#45;&gt;10 -->
<g id="edge27" class="edge">
<title>0&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7831.1599,-1077.1868C7831.1599,-1290.6582 7831.1599,-1570.7536 7831.1599,-1730.5686"/>
<polygon fill="none" stroke="#000000" points="7820.66,-1730.8724 7831.1599,-1760.8725 7841.66,-1730.8725 7820.66,-1730.8724"/>
</g>
<!-- 33 -->
<g id="node60" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5491.4481,-5448.9 5491.4481,-5876.1 5890.8717,-5876.1 5890.8717,-5448.9 5491.4481,-5448.9"/>
<text text-anchor="middle" x="5691.1599" y="-5859.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5691.1599" y="-5842.7" font-family="Times,serif" font-size="14.00" fill="#000000">SafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="5491.4481,-5834.5 5890.8717,-5834.5 "/>
<text text-anchor="start" x="5499.4481" y="-5817.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5499.4481" y="-5801.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: uint</text>
<text text-anchor="start" x="5499.4481" y="-5784.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5499.4481" y="-5767.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="5499.4481" y="-5750.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="5499.4481" y="-5733.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: uint</text>
<text text-anchor="start" x="5499.4481" y="-5717.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<polyline fill="none" stroke="#000000" points="5491.4481,-5708.9 5890.8717,-5708.9 "/>
<text text-anchor="start" x="5499.4481" y="-5692.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5499.4481" y="-5675.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5658.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5641.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5499.4481" y="-5625.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5608.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5591.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5574.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5557.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5541.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5524.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5507.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: uint): uint</text>
<text text-anchor="start" x="5499.4481" y="-5490.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5499.4481" y="-5473.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): uint</text>
<text text-anchor="start" x="5499.4481" y="-5457.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): uint</text>
</g>
<!-- 0&#45;&gt;33 -->
<g id="edge28" class="edge">
<title>0&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8142.5578,-1077.2341C8193.9614,-1141.8538 8239.7063,-1213.9673 8268.1599,-1290 8444.7754,-1761.9464 8615.2212,-2058.4579 8268.1599,-2423.8 8214.4444,-2480.3449 7622.368,-2404.7115 7567.1599,-2459.8 7422.9567,-2603.691 7663.5789,-3232.5379 7518.1599,-3375.2 7434.988,-3456.795 6553.3016,-3329.5742 6470.1599,-3411.2 6405.4828,-3474.6978 6440.9335,-4136.2155 6427.1599,-4225.8 6354.9416,-4695.5125 6515.2474,-4945.3548 6160.1599,-5261.2 6071.6785,-5339.9029 5994.0645,-5230.5832 5896.1599,-5297.2 5844.3668,-5332.4414 5804.2182,-5385.3274 5773.7418,-5439.9933"/>
<polygon fill="#000000" stroke="#000000" points="5770.6639,-5438.3271 5768.9333,-5448.7797 5776.8044,-5441.6877 5770.6639,-5438.3271"/>
</g>
<!-- 34 -->
<g id="node61" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6958.9165,-1643.3 6958.9165,-2070.5 7347.4033,-2070.5 7347.4033,-1643.3 6958.9165,-1643.3"/>
<text text-anchor="middle" x="7153.1599" y="-2053.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7153.1599" y="-2037.1" font-family="Times,serif" font-size="14.00" fill="#000000">SignedSafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="6958.9165,-2028.9 7347.4033,-2028.9 "/>
<text text-anchor="start" x="6966.9165" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6966.9165" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: int</text>
<text text-anchor="start" x="6966.9165" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6966.9165" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="6966.9165" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="6966.9165" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: int</text>
<text text-anchor="start" x="6966.9165" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: int</text>
<polyline fill="none" stroke="#000000" points="6958.9165,-1903.3 7347.4033,-1903.3 "/>
<text text-anchor="start" x="6966.9165" y="-1886.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6966.9165" y="-1869.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1853.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1836.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6966.9165" y="-1819.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1752.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1735.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1701.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: int): int</text>
<text text-anchor="start" x="6966.9165" y="-1685.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6966.9165" y="-1668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): int</text>
<text text-anchor="start" x="6966.9165" y="-1651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): int</text>
</g>
<!-- 0&#45;&gt;34 -->
<g id="edge29" class="edge">
<title>0&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7552.5091,-1077.1206C7495.9205,-1143.986 7439.8245,-1217.0146 7394.1599,-1290 7327.192,-1397.0342 7270.7361,-1525.913 7229.3391,-1633.7247"/>
<polygon fill="#000000" stroke="#000000" points="7226.0579,-1632.5061 7225.7579,-1643.0967 7232.5968,-1635.0047 7226.0579,-1632.5061"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7576.5336,-2687.1 7576.5336,-3147.9 8189.7862,-3147.9 8189.7862,-2687.1 7576.5336,-2687.1"/>
<text text-anchor="middle" x="7883.1599" y="-3131.3" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityCertificate</text>
<polyline fill="none" stroke="#000000" points="7576.5336,-3123.1 8189.7862,-3123.1 "/>
<text text-anchor="start" x="7584.5336" y="-3106.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7584.5336" y="-3089.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextId: uint</text>
<text text-anchor="start" x="7584.5336" y="-3072.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_certificateData: mapping(uint=&gt;CertificateData)</text>
<text text-anchor="start" x="7584.5336" y="-3056.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="7584.5336" y="-3039.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7584.5336" y="-3022.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_LIQUIDITY: uint</text>
<text text-anchor="start" x="7584.5336" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: address</text>
<polyline fill="none" stroke="#000000" points="7576.5336,-2997.5 8189.7862,-2997.5 "/>
<text text-anchor="start" x="7584.5336" y="-2980.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7584.5336" y="-2964.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(address, address, tokenId: uint)</text>
<text text-anchor="start" x="7584.5336" y="-2947.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7584.5336" y="-2930.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_liquidityPool: address)</text>
<text text-anchor="start" x="7584.5336" y="-2913.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificates(owner: address): uint[]</text>
<text text-anchor="start" x="7584.5336" y="-2896.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidity(certificateId: uint): uint</text>
<text text-anchor="start" x="7584.5336" y="-2880.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enteredAt(certificateId: uint): uint</text>
<text text-anchor="start" x="7584.5336" y="-2863.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnableAt(certificateId: uint): uint</text>
<text text-anchor="start" x="7584.5336" y="-2846.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificateData(certificateId: uint): ILiquidityCertificate.CertificateData</text>
<text text-anchor="start" x="7584.5336" y="-2829.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(owner: address, liquidityAmount: uint, expiryAtCreation: uint): uint</text>
<text text-anchor="start" x="7584.5336" y="-2812.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBurnableAt(spender: address, certificateId: uint, timestamp: uint)</text>
<text text-anchor="start" x="7584.5336" y="-2796.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(spender: address, certificateId: uint)</text>
<text text-anchor="start" x="7584.5336" y="-2779.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;split(certificateId: uint, percentageSplit: uint): uint</text>
<text text-anchor="start" x="7584.5336" y="-2762.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7584.5336" y="-2745.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateDataModified(certificateId: uint, liquidity: uint, enteredAt: uint, burnableAt: uint)</text>
<text text-anchor="start" x="7584.5336" y="-2728.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateSplit(certificateId: uint, newCertificateId: uint)</text>
<text text-anchor="start" x="7584.5336" y="-2712.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
<text text-anchor="start" x="7584.5336" y="-2695.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
</g>
<!-- 14 -->
<g id="node17" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8182.3243,-3680.5 8182.3243,-3956.5 8627.9955,-3956.5 8627.9955,-3680.5 8182.3243,-3680.5"/>
<text text-anchor="middle" x="8405.1599" y="-3939.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="8405.1599" y="-3923.1" font-family="Times,serif" font-size="14.00" fill="#000000">ILiquidityCertificate</text>
<polyline fill="none" stroke="#000000" points="8182.3243,-3914.9 8627.9955,-3914.9 "/>
<text text-anchor="middle" x="8405.1599" y="-3898.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8182.3243,-3890.1 8627.9955,-3890.1 "/>
<text text-anchor="start" x="8190.3243" y="-3873.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8190.3243" y="-3856.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;MIN_LIQUIDITY(): uint</text>
<text text-anchor="start" x="8190.3243" y="-3839.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;liquidityPool(): address</text>
<text text-anchor="start" x="8190.3243" y="-3823.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;certificates(owner: address): uint[]</text>
<text text-anchor="start" x="8190.3243" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;liquidity(certificateId: uint): uint</text>
<text text-anchor="start" x="8190.3243" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;enteredAt(certificateId: uint): uint</text>
<text text-anchor="start" x="8190.3243" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burnableAt(certificateId: uint): uint</text>
<text text-anchor="start" x="8190.3243" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;certificateData(certificateId: uint): CertificateData</text>
<text text-anchor="start" x="8190.3243" y="-3739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(owner: address, liquidityAmount: uint, expiryAtCreation: uint): uint</text>
<text text-anchor="start" x="8190.3243" y="-3722.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setBurnableAt(spender: address, certificateId: uint, timestamp: uint)</text>
<text text-anchor="start" x="8190.3243" y="-3705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(spender: address, certificateId: uint)</text>
<text text-anchor="start" x="8190.3243" y="-3688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;split(certificateId: uint, percentageSplit: uint): uint</text>
</g>
<!-- 1&#45;&gt;14 -->
<g id="edge30" class="edge">
<title>1&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8019.5295,-3148.1998C8068.2465,-3230.9993 8123.3852,-3325.1544 8173.1599,-3411.2 8219.2602,-3490.8937 8269.9245,-3579.696 8312.1153,-3653.9918"/>
<polygon fill="none" stroke="#000000" points="8303.0183,-3659.2361 8326.9573,-3680.1449 8321.2822,-3648.8711 8303.0183,-3659.2361"/>
</g>
<!-- 28 -->
<g id="node49" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7620.3081,-3411.7 7620.3081,-4225.3 8146.0117,-4225.3 8146.0117,-3411.7 7620.3081,-3411.7"/>
<text text-anchor="middle" x="7883.1599" y="-4208.7" font-family="Times,serif" font-size="14.00" fill="#000000">ERC721</text>
<polyline fill="none" stroke="#000000" points="7620.3081,-4200.5 8146.0117,-4200.5 "/>
<text text-anchor="start" x="7628.3081" y="-4183.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7628.3081" y="-4167.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_ERC721_RECEIVED: bytes4</text>
<text text-anchor="start" x="7628.3081" y="-4150.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_holderTokens: mapping(address=&gt;EnumerableSet.UintSet)</text>
<text text-anchor="start" x="7628.3081" y="-4133.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenOwners: EnumerableMap.UintToAddressMap</text>
<text text-anchor="start" x="7628.3081" y="-4116.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenApprovals: mapping(uint=&gt;address)</text>
<text text-anchor="start" x="7628.3081" y="-4099.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_operatorApprovals: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="7628.3081" y="-4083.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_name: string</text>
<text text-anchor="start" x="7628.3081" y="-4066.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_symbol: string</text>
<text text-anchor="start" x="7628.3081" y="-4049.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenURIs: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="7628.3081" y="-4032.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_baseURI: string</text>
<text text-anchor="start" x="7628.3081" y="-4015.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721: bytes4</text>
<text text-anchor="start" x="7628.3081" y="-3999.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_METADATA: bytes4</text>
<text text-anchor="start" x="7628.3081" y="-3982.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_ENUMERABLE: bytes4</text>
<polyline fill="none" stroke="#000000" points="7620.3081,-3974.1 8146.0117,-3974.1 "/>
<text text-anchor="start" x="7628.3081" y="-3957.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7628.3081" y="-3940.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkOnERC721Received(from: address, to: address, tokenId: uint, _data: bytes): bool</text>
<text text-anchor="start" x="7628.3081" y="-3923.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7628.3081" y="-3907.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeTransfer(from: address, to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="7628.3081" y="-3890.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exists(tokenId: uint): bool</text>
<text text-anchor="start" x="7628.3081" y="-3873.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isApprovedOrOwner(spender: address, tokenId: uint): bool</text>
<text text-anchor="start" x="7628.3081" y="-3856.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3839.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="7628.3081" y="-3823.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setTokenURI(tokenId: uint, _tokenURI: string)</text>
<text text-anchor="start" x="7628.3081" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setBaseURI(baseURI_: string)</text>
<text text-anchor="start" x="7628.3081" y="-3739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3722.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3705.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7628.3081" y="-3688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
<text text-anchor="start" x="7628.3081" y="-3671.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(owner: address): uint</text>
<text text-anchor="start" x="7628.3081" y="-3655.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ownerOf(tokenId: uint): address</text>
<text text-anchor="start" x="7628.3081" y="-3638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="7628.3081" y="-3621.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="7628.3081" y="-3604.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenURI(tokenId: uint): string</text>
<text text-anchor="start" x="7628.3081" y="-3587.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;baseURI(): string</text>
<text text-anchor="start" x="7628.3081" y="-3571.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenOfOwnerByIndex(owner: address, index: uint): uint</text>
<text text-anchor="start" x="7628.3081" y="-3554.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;totalSupply(): uint</text>
<text text-anchor="start" x="7628.3081" y="-3537.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenByIndex(index: uint): uint</text>
<text text-anchor="start" x="7628.3081" y="-3520.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3503.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getApproved(tokenId: uint): address</text>
<text text-anchor="start" x="7628.3081" y="-3487.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(operator: address, approved: bool)</text>
<text text-anchor="start" x="7628.3081" y="-3470.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isApprovedForAll(owner: address, operator: address): bool</text>
<text text-anchor="start" x="7628.3081" y="-3453.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3436.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="7628.3081" y="-3419.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint, _data: bytes)</text>
</g>
<!-- 1&#45;&gt;28 -->
<g id="edge31" class="edge">
<title>1&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M7883.1599,-3148.0676C7883.1599,-3219.4227 7883.1599,-3300.5323 7883.1599,-3381.0837"/>
<polygon fill="none" stroke="#000000" points="7872.66,-3381.3103 7883.1599,-3411.3103 7893.66,-3381.3104 7872.66,-3381.3103"/>
</g>
<!-- 1&#45;&gt;33 -->
<g id="edge32" class="edge">
<title>1&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7778.6541,-3147.9726C7726.6766,-3234.9597 7654.8519,-3324.9693 7562.1599,-3375.2 7458.8426,-3431.1887 6587.8036,-3327.6583 6505.1599,-3411.2 6432.8592,-3484.2862 6516.5128,-5173.9375 6462.1599,-5261.2 6339.0084,-5458.917 6084.0483,-5564.1019 5901.0118,-5616.4577"/>
<polygon fill="#000000" stroke="#000000" points="5899.9265,-5613.1273 5891.257,-5619.2176 5901.8322,-5619.8629 5899.9265,-5613.1273"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3520.3833,-1290.5 3520.3833,-2423.3 4883.9365,-2423.3 4883.9365,-1290.5 3520.3833,-1290.5"/>
<text text-anchor="middle" x="4202.1599" y="-2406.7" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityPool</text>
<polyline fill="none" stroke="#000000" points="3520.3833,-2398.5 4883.9365,-2398.5 "/>
<text text-anchor="start" x="3528.3833" y="-2381.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3528.3833" y="-2365.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="3528.3833" y="-2348.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="3528.3833" y="-2331.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityCertificate: ILiquidityCertificate</text>
<text text-anchor="start" x="3528.3833" y="-2314.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: IShortCollateral</text>
<text text-anchor="start" x="3528.3833" y="-2297.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolHedger: IPoolHedger</text>
<text text-anchor="start" x="3528.3833" y="-2281.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="3528.3833" y="-2264.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="3528.3833" y="-2247.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;INITIAL_RATE: uint</text>
<text text-anchor="start" x="3528.3833" y="-2230.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;errorMessages: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="3528.3833" y="-2213.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="3528.3833" y="-2197.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalQuoteAmountReserved: uint</text>
<text text-anchor="start" x="3528.3833" y="-2180.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tokensBurnableForRound: uint</text>
<text text-anchor="start" x="3528.3833" y="-2163.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalTokenSupply: uint</text>
<text text-anchor="start" x="3528.3833" y="-2146.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;counter: uint</text>
<text text-anchor="start" x="3528.3833" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3528.3833" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateral: Collateral</text>
<text text-anchor="start" x="3528.3833" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedQuoteFunds: uint</text>
<text text-anchor="start" x="3528.3833" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;expiryToTokenValue: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="3520.3833,-2071.3 4883.9365,-2071.3 "/>
<text text-anchor="start" x="3528.3833" y="-2054.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3528.3833" y="-2037.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-2021.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_require(pass: bool, error: Error)</text>
<text text-anchor="start" x="3528.3833" y="-2004.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3528.3833" y="-1987.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _optionMarket: IOptionMarket, _liquidityCertificate: ILiquidityCertificate, _poolHedger: IPoolHedger, _shortCollateral: IShortCollateral, _quoteAsset: IERC20, _baseAsset: IERC20, _errorMessages: string[])</text>
<text text-anchor="start" x="3528.3833" y="-1970.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(beneficiary: address, amount: uint): uint</text>
<text text-anchor="start" x="3528.3833" y="-1953.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;signalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1937.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unSignalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1920.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(beneficiary: address, certificateId: uint): (value: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1903.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;endRound()</text>
<text text-anchor="start" x="3528.3833" y="-1886.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startRound(lastMaxExpiryTimestamp: uint, newMaxExpiryTimestamp: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1869.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeBase()</text>
<text text-anchor="start" x="3528.3833" y="-1853.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockQuote(amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1836.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockBase(amount: uint, exchangeGlobals: ILyraGlobals.ExchangeGlobals, liquidity: Liquidity)</text>
<text text-anchor="start" x="3528.3833" y="-1819.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeBase(amountBase: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendPremium(recipient: address, amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;boardLiquidation(amountQuoteFreed: uint, amountQuoteReserved: uint, amountBaseFreed: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1752.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendReservedQuote(user: address, amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1735.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferQuoteToHedge(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint): uint</text>
<text text-anchor="start" x="3528.3833" y="-1718.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3528.3833" y="-1701.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposit(beneficiary: address, certificateId: uint, amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1685.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawUnSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdraw(beneficiary: address, certificateId: uint, value: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1634.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundEnded(maxExpiryTimestamp: uint, pricePerToken: uint, totalQuoteAmountReserved: uint, totalTokenSupply: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1617.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundStarted(lastMaxExpiryTimestmp: uint, newMaxExpiryTimestmp: uint, totalTokenSupply: uint, totalPoolValueQuote: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1601.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteLocked(quoteLocked: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1584.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseLocked(baseLocked: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1567.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteFreed(quoteFreed: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1550.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseFreed(baseFreed: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1533.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BasePurchased(caller: address, quoteSpent: uint, amountPurchased: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1517.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSold(caller: address, amountSold: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralLiquidated(totalAmountToLiquidate: uint, baseFreed: uint, quoteReceived: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1483.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReserved(amountQuoteReserved: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1466.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReservedQuoteSent(user: address, amount: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1449.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralQuoteTransferred(recipient: address, amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1433.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DeltaQuoteTransferredToPoolHedger(amount: uint)</text>
<text text-anchor="start" x="3528.3833" y="-1416.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="3528.3833" y="-1399.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="3528.3833" y="-1382.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="3528.3833" y="-1365.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; reentrancyGuard()</text>
<text text-anchor="start" x="3528.3833" y="-1349.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3528.3833" y="-1332.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenPriceQuote(): uint</text>
<text text-anchor="start" x="3528.3833" y="-1315.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTotalPoolValueQuote(basePrice: uint, usedDeltaLiquidity: uint): uint</text>
<text text-anchor="start" x="3528.3833" y="-1298.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidity(basePrice: uint, short: ICollateralShort): Liquidity</text>
</g>
<!-- 2&#45;&gt;14 -->
<g id="edge35" class="edge">
<title>2&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M4884.2369,-2032.2357C5437.0282,-2165.9262 6238.2979,-2340.7591 6950.1599,-2423.8 7019.11,-2431.8433 8147.181,-2413.789 8199.1599,-2459.8 8210.5058,-2469.8432 8333.6683,-3320.2592 8383.9583,-3670.4044"/>
<polygon fill="#000000" stroke="#000000" points="8380.5023,-3670.9614 8385.3882,-3680.3624 8387.4312,-3669.9664 8380.5023,-3670.9614"/>
</g>
<!-- 18 -->
<g id="node32" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2710.8296,-3630.1 2710.8296,-4006.9 3459.4902,-4006.9 3459.4902,-3630.1 2710.8296,-3630.1"/>
<text text-anchor="middle" x="3085.1599" y="-3990.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3085.1599" y="-3973.5" font-family="Times,serif" font-size="14.00" fill="#000000">IOptionMarket</text>
<polyline fill="none" stroke="#000000" points="2710.8296,-3965.3 3459.4902,-3965.3 "/>
<text text-anchor="middle" x="3085.1599" y="-3948.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2710.8296,-3940.5 3459.4902,-3940.5 "/>
<text text-anchor="start" x="2718.8296" y="-3923.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2718.8296" y="-3907.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;maxExpiryTimestamp(): uint</text>
<text text-anchor="start" x="2718.8296" y="-3890.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;optionBoards(uint): (id: uint, expiry: uint, iv: uint, frozen: bool)</text>
<text text-anchor="start" x="2718.8296" y="-3873.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;optionListings(uint): (id: uint, strike: uint, skew: uint, longCall: uint, shortCall: uint, longPut: uint, shortPut: uint, boardId: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3856.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;boardToPriceAtExpiry(uint): uint</text>
<text text-anchor="start" x="2718.8296" y="-3839.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;listingToBaseReturnedRatio(uint): uint</text>
<text text-anchor="start" x="2718.8296" y="-3823.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferOwnership(newOwner: address)</text>
<text text-anchor="start" x="2718.8296" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setBoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="2718.8296" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setBoardBaseIv(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setListingSkew(listingId: uint, skew: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;createOptionBoard(expiry: uint, baseIV: uint, strikes: uint[], skews: uint[]): uint</text>
<text text-anchor="start" x="2718.8296" y="-3739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addListingToBoard(boardId: uint, strike: uint, skew: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3722.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getLiveBoards(): (_liveBoards: uint[])</text>
<text text-anchor="start" x="2718.8296" y="-3705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBoardListings(boardId: uint): uint[]</text>
<text text-anchor="start" x="2718.8296" y="-3688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;openPosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3671.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;closePosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3655.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;liquidateExpiredBoard(boardId: uint)</text>
<text text-anchor="start" x="2718.8296" y="-3638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;settleOptions(listingId: uint, tradeType: TradeType)</text>
</g>
<!-- 2&#45;&gt;18 -->
<g id="edge34" class="edge">
<title>2&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M4599.0476,-2423.6185C4603.3978,-2435.6433 4607.4458,-2447.7093 4611.1599,-2459.8 4670.8936,-2654.2543 4752.6399,-3229.0357 4611.1599,-3375.2 4568.4413,-3419.333 3562.7157,-3387.241 3506.1599,-3411.2 3399.9101,-3456.2111 3305.1411,-3541.3348 3232.5482,-3622.1712"/>
<polygon fill="#000000" stroke="#000000" points="3229.631,-3620.1841 3225.5927,-3629.9792 3234.8578,-3624.8403 3229.631,-3620.1841"/>
</g>
<!-- 21 -->
<g id="node41" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="800.6791,-2762.7 800.6791,-3072.3 1269.6407,-3072.3 1269.6407,-2762.7 800.6791,-2762.7"/>
<text text-anchor="middle" x="1035.1599" y="-3055.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1035.1599" y="-3038.9" font-family="Times,serif" font-size="14.00" fill="#000000">IPoolHedger</text>
<polyline fill="none" stroke="#000000" points="800.6791,-3030.7 1269.6407,-3030.7 "/>
<text text-anchor="middle" x="1035.1599" y="-3014.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="800.6791,-3005.9 1269.6407,-3005.9 "/>
<text text-anchor="start" x="808.6791" y="-2989.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="808.6791" y="-2972.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;shortingInitialized(): bool</text>
<text text-anchor="start" x="808.6791" y="-2955.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;shortId(): uint</text>
<text text-anchor="start" x="808.6791" y="-2938.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;shortBuffer(): uint</text>
<text text-anchor="start" x="808.6791" y="-2922.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;lastInteraction(): uint</text>
<text text-anchor="start" x="808.6791" y="-2905.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;interactionDelay(): uint</text>
<text text-anchor="start" x="808.6791" y="-2888.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setShortBuffer(newShortBuffer: uint)</text>
<text text-anchor="start" x="808.6791" y="-2871.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setInteractionDelay(newInteractionDelay: uint)</text>
<text text-anchor="start" x="808.6791" y="-2854.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initShort()</text>
<text text-anchor="start" x="808.6791" y="-2838.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;reopenShort()</text>
<text text-anchor="start" x="808.6791" y="-2821.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;hedgeDelta()</text>
<text text-anchor="start" x="808.6791" y="-2804.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getShortPosition(short: ICollateralShort): (shortBalance: uint, collateral: uint)</text>
<text text-anchor="start" x="808.6791" y="-2787.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="808.6791" y="-2770.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getValueQuote(short: ICollateralShort, spotPrice: uint): (value: uint)</text>
</g>
<!-- 2&#45;&gt;21 -->
<g id="edge37" class="edge">
<title>2&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M3520.2624,-2405.6966C3504.6501,-2412.1871 3488.9426,-2418.238 3473.1599,-2423.8 3360.1237,-2463.6354 1420.2608,-2400.4113 1316.1599,-2459.8 1205.4083,-2522.9828 1132.7971,-2649.2643 1089.181,-2753.205"/>
<polygon fill="#000000" stroke="#000000" points="1085.9025,-2751.9744 1085.3109,-2762.5527 1092.3701,-2754.6522 1085.9025,-2751.9744"/>
</g>
<!-- 22 -->
<g id="node42" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3615.7421,-2838.3 3615.7421,-2996.7 4602.5777,-2996.7 4602.5777,-2838.3 3615.7421,-2838.3"/>
<text text-anchor="middle" x="4109.1599" y="-2980.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4109.1599" y="-2963.3" font-family="Times,serif" font-size="14.00" fill="#000000">IShortCollateral</text>
<polyline fill="none" stroke="#000000" points="3615.7421,-2955.1 4602.5777,-2955.1 "/>
<text text-anchor="middle" x="4109.1599" y="-2938.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3615.7421,-2930.3 4602.5777,-2930.3 "/>
<text text-anchor="start" x="3623.7421" y="-2913.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3623.7421" y="-2896.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="3623.7421" y="-2880.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="3623.7421" y="-2863.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sendToLP(amountBase: uint, amountQuote: uint)</text>
<text text-anchor="start" x="3623.7421" y="-2846.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;processSettle(listingId: uint, receiver: address, tradeType: IOptionMarket.TradeType, amount: uint, strike: uint, priceAtExpiry: uint, listingToShortCallEthReturned: uint)</text>
</g>
<!-- 2&#45;&gt;22 -->
<g id="edge36" class="edge">
<title>2&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M4152.4607,-2423.6843C4138.6255,-2581.4656 4125.1697,-2734.9194 4117.0236,-2827.8202"/>
<polygon fill="#000000" stroke="#000000" points="4113.5171,-2827.7422 4116.1301,-2838.0098 4120.4903,-2828.3538 4113.5171,-2827.7422"/>
</g>
<!-- 2&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>2&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4667.2874,-2423.3848C4672.5669,-2435.4596 4677.5354,-2447.6025 4682.1599,-2459.8 4718.2669,-2555.0359 4659.978,-3301.3887 4730.1599,-3375.2 4783.8843,-3431.7027 5024.0847,-3356.0131 5079.1599,-3411.2 5213.3641,-3545.6763 5151.0423,-4072.3394 5165.1599,-4261.8 5173.421,-4372.6651 5163.7852,-5161.5935 5213.1599,-5261.2 5271.7273,-5379.3516 5382.6408,-5475.8612 5482.8926,-5544.6029"/>
<polygon fill="#000000" stroke="#000000" points="5481.0835,-5547.6052 5491.3209,-5550.3344 5485.0199,-5541.8168 5481.0835,-5547.6052"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6590.281,-4262.3 6590.281,-5260.7 7502.0388,-5260.7 7502.0388,-4262.3 6590.281,-4262.3"/>
<text text-anchor="middle" x="7046.1599" y="-5244.1" font-family="Times,serif" font-size="14.00" fill="#000000">LyraGlobals</text>
<polyline fill="none" stroke="#000000" points="6590.281,-5235.9 7502.0388,-5235.9 "/>
<text text-anchor="start" x="6598.281" y="-5219.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6598.281" y="-5202.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="6598.281" y="-5185.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchanger: IExchanger</text>
<text text-anchor="start" x="6598.281" y="-5168.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangeRates: IExchangeRates</text>
<text text-anchor="start" x="6598.281" y="-5152.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralShort: ICollateralShort</text>
<text text-anchor="start" x="6598.281" y="-5135.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPaused: bool</text>
<text text-anchor="start" x="6598.281" y="-5118.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingCutoff: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5101.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5084.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;spotPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5068.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5051.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaNormFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5034.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;standardSize: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5017.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;skewAdjustmentFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-5000.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rateAndCarry: mapping(address=&gt;int)</text>
<text text-anchor="start" x="6598.281" y="-4984.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minDelta: mapping(address=&gt;int)</text>
<text text-anchor="start" x="6598.281" y="-4967.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;volatilityCutoff: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="6598.281" y="-4950.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4933.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseKey: mapping(address=&gt;bytes32)</text>
<polyline fill="none" stroke="#000000" points="6590.281,-4925.5 7502.0388,-4925.5 "/>
<text text-anchor="start" x="6598.281" y="-4908.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6598.281" y="-4892.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobals(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="6598.281" y="-4875.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _tradingCutoff: uint, pricingGlobals: PricingGlobals, _quoteKey: bytes32, _baseKey: bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4858.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaused(_isPaused: bool)</text>
<text text-anchor="start" x="6598.281" y="-4841.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): uint</text>
<text text-anchor="start" x="6598.281" y="-4824.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricingGlobals(_contractAddress: address): PricingGlobals</text>
<text text-anchor="start" x="6598.281" y="-4808.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGreekCacheGlobals(_contractAddress: address): GreekCacheGlobals</text>
<text text-anchor="start" x="6598.281" y="-4791.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalsForOptionTrade(_contractAddress: address, isBuy: bool): (pricingGlobals: PricingGlobals, exchangeGlobals: ExchangeGlobals, tradeCutoff: uint)</text>
<text text-anchor="start" x="6598.281" y="-4774.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6598.281" y="-4757.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalsSet(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="6598.281" y="-4740.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Paused(isPaused: bool)</text>
<text text-anchor="start" x="6598.281" y="-4724.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradingCutoffSet(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="6598.281" y="-4707.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionPriceFeeCoefficientSet(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4690.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SpotPriceFeeCoefficientSet(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4673.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaFeeCoefficientSet(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4656.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StandardSizeSet(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="6598.281" y="-4640.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SkewAdjustmentFactorSet(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="6598.281" y="-4623.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaNormFactorSet(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="6598.281" y="-4606.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RateAndCarrySet(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="6598.281" y="-4589.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinDeltaSet(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="6598.281" y="-4572.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VolatilityCutoffSet(_contractAddress: address, _volatilityCutoff: uint)</text>
<text text-anchor="start" x="6598.281" y="-4556.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteKeySet(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4539.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseKeySet(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notPaused()</text>
<text text-anchor="start" x="6598.281" y="-4505.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="6598.281" y="-4488.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTradingCutoff(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="6598.281" y="-4472.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOptionPriceFeeCoefficient(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4455.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSpotPriceFeeCoefficient(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4438.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaFeeCoefficient(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="6598.281" y="-4421.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaNormFactor(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="6598.281" y="-4404.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStandardSize(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="6598.281" y="-4388.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSkewAdjustmentFactor(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="6598.281" y="-4371.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndCarry(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="6598.281" y="-4354.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMinDelta(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="6598.281" y="-4337.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVolatilityCutoff(_contractAddress: address, _volatilityCutoff: uint)</text>
<text text-anchor="start" x="6598.281" y="-4320.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setQuoteKey(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4304.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBaseKey(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="6598.281" y="-4287.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="6598.281" y="-4270.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeGlobals(_contractAddress: address, exchangeType: ExchangeType): (exchangeGlobals: ExchangeGlobals)</text>
</g>
<!-- 11 -->
<g id="node13" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2365.9326,-6064.3 2365.9326,-6340.3 2838.3872,-6340.3 2838.3872,-6064.3 2365.9326,-6064.3"/>
<text text-anchor="middle" x="2602.1599" y="-6323.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2602.1599" y="-6306.9" font-family="Times,serif" font-size="14.00" fill="#000000">ICollateralShort</text>
<polyline fill="none" stroke="#000000" points="2365.9326,-6298.7 2838.3872,-6298.7 "/>
<text text-anchor="middle" x="2602.1599" y="-6282.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2365.9326,-6273.9 2838.3872,-6273.9 "/>
<text text-anchor="start" x="2373.9326" y="-6257.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2373.9326" y="-6240.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;loans(id: uint): (uint, address, uint, bytes32, uint, bool, uint, uint, uint)</text>
<text text-anchor="start" x="2373.9326" y="-6223.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCratio(): uint</text>
<text text-anchor="start" x="2373.9326" y="-6206.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCollateral(): uint</text>
<text text-anchor="start" x="2373.9326" y="-6190.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;issueFeeRate(): uint</text>
<text text-anchor="start" x="2373.9326" y="-6173.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6156.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repay(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6139.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repayWithCollateral(id: uint, repayAmount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6122.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;draw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6106.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6089.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2373.9326" y="-6072.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (short: uint, collateral: uint)</text>
</g>
<!-- 3&#45;&gt;11 -->
<g id="edge42" class="edge">
<title>3&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M6629.1992,-5261.0023C6623.8282,-5272.9929 6618.8014,-5285.0643 6614.1599,-5297.2 6585.1212,-5373.1237 6634.6915,-5971.3934 6576.1599,-6027.8 6528.1307,-6074.0855 4241.7737,-6060.3725 4175.1599,-6063.8 3705.077,-6087.987 3157.9725,-6142.0316 2848.6212,-6175.0029"/>
<polygon fill="#000000" stroke="#000000" points="2848.2001,-6171.5279 2838.6281,-6176.0695 2848.9431,-6178.4884 2848.2001,-6171.5279"/>
</g>
<!-- 12 -->
<g id="node15" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6702.1959,-6148.3 6702.1959,-6256.3 7108.1239,-6256.3 7108.1239,-6148.3 6702.1959,-6148.3"/>
<text text-anchor="middle" x="6905.1599" y="-6239.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6905.1599" y="-6222.9" font-family="Times,serif" font-size="14.00" fill="#000000">IExchangeRates</text>
<polyline fill="none" stroke="#000000" points="6702.1959,-6214.7 7108.1239,-6214.7 "/>
<text text-anchor="middle" x="6905.1599" y="-6198.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6702.1959,-6189.9 7108.1239,-6189.9 "/>
<text text-anchor="start" x="6710.1959" y="-6173.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6710.1959" y="-6156.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, isInvalid: bool)</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge41" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M6707.085,-5260.9216C6702.7652,-5272.9802 6698.7767,-5285.0804 6695.1599,-5297.2 6671.9456,-5374.9877 6660.6762,-5954.3105 6695.1599,-6027.8 6717.2008,-6074.7723 6758.7856,-6113.4783 6799.1719,-6142.3995"/>
<polygon fill="#000000" stroke="#000000" points="6797.2982,-6145.3605 6807.4951,-6148.2372 6801.3178,-6139.6295 6797.2982,-6145.3605"/>
</g>
<!-- 13 -->
<g id="node16" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7159.9174,-6148.3 7159.9174,-6256.3 7822.4024,-6256.3 7822.4024,-6148.3 7159.9174,-6148.3"/>
<text text-anchor="middle" x="7491.1599" y="-6239.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="7491.1599" y="-6222.9" font-family="Times,serif" font-size="14.00" fill="#000000">IExchanger</text>
<polyline fill="none" stroke="#000000" points="7159.9174,-6214.7 7822.4024,-6214.7 "/>
<text text-anchor="middle" x="7491.1599" y="-6198.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7159.9174,-6189.9 7822.4024,-6189.9 "/>
<text text-anchor="start" x="7167.9174" y="-6173.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7167.9174" y="-6156.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
</g>
<!-- 3&#45;&gt;13 -->
<g id="edge40" class="edge">
<title>3&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M7111.7167,-5260.7358C7112.9235,-5273.006 7114.0744,-5285.1758 7115.1599,-5297.2 7122.4684,-5378.1583 7109.0832,-5959.4999 7153.1599,-6027.8 7186.9106,-6080.0993 7241.6259,-6117.542 7297.2935,-6143.9784"/>
<polygon fill="#000000" stroke="#000000" points="7296.0515,-6147.2604 7306.596,-6148.2919 7298.9962,-6140.9099 7296.0515,-6147.2604"/>
</g>
<!-- 25 -->
<g id="node46" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4183.7238,-6139.9 4183.7238,-6264.7 5124.596,-6264.7 5124.596,-6139.9 4183.7238,-6139.9"/>
<text text-anchor="middle" x="4654.1599" y="-6248.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4654.1599" y="-6231.3" font-family="Times,serif" font-size="14.00" fill="#000000">ISynthetix</text>
<polyline fill="none" stroke="#000000" points="4183.7238,-6223.1 5124.596,-6223.1 "/>
<text text-anchor="middle" x="4654.1599" y="-6206.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4183.7238,-6198.3 5124.596,-6198.3 "/>
<text text-anchor="start" x="4191.7238" y="-6181.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4191.7238" y="-6164.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="4191.7238" y="-6148.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 3&#45;&gt;25 -->
<g id="edge39" class="edge">
<title>3&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M6684.2699,-5260.7927C6679.2386,-5272.8903 6674.5219,-5285.0334 6670.1599,-5297.2 6615.2064,-5450.4785 6728.5892,-5911.9548 6614.1599,-6027.8 6512.1357,-6131.0865 5681.412,-6174.1452 5134.7047,-6191.4198"/>
<polygon fill="#000000" stroke="#000000" points="5134.5502,-6187.9228 5124.6651,-6191.7351 5134.7701,-6194.9194 5134.5502,-6187.9228"/>
</g>
<!-- 3&#45;&gt;33 -->
<g id="edge38" class="edge">
<title>3&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6590.039,-5223.0982C6572.8435,-5236.3208 6555.5268,-5249.0668 6538.1599,-5261.2 6337.0065,-5401.7333 6078.9284,-5515.9511 5900.7916,-5586.0912"/>
<polygon fill="#000000" stroke="#000000" points="5899.337,-5582.9021 5891.3071,-5589.8138 5901.8946,-5589.4182 5899.337,-5582.9021"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4346.8229,-322.3 4346.8229,-1253.5 5849.4969,-1253.5 5849.4969,-322.3 4346.8229,-322.3"/>
<text text-anchor="middle" x="5098.1599" y="-1236.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionGreekCache</text>
<polyline fill="none" stroke="#000000" points="4346.8229,-1228.7 5849.4969,-1228.7 "/>
<text text-anchor="start" x="4354.8229" y="-1212.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4354.8229" y="-1195.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="4354.8229" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="4354.8229" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: IOptionMarketPricer</text>
<text text-anchor="start" x="4354.8229" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: IBlackScholes</text>
<text text-anchor="start" x="4354.8229" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="4354.8229" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4354.8229" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_LISTINGS_PER_BOARD: uint</text>
<text text-anchor="start" x="4354.8229" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;staleUpdateDuration: uint</text>
<text text-anchor="start" x="4354.8229" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;priceScalingPeriod: uint</text>
<text text-anchor="start" x="4354.8229" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxAcceptablePercent: uint</text>
<text text-anchor="start" x="4354.8229" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minAcceptablePercent: uint</text>
<text text-anchor="start" x="4354.8229" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="4354.8229" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingCaches: mapping(uint=&gt;OptionListingCache)</text>
<text text-anchor="start" x="4354.8229" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardCaches: mapping(uint=&gt;OptionBoardCache)</text>
<text text-anchor="start" x="4354.8229" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globalCache: GlobalCache</text>
<polyline fill="none" stroke="#000000" points="4346.8229,-951.9 5849.4969,-951.9 "/>
<text text-anchor="start" x="4354.8229" y="-935.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4354.8229" y="-918.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addNewListingToListingCache(boardCache: OptionBoardCache, listingId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-901.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketListing(listingId: uint): IOptionMarket.OptionListing</text>
<text text-anchor="start" x="4354.8229" y="-884.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateAllStaleBoards(greekCacheGlobals: ILyraGlobals.GreekCacheGlobals)</text>
<text text-anchor="start" x="4354.8229" y="-868.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardCachedGreeks(greekCacheGlobals: ILyraGlobals.GreekCacheGlobals, boardCacheId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateListingCachedGreeks(greekCacheGlobals: ILyraGlobals.GreekCacheGlobals, listingCache: OptionListingCache, boardCache: OptionBoardCache, returnCallPrice: bool, newCallExposure: int, newPutExposure: int): (pricing: IOptionMarketPricer.Pricing)</text>
<text text-anchor="start" x="4354.8229" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isGlobalCacheStale(spotPrice: uint): bool</text>
<text text-anchor="start" x="4354.8229" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isBoardCacheStale(boardCacheId: uint, spotPrice: uint): bool</text>
<text text-anchor="start" x="4354.8229" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isUpdatedAtTimeStale(updatedAt: uint): bool</text>
<text text-anchor="start" x="4354.8229" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPriceMoveAcceptable(pastPrice: uint, currentPrice: uint, timeToExpirySec: uint): bool</text>
<text text-anchor="start" x="4354.8229" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardLastUpdatedAt(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="4354.8229" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateGlobalLastUpdatedAt()</text>
<text text-anchor="start" x="4354.8229" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): uint</text>
<text text-anchor="start" x="4354.8229" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSecondsTo(fromTime: uint, toTime: uint): uint</text>
<text text-anchor="start" x="4354.8229" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentPrice(): uint</text>
<text text-anchor="start" x="4354.8229" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4354.8229" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _optionMarket: IOptionMarket, _optionPricer: IOptionMarketPricer, _blackScholes: IBlackScholes)</text>
<text text-anchor="start" x="4354.8229" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStaleCacheParameters(_staleUpdateDuration: uint, _priceScalingPeriod: uint, _maxAcceptablePercent: uint, _minAcceptablePercent: uint)</text>
<text text-anchor="start" x="4354.8229" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBoard(boardId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeBoard(boardId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardIv(boardId: uint, newIv: uint)</text>
<text text-anchor="start" x="4354.8229" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setListingSkew(listingId: uint, newSkew: uint)</text>
<text text-anchor="start" x="4354.8229" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addListingToBoard(boardId: uint, listingId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateAllStaleBoards(): int</text>
<text text-anchor="start" x="4354.8229" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateBoardCachedGreeks(boardCacheId: uint)</text>
<text text-anchor="start" x="4354.8229" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateListingCacheAndGetPrice(greekCacheGlobals: ILyraGlobals.GreekCacheGlobals, listingCacheId: uint, newCallExposure: int, newPutExposure: int, iv: uint, skew: uint): IOptionMarketPricer.Pricing</text>
<text text-anchor="start" x="4354.8229" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isGlobalCacheStale(): bool</text>
<text text-anchor="start" x="4354.8229" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isBoardCacheStale(boardCacheId: uint): bool</text>
<text text-anchor="start" x="4354.8229" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalNetDelta(): int</text>
<text text-anchor="start" x="4354.8229" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4354.8229" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StaleCacheParametersUpdated(priceScalingPeriod: uint, minAcceptablePercent: uint, maxAcceptablePercent: uint, staleUpdateDuration: uint)</text>
<text text-anchor="start" x="4354.8229" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingGreeksUpdated(listingId: uint, callDelta: int, putDelta: int, vega: uint, price: uint, baseIv: uint, skew: uint)</text>
<text text-anchor="start" x="4354.8229" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingExposureUpdated(listingId: uint, newCallExposure: int, newPutExposure: int)</text>
<text text-anchor="start" x="4354.8229" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalCacheUpdated(netDelta: int, netStdVega: int)</text>
<text text-anchor="start" x="4354.8229" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="4354.8229" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarketPricer()</text>
<text text-anchor="start" x="4354.8229" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 4&#45;&gt;10 -->
<g id="edge49" class="edge">
<title>4&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M5849.7405,-1209.0114C5897.4376,-1226.3946 5945.4595,-1241.6538 5993.1599,-1254 6139.8241,-1291.9609 7219.7374,-1224.1189 7356.1599,-1290 7558.339,-1387.6363 7705.9326,-1616.3751 7779.1841,-1751.5697"/>
<polygon fill="#000000" stroke="#000000" points="7776.296,-1753.589 7784.1154,-1760.7379 7782.4608,-1750.2731 7776.296,-1753.589"/>
</g>
<!-- 16 -->
<g id="node23" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3412.531,-5297.7 3412.531,-6027.3 4327.7888,-6027.3 4327.7888,-5297.7 3412.531,-5297.7"/>
<text text-anchor="middle" x="3870.1599" y="-6010.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3870.1599" y="-5993.9" font-family="Times,serif" font-size="14.00" fill="#000000">ILyraGlobals</text>
<polyline fill="none" stroke="#000000" points="3412.531,-5985.7 4327.7888,-5985.7 "/>
<text text-anchor="middle" x="3870.1599" y="-5969.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3412.531,-5960.9 4327.7888,-5960.9 "/>
<text text-anchor="start" x="3420.531" y="-5944.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3420.531" y="-5927.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;synthetix(): ISynthetix</text>
<text text-anchor="start" x="3420.531" y="-5910.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchanger(): IExchanger</text>
<text text-anchor="start" x="3420.531" y="-5893.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeRates(): IExchangeRates</text>
<text text-anchor="start" x="3420.531" y="-5877.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;collateralShort(): ICollateralShort</text>
<text text-anchor="start" x="3420.531" y="-5860.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPaused(): bool</text>
<text text-anchor="start" x="3420.531" y="-5843.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tradingCutoff(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5826.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;optionPriceFeeCoefficient(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5809.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;spotPriceFeeCoefficient(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5793.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;vegaFeeCoefficient(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5776.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;vegaNormFactor(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5759.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;standardSize(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5742.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;skewAdjustmentFactor(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5725.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rateAndCarry(address): int</text>
<text text-anchor="start" x="3420.531" y="-5709.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minDelta(address): int</text>
<text text-anchor="start" x="3420.531" y="-5692.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;volatilityCutoff(address): uint</text>
<text text-anchor="start" x="3420.531" y="-5675.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;quoteKey(address): bytes32</text>
<text text-anchor="start" x="3420.531" y="-5658.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;baseKey(address): bytes32</text>
<text text-anchor="start" x="3420.531" y="-5641.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setGlobals(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="3420.531" y="-5625.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _tradingCutoff: uint, pricingGlobals: PricingGlobals, _quoteKey: bytes32, _baseKey: bytes32)</text>
<text text-anchor="start" x="3420.531" y="-5608.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPaused(_isPaused: bool)</text>
<text text-anchor="start" x="3420.531" y="-5591.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setTradingCutoff(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="3420.531" y="-5574.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setOptionPriceFeeCoefficient(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="3420.531" y="-5557.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setSpotPriceFeeCoefficient(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="3420.531" y="-5541.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setVegaFeeCoefficient(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="3420.531" y="-5524.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setVegaNormFactor(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="3420.531" y="-5507.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setStandardSize(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="3420.531" y="-5490.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setSkewAdjustmentFactor(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="3420.531" y="-5473.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setRateAndCarry(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="3420.531" y="-5457.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setMinDelta(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="3420.531" y="-5440.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setVolatilityCutoff(_contractAddress: address, _volatilityCutoff: uint)</text>
<text text-anchor="start" x="3420.531" y="-5423.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setQuoteKey(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="3420.531" y="-5406.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setBaseKey(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="3420.531" y="-5389.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): uint</text>
<text text-anchor="start" x="3420.531" y="-5373.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="3420.531" y="-5356.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPricingGlobals(_contractAddress: address): PricingGlobals</text>
<text text-anchor="start" x="3420.531" y="-5339.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getGreekCacheGlobals(_contractAddress: address): GreekCacheGlobals</text>
<text text-anchor="start" x="3420.531" y="-5322.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getExchangeGlobals(_contractAddress: address, exchangeType: ExchangeType): (exchangeGlobals: ExchangeGlobals)</text>
<text text-anchor="start" x="3420.531" y="-5305.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getGlobalsForOptionTrade(_contractAddress: address, isBuy: bool): (pricingGlobals: PricingGlobals, exchangeGlobals: ExchangeGlobals, tradeCutoff: uint)</text>
</g>
<!-- 4&#45;&gt;16 -->
<g id="edge46" class="edge">
<title>4&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M5169.2561,-1253.6208C5197.6411,-1604.7645 5179.8613,-2082.5544 4948.1599,-2423.8 4928.2856,-2453.0705 4897.7082,-2430.9986 4877.1599,-2459.8 4638.6071,-2794.1665 5049.1207,-3093.5427 4750.1599,-3375.2 4675.6905,-3445.3592 4365.5073,-3340.9116 4291.1599,-3411.2 4152.5544,-3542.2382 4192.7702,-4071.7827 4176.1599,-4261.8 4156.8043,-4483.2223 4204.5308,-5049.7103 4136.1599,-5261.2 4133.2497,-5270.2018 4130.077,-5279.1921 4126.6705,-5288.1542"/>
<polygon fill="#000000" stroke="#000000" points="4123.4051,-5286.8944 4123.0372,-5297.4829 4129.9279,-5289.4349 4123.4051,-5286.8944"/>
</g>
<!-- 17 -->
<g id="node28" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="978.6491,-1634.9 978.6491,-2078.9 2165.6707,-2078.9 2165.6707,-1634.9 978.6491,-1634.9"/>
<text text-anchor="middle" x="1572.1599" y="-2062.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1572.1599" y="-2045.5" font-family="Times,serif" font-size="14.00" fill="#000000">IOptionGreekCache</text>
<polyline fill="none" stroke="#000000" points="978.6491,-2037.3 2165.6707,-2037.3 "/>
<text text-anchor="middle" x="1572.1599" y="-2020.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="978.6491,-2012.5 2165.6707,-2012.5 "/>
<text text-anchor="start" x="986.6491" y="-1995.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="986.6491" y="-1979.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;MAX_LISTINGS_PER_BOARD(): uint</text>
<text text-anchor="start" x="986.6491" y="-1962.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;staleUpdateDuration(): uint</text>
<text text-anchor="start" x="986.6491" y="-1945.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;priceScalingPeriod(): uint</text>
<text text-anchor="start" x="986.6491" y="-1928.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;maxAcceptablePercent(): uint</text>
<text text-anchor="start" x="986.6491" y="-1911.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minAcceptablePercent(): uint</text>
<text text-anchor="start" x="986.6491" y="-1895.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;liveBoards(uint): uint</text>
<text text-anchor="start" x="986.6491" y="-1878.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;listingCaches(uint): (id: uint, strike: uint, skew: uint, boardId: uint, callDelta: int, putDelta: int, stdVega: uint, callExposure: int, putExposure: int, updatedAt: uint, updatedAtPrice: uint)</text>
<text text-anchor="start" x="986.6491" y="-1861.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;boardCaches(uint): (id: uint, expiry: uint, iv: uint, minUpdatedAt: uint, minUpdatedAtPrice: uint, maxUpdatedAtPrice: uint, netDelta: int, netStdVega: int)</text>
<text text-anchor="start" x="986.6491" y="-1844.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;globalCache(): (netDelta: int, netStdVega: int, minUpdatedAt: uint, minUpdatedAtPrice: uint, maxUpdatedAtPrice: uint, minExpiryTimestamp: uint)</text>
<text text-anchor="start" x="986.6491" y="-1827.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setStaleCacheParameters(_staleUpdateDuration: uint, _priceScalingPeriod: uint, _maxAcceptablePercent: uint, _minAcceptablePercent: uint)</text>
<text text-anchor="start" x="986.6491" y="-1811.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addBoard(boardId: uint)</text>
<text text-anchor="start" x="986.6491" y="-1794.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeBoard(boardId: uint)</text>
<text text-anchor="start" x="986.6491" y="-1777.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setBoardIv(boardId: uint, newIv: uint)</text>
<text text-anchor="start" x="986.6491" y="-1760.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setListingSkew(listingId: uint, newSkew: uint)</text>
<text text-anchor="start" x="986.6491" y="-1743.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addListingToBoard(boardId: uint, listingId: uint)</text>
<text text-anchor="start" x="986.6491" y="-1727.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateAllStaleBoards(): int</text>
<text text-anchor="start" x="986.6491" y="-1710.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateBoardCachedGreeks(boardCacheId: uint)</text>
<text text-anchor="start" x="986.6491" y="-1693.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateListingCacheAndGetPrice(greekCacheGlobals: ILyraGlobals.GreekCacheGlobals, listingCacheId: uint, newCallExposure: int, newPutExposure: int, iv: uint, skew: uint): IOptionMarketPricer.Pricing</text>
<text text-anchor="start" x="986.6491" y="-1676.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isGlobalCacheStale(): bool</text>
<text text-anchor="start" x="986.6491" y="-1659.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isBoardCacheStale(boardCacheId: uint): bool</text>
<text text-anchor="start" x="986.6491" y="-1643.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getGlobalNetDelta(): int</text>
</g>
<!-- 4&#45;&gt;17 -->
<g id="edge43" class="edge">
<title>4&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4346.7974,-1251.4427C4343.9184,-1252.309 4341.0392,-1253.1615 4338.1599,-1254 4107.3806,-1321.2089 2397.8774,-1199.5953 2175.1599,-1290 2010.8272,-1356.7053 1864.781,-1490.8748 1757.5902,-1611.945"/>
<polygon fill="none" stroke="#000000" points="1749.489,-1605.2592 1737.6936,-1634.774 1765.3202,-1619.0569 1749.489,-1605.2592"/>
</g>
<!-- 4&#45;&gt;18 -->
<g id="edge47" class="edge">
<title>4&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M4980.2509,-1253.7279C4978.089,-1265.9205 4976.0518,-1278.027 4974.1599,-1290 4954.4474,-1414.751 4967.0455,-2321.368 4893.1599,-2423.8 4868.6795,-2457.7385 4832.0027,-2426.8871 4806.1599,-2459.8 4551.9439,-2783.565 4973.4081,-3102.3767 4665.1599,-3375.2 4616.9206,-3417.8955 3565.4957,-3386.1163 3506.1599,-3411.2 3399.876,-3456.1305 3305.1031,-3541.245 3232.5165,-3622.0962"/>
<polygon fill="#000000" stroke="#000000" points="3229.5985,-3620.1101 3225.5616,-3629.9057 3234.826,-3624.7656 3229.5985,-3620.1101"/>
</g>
<!-- 19 -->
<g id="node38" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1325.3546,-2829.9 1325.3546,-3005.1 2562.9652,-3005.1 2562.9652,-2829.9 1325.3546,-2829.9"/>
<text text-anchor="middle" x="1944.1599" y="-2988.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1944.1599" y="-2971.7" font-family="Times,serif" font-size="14.00" fill="#000000">IOptionMarketPricer</text>
<polyline fill="none" stroke="#000000" points="1325.3546,-2963.5 2562.9652,-2963.5 "/>
<text text-anchor="middle" x="1944.1599" y="-2946.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1325.3546,-2938.7 2562.9652,-2938.7 "/>
<text text-anchor="start" x="1333.3546" y="-2922.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1333.3546" y="-2905.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;ivImpactForTrade(listing: IOptionMarket.OptionListing, trade: IOptionMarket.Trade, pricingGlobals: ILyraGlobals.PricingGlobals, boardBaseIv: uint): (uint, uint)</text>
<text text-anchor="start" x="1333.3546" y="-2888.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateCacheAndGetTotalCost(listing: IOptionMarket.OptionListing, trade: IOptionMarket.Trade, pricingGlobals: ILyraGlobals.PricingGlobals, boardBaseIv: uint): (totalCost: uint, newBaseIv: uint, newSkew: uint)</text>
<text text-anchor="start" x="1333.3546" y="-2871.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPremium(trade: IOptionMarket.Trade, pricing: Pricing, pricingGlobals: ILyraGlobals.PricingGlobals): (premium: uint)</text>
<text text-anchor="start" x="1333.3546" y="-2854.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getVegaUtil(trade: IOptionMarket.Trade, pricing: Pricing, pricingGlobals: ILyraGlobals.PricingGlobals): (vegaUtil: uint)</text>
<text text-anchor="start" x="1333.3546" y="-2838.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getFee(pricingGlobals: ILyraGlobals.PricingGlobals, amount: uint, optionPrice: uint, vegaUtil: uint): (fee: uint)</text>
</g>
<!-- 4&#45;&gt;19 -->
<g id="edge48" class="edge">
<title>4&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M4346.7942,-1251.4318C4343.9163,-1252.3016 4341.0381,-1253.1578 4338.1599,-1254 4238.1669,-1283.2592 2538.5675,-1218.1086 2463.1599,-1290 2371.7751,-1377.1236 2436.2266,-2307.4636 2387.1599,-2423.8 2318.1226,-2587.4864 2171.4255,-2733.1725 2065.7326,-2823.1141"/>
<polygon fill="#000000" stroke="#000000" points="2063.2499,-2820.6299 2057.8766,-2829.7611 2067.7713,-2825.9738 2063.2499,-2820.6299"/>
</g>
<!-- 4&#45;&gt;33 -->
<g id="edge44" class="edge">
<title>4&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5257.3244,-1253.6791C5363.1517,-1585.6577 5494.2052,-2044.8289 5559.1599,-2459.8 5590.6453,-2660.9482 5578.1599,-2713.9026 5578.1599,-2917.5 5578.1599,-2917.5 5578.1599,-2917.5 5578.1599,-3818.5 5578.1599,-4403.8898 5635.5959,-5091.8583 5668.571,-5438.5969"/>
<polygon fill="#000000" stroke="#000000" points="5665.1062,-5439.1327 5669.5394,-5448.7554 5672.0746,-5438.4684 5665.1062,-5439.1327"/>
</g>
<!-- 4&#45;&gt;34 -->
<g id="edge45" class="edge">
<title>4&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5849.5512,-1179.2681C5898.1476,-1204.5623 5946.3411,-1229.642 5993.1599,-1254 6328.2035,-1428.3103 6717.7967,-1630.7457 6949.465,-1751.0954"/>
<polygon fill="#000000" stroke="#000000" points="6948.1775,-1754.3706 6958.665,-1755.8747 6951.4045,-1748.1588 6948.1775,-1754.3706"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5605.8612,-2460.3 5605.8612,-3374.7 7142.4586,-3374.7 7142.4586,-2460.3 5605.8612,-2460.3"/>
<text text-anchor="middle" x="6374.1599" y="-3358.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarket</text>
<polyline fill="none" stroke="#000000" points="5605.8612,-3349.9 7142.4586,-3349.9 "/>
<text text-anchor="start" x="5613.8612" y="-3333.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5613.8612" y="-3316.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="5613.8612" y="-3299.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: ILiquidityPool</text>
<text text-anchor="start" x="5613.8612" y="-3282.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: IOptionMarketPricer</text>
<text text-anchor="start" x="5613.8612" y="-3266.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: IOptionGreekCache</text>
<text text-anchor="start" x="5613.8612" y="-3249.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: IShortCollateral</text>
<text text-anchor="start" x="5613.8612" y="-3232.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: IOptionToken</text>
<text text-anchor="start" x="5613.8612" y="-3215.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="5613.8612" y="-3198.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="5613.8612" y="-3182.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;errorMessages: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="5613.8612" y="-3165.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="5613.8612" y="-3148.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="5613.8612" y="-3131.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextListingId: uint</text>
<text text-anchor="start" x="5613.8612" y="-3114.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextBoardId: uint</text>
<text text-anchor="start" x="5613.8612" y="-3098.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="5613.8612" y="-3081.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5613.8612" y="-3064.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxExpiryTimestamp: uint</text>
<text text-anchor="start" x="5613.8612" y="-3047.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionBoards: mapping(uint=&gt;OptionBoard)</text>
<text text-anchor="start" x="5613.8612" y="-3030.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionListings: mapping(uint=&gt;OptionListing)</text>
<text text-anchor="start" x="5613.8612" y="-3014.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardToPriceAtExpiry: mapping(uint=&gt;uint)</text>
<text text-anchor="start" x="5613.8612" y="-2997.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingToBaseReturnedRatio: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="5605.8612,-2989.1 7142.4586,-2989.1 "/>
<text text-anchor="start" x="5613.8612" y="-2972.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5613.8612" y="-2955.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addListingToBoard(boardId: uint, strike: uint, skew: uint): (listingId: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2938.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doTrade(listing: OptionListing, board: OptionBoard, trade: Trade, pricingGlobals: LyraGlobals.PricingGlobals): uint</text>
<text text-anchor="start" x="5613.8612" y="-2922.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidateExpiredBoard(board: OptionBoard)</text>
<text text-anchor="start" x="5613.8612" y="-2905.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_require(pass: bool, error: Error)</text>
<text text-anchor="start" x="5613.8612" y="-2888.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5613.8612" y="-2871.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _liquidityPool: ILiquidityPool, _optionPricer: IOptionMarketPricer, _greekCache: IOptionGreekCache, _shortCollateral: IShortCollateral, _optionToken: IOptionToken, _quoteAsset: IERC20, _baseAsset: IERC20, _errorMessages: string[])</text>
<text text-anchor="start" x="5613.8612" y="-2854.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferOwnership(newOwner: address)</text>
<text text-anchor="start" x="5613.8612" y="-2838.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="5613.8612" y="-2821.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardBaseIv(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2804.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setListingSkew(listingId: uint, skew: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2787.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOptionBoard(expiry: uint, baseIV: uint, strikes: uint[], skews: uint[]): uint</text>
<text text-anchor="start" x="5613.8612" y="-2770.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addListingToBoard(boardId: uint, strike: uint, skew: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2754.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (_liveBoards: uint[])</text>
<text text-anchor="start" x="5613.8612" y="-2737.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardListings(boardId: uint): uint[]</text>
<text text-anchor="start" x="5613.8612" y="-2720.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2703.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2686.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateExpiredBoard(boardId: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2670.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleOptions(listingId: uint, tradeType: TradeType)</text>
<text text-anchor="start" x="5613.8612" y="-2653.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5613.8612" y="-2636.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCreated(boardId: uint, expiry: uint, baseIv: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2619.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="5613.8612" y="-2602.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardBaseIvSet(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2586.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingSkewSet(listingId: uint, skew: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2569.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingAdded(boardId: uint, listingId: uint, strike: uint, skew: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2552.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionOpened(trader: address, listingId: uint, tradeType: TradeType, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2535.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionClosed(trader: address, listingId: uint, tradeType: TradeType, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2518.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardLiquidated(boardId: uint, totalUserLongProfitQuote: uint, totalBoardLongCallCollateral: uint, totalBoardLongPutCollateral: uint, totalAMMShortCallProfitBase: uint, totalAMMShortPutProfitQuote: uint)</text>
<text text-anchor="start" x="5613.8612" y="-2502.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnershipTransferred(previousOwner: address, newOwner: address)</text>
<text text-anchor="start" x="5613.8612" y="-2485.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="5613.8612" y="-2468.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge52" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6098.0176,-3374.948C6094.0517,-3387.0205 6090.4174,-3399.1146 6087.1599,-3411.2 5992.9357,-3760.7683 5903.92,-3913.5512 6087.1599,-4225.8 6195.4815,-4410.3849 6393.1271,-4536.0821 6580.9648,-4619.0491"/>
<polygon fill="#000000" stroke="#000000" points="6579.6214,-4622.2816 6590.1853,-4623.0911 6582.4319,-4615.8706 6579.6214,-4622.2816"/>
</g>
<!-- 20 -->
<g id="node40" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6095.8464,-3747.7 6095.8464,-3889.3 6382.4734,-3889.3 6382.4734,-3747.7 6095.8464,-3747.7"/>
<text text-anchor="middle" x="6239.1599" y="-3872.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6239.1599" y="-3855.9" font-family="Times,serif" font-size="14.00" fill="#000000">IOptionToken</text>
<polyline fill="none" stroke="#000000" points="6095.8464,-3847.7 6382.4734,-3847.7 "/>
<text text-anchor="middle" x="6239.1599" y="-3831.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6095.8464,-3822.9 6382.4734,-3822.9 "/>
<text text-anchor="start" x="6103.8464" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6103.8464" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setURI(newURI: string)</text>
<text text-anchor="start" x="6103.8464" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="6103.8464" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(account: address, id: uint, amount: uint)</text>
</g>
<!-- 5&#45;&gt;20 -->
<g id="edge51" class="edge">
<title>5&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M6305.6217,-3374.9288C6284.6843,-3514.6669 6263.88,-3653.5158 6251.2695,-3737.6795"/>
<polygon fill="#000000" stroke="#000000" points="6247.7933,-3737.2604 6249.7728,-3747.6686 6254.716,-3738.2977 6247.7933,-3737.2604"/>
</g>
<!-- 5&#45;&gt;33 -->
<g id="edge50" class="edge">
<title>5&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5993.7623,-3374.9421C5987.8716,-3386.9597 5982.3215,-3399.0528 5977.1599,-3411.2 5681.9834,-4105.8536 5668.4242,-5021.5435 5680.2968,-5438.4688"/>
<polygon fill="#000000" stroke="#000000" points="5676.8001,-5438.6353 5680.591,-5448.5287 5683.7971,-5438.4306 5676.8001,-5438.6353"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2325.1046,-633.1 2325.1046,-942.7 3559.2152,-942.7 3559.2152,-633.1 2325.1046,-633.1"/>
<text text-anchor="middle" x="2942.1599" y="-926.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketPricer</text>
<polyline fill="none" stroke="#000000" points="2325.1046,-917.9 3559.2152,-917.9 "/>
<text text-anchor="start" x="2333.1046" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2333.1046" y="-884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<text text-anchor="start" x="2333.1046" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: IOptionGreekCache</text>
<text text-anchor="start" x="2333.1046" y="-850.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="2325.1046,-842.7 3559.2152,-842.7 "/>
<text text-anchor="start" x="2333.1046" y="-826.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2333.1046" y="-809.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(val: int): (absVal: uint)</text>
<text text-anchor="start" x="2333.1046" y="-792.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2333.1046" y="-775.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address, _greekCache: IOptionGreekCache)</text>
<text text-anchor="start" x="2333.1046" y="-758.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCacheAndGetTotalCost(listing: IOptionMarket.OptionListing, trade: IOptionMarket.Trade, pricingGlobals: ILyraGlobals.PricingGlobals, boardBaseIv: uint): (totalCost: uint, newBaseIv: uint, newSkew: uint)</text>
<text text-anchor="start" x="2333.1046" y="-742.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2333.1046" y="-725.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="2333.1046" y="-708.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2333.1046" y="-691.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ivImpactForTrade(listing: IOptionMarket.OptionListing, trade: IOptionMarket.Trade, pricingGlobals: ILyraGlobals.PricingGlobals, boardBaseIv: uint): (uint, uint)</text>
<text text-anchor="start" x="2333.1046" y="-674.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremium(trade: IOptionMarket.Trade, pricing: Pricing, pricingGlobals: ILyraGlobals.PricingGlobals): (premium: uint)</text>
<text text-anchor="start" x="2333.1046" y="-658.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVegaUtil(trade: IOptionMarket.Trade, pricing: Pricing, pricingGlobals: ILyraGlobals.PricingGlobals): (vegaUtil: uint)</text>
<text text-anchor="start" x="2333.1046" y="-641.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFee(pricingGlobals: ILyraGlobals.PricingGlobals, amount: uint, optionPrice: uint, vegaUtil: uint): (fee: uint)</text>
</g>
<!-- 6&#45;&gt;16 -->
<g id="edge56" class="edge">
<title>6&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3176.7917,-942.7583C3288.003,-1030.2148 3410.0802,-1150.0399 3473.1599,-1290 3524.9524,-1404.9163 3421.995,-2334.7053 3511.1599,-2423.8 3597.6644,-2510.2364 4526.1154,-2371.9267 4611.1599,-2459.8 4681.8945,-2532.8874 4679.6234,-3299.981 4611.1599,-3375.2 4553.7665,-3438.2565 4289.656,-3351.1138 4229.1599,-3411.2 3959.5674,-3678.9656 4170.4491,-3882.8094 4143.1599,-4261.8 4127.1949,-4483.5203 4161.9588,-5047.6685 4100.1599,-5261.2 4097.5778,-5270.1219 4094.7595,-5279.0568 4091.7316,-5287.9853"/>
<polygon fill="#000000" stroke="#000000" points="4088.3425,-5287.0754 4088.365,-5297.6702 4094.9544,-5289.3738 4088.3425,-5287.0754"/>
</g>
<!-- 6&#45;&gt;17 -->
<g id="edge54" class="edge">
<title>6&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M2681.3577,-942.7706C2529.2043,-1036.964 2336.1439,-1163.2214 2175.1599,-1290 2043.5752,-1393.6259 1906.8009,-1520.4181 1796.8443,-1627.795"/>
<polygon fill="#000000" stroke="#000000" points="1794.3435,-1625.3452 1789.6408,-1634.8392 1799.2376,-1630.35 1794.3435,-1625.3452"/>
</g>
<!-- 6&#45;&gt;18 -->
<g id="edge55" class="edge">
<title>6&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2732.6204,-942.8056C2630.5234,-1031.6476 2518.1402,-1152.7175 2463.1599,-1290 2416.3235,-1406.9477 2377.1692,-2331.7348 2463.1599,-2423.8 2543.2846,-2509.5849 2908.273,-2375.6956 2990.1599,-2459.8 3025.6672,-2496.2688 3023.8547,-3324.483 3028.1599,-3375.2 3034.9671,-3455.3922 3045.6148,-3543.3707 3055.8736,-3619.663"/>
<polygon fill="#000000" stroke="#000000" points="3052.4448,-3620.4256 3057.2527,-3629.8667 3059.3817,-3619.488 3052.4448,-3620.4256"/>
</g>
<!-- 6&#45;&gt;33 -->
<g id="edge53" class="edge">
<title>6&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3235.1823,-942.7875C3456.7402,-1051.5294 3772.0129,-1188.7478 4066.1599,-1254 4155.9529,-1273.9193 4829.553,-1223.564 4893.1599,-1290 5241.6446,-1653.9846 4997.7675,-1930.8663 4893.1599,-2423.8 4889.5251,-2440.9277 4880.7946,-2442.6723 4877.1599,-2459.8 4792.7024,-2857.7816 4609.8531,-3068.4925 4877.1599,-3375.2 4954.0963,-3463.4768 5055.6269,-3328.1319 5138.1599,-3411.2 5211.2218,-3484.7356 5341.3497,-5165.4886 5381.1599,-5261.2 5407.3025,-5324.0519 5445.9336,-5385.5461 5487.1242,-5440.7688"/>
<polygon fill="#000000" stroke="#000000" points="5484.4103,-5442.9833 5493.2189,-5448.8704 5490.0041,-5438.775 5484.4103,-5442.9833"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7198.5964,-2804.7 7198.5964,-3030.3 7481.7234,-3030.3 7481.7234,-2804.7 7198.5964,-2804.7"/>
<text text-anchor="middle" x="7340.1599" y="-3013.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionToken</text>
<polyline fill="none" stroke="#000000" points="7198.5964,-3005.5 7481.7234,-3005.5 "/>
<text text-anchor="start" x="7206.5964" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7206.5964" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="7206.5964" y="-2955.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<polyline fill="none" stroke="#000000" points="7198.5964,-2947.1 7481.7234,-2947.1 "/>
<text text-anchor="start" x="7206.5964" y="-2930.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7206.5964" y="-2913.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address)</text>
<text text-anchor="start" x="7206.5964" y="-2896.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setURI(newURI: string)</text>
<text text-anchor="start" x="7206.5964" y="-2880.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="7206.5964" y="-2863.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="7206.5964" y="-2846.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7206.5964" y="-2829.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="7206.5964" y="-2812.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(uri_: string)</text>
</g>
<!-- 7&#45;&gt;20 -->
<g id="edge57" class="edge">
<title>7&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7335.9186,-3030.3214C7325.2319,-3137.9077 7290.9064,-3295.0599 7184.1599,-3375.2 7043.9754,-3480.4436 6538.3917,-3308.7402 6396.1599,-3411.2 6298.3349,-3481.6704 6261.4631,-3621.8526 6247.5659,-3717.886"/>
<polygon fill="none" stroke="#000000" points="6237.146,-3716.592 6243.7793,-3747.6765 6257.9784,-3719.24 6237.146,-3716.592"/>
</g>
<!-- 27 -->
<g id="node48" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6968.0994,-3588.1 6968.0994,-4048.9 7602.2204,-4048.9 7602.2204,-3588.1 6968.0994,-3588.1"/>
<text text-anchor="middle" x="7285.1599" y="-4032.3" font-family="Times,serif" font-size="14.00" fill="#000000">ERC1155</text>
<polyline fill="none" stroke="#000000" points="6968.0994,-4024.1 7602.2204,-4024.1 "/>
<text text-anchor="start" x="6976.0994" y="-4007.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6976.0994" y="-3990.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_balances: mapping(uint=&gt;mapping(address=&gt;uint))</text>
<text text-anchor="start" x="6976.0994" y="-3973.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_operatorApprovals: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="6976.0994" y="-3957.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_uri: string</text>
<text text-anchor="start" x="6976.0994" y="-3940.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC1155: bytes4</text>
<text text-anchor="start" x="6976.0994" y="-3923.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC1155_METADATA_URI: bytes4</text>
<polyline fill="none" stroke="#000000" points="6968.0994,-3915.3 7602.2204,-3915.3 "/>
<text text-anchor="start" x="6976.0994" y="-3898.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6976.0994" y="-3881.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_asSingletonArray(element: uint): uint[]</text>
<text text-anchor="start" x="6976.0994" y="-3865.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6976.0994" y="-3848.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setURI(newuri: string)</text>
<text text-anchor="start" x="6976.0994" y="-3831.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(account: address, id: uint, amount: uint, data: bytes)</text>
<text text-anchor="start" x="6976.0994" y="-3814.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintBatch(to: address, ids: uint[], amounts: uint[], data: bytes)</text>
<text text-anchor="start" x="6976.0994" y="-3797.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="6976.0994" y="-3781.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnBatch(account: address, ids: uint[], amounts: uint[])</text>
<text text-anchor="start" x="6976.0994" y="-3764.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(operator: address, from: address, to: address, ids: uint[], amounts: uint[], data: bytes)</text>
<text text-anchor="start" x="6976.0994" y="-3747.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6976.0994" y="-3730.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uri(uint): string</text>
<text text-anchor="start" x="6976.0994" y="-3713.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6976.0994" y="-3697.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(uri_: string)</text>
<text text-anchor="start" x="6976.0994" y="-3680.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(account: address, id: uint): uint</text>
<text text-anchor="start" x="6976.0994" y="-3663.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOfBatch(accounts: address[], ids: uint[]): uint[]</text>
<text text-anchor="start" x="6976.0994" y="-3646.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(operator: address, approved: bool)</text>
<text text-anchor="start" x="6976.0994" y="-3629.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isApprovedForAll(account: address, operator: address): bool</text>
<text text-anchor="start" x="6976.0994" y="-3613.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, id: uint, amount: uint, data: bytes)</text>
<text text-anchor="start" x="6976.0994" y="-3596.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeBatchTransferFrom(from: address, to: address, ids: uint[], amounts: uint[], data: bytes)</text>
</g>
<!-- 7&#45;&gt;27 -->
<g id="edge58" class="edge">
<title>7&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M7333.2498,-3030.7C7325.2287,-3162.0998 7311.7394,-3383.0798 7301.0852,-3557.6137"/>
<polygon fill="none" stroke="#000000" points="7290.5969,-3557.1046 7299.2494,-3587.6886 7311.5578,-3558.3842 7290.5969,-3557.1046"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="254.2579,-389.5 254.2579,-1186.3 1292.0619,-1186.3 1292.0619,-389.5 254.2579,-389.5"/>
<text text-anchor="middle" x="773.1599" y="-1169.7" font-family="Times,serif" font-size="14.00" fill="#000000">PoolHedger</text>
<polyline fill="none" stroke="#000000" points="254.2579,-1161.5 1292.0619,-1161.5 "/>
<text text-anchor="start" x="262.2579" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="262.2579" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="262.2579" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="262.2579" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionGreekCache: IOptionGreekCache</text>
<text text-anchor="start" x="262.2579" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: ILiquidityPool</text>
<text text-anchor="start" x="262.2579" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="262.2579" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="262.2579" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="262.2579" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;counter: uint</text>
<text text-anchor="start" x="262.2579" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="262.2579" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortingInitialized: bool</text>
<text text-anchor="start" x="262.2579" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortId: uint</text>
<text text-anchor="start" x="262.2579" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortBuffer: uint</text>
<text text-anchor="start" x="262.2579" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastInteraction: uint</text>
<text text-anchor="start" x="262.2579" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;interactionDelay: uint</text>
<polyline fill="none" stroke="#000000" points="254.2579,-901.5 1292.0619,-901.5 "/>
<text text-anchor="start" x="262.2579" y="-884.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="262.2579" y="-868.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openShort(exchangeGlobals: ILyraGlobals.ExchangeGlobals)</text>
<text text-anchor="start" x="262.2579" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_hedgeDelta(expectedHedge: int)</text>
<text text-anchor="start" x="262.2579" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updatePosition(exchangeGlobals: ILyraGlobals.ExchangeGlobals, longBalance: uint, shortBalance: uint, collateral: uint, expectedHedge: int): int</text>
<text text-anchor="start" x="262.2579" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLong(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="262.2579" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLong(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="262.2579" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortTo(exchangeGlobals: ILyraGlobals.ExchangeGlobals, desiredShort: uint, currentShort: uint, currentCollateral: uint): (newShortAmount: uint)</text>
<text text-anchor="start" x="262.2579" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendAllQuoteToLP()</text>
<text text-anchor="start" x="262.2579" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="262.2579" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _optionMarket: IOptionMarket, _optionGreekCache: IOptionGreekCache, _liquidityPool: ILiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="262.2579" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortBuffer(newShortBuffer: uint)</text>
<text text-anchor="start" x="262.2579" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setInteractionDelay(newInteractionDelay: uint)</text>
<text text-anchor="start" x="262.2579" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initShort()</text>
<text text-anchor="start" x="262.2579" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reopenShort()</text>
<text text-anchor="start" x="262.2579" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDelta()</text>
<text text-anchor="start" x="262.2579" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="262.2579" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="262.2579" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortBufferSet(newShortBuffer: uint)</text>
<text text-anchor="start" x="262.2579" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; InteractionDelaySet(newInteractionDelay: uint)</text>
<text text-anchor="start" x="262.2579" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortInitialized(shortId: uint)</text>
<text text-anchor="start" x="262.2579" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionUpdated(oldNetDelta: int, currentNetDelta: int, expectedNetDelta: int)</text>
<text text-anchor="start" x="262.2579" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseExchanged(baseAmount: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="262.2579" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteExchanged(quoteAmount: uint, baseReceived: uint)</text>
<text text-anchor="start" x="262.2579" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongSetTo(oldAmount: uint, newAmount: uint)</text>
<text text-anchor="start" x="262.2579" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortSetTo(oldShort: uint, newShort: uint, oldCollateral: uint, newCollateral: uint)</text>
<text text-anchor="start" x="262.2579" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReturnedToLP(amountQuote: uint)</text>
<text text-anchor="start" x="262.2579" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; reentrancyGuard()</text>
<text text-anchor="start" x="262.2579" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="262.2579" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortPosition(short: ICollateralShort): (shortBalance: uint, collateral: uint)</text>
<text text-anchor="start" x="262.2579" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getValueQuote(short: ICollateralShort, spotPrice: uint): (value: uint)</text>
</g>
<!-- 8&#45;&gt;11 -->
<g id="edge64" class="edge">
<title>8&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M534.8003,-1186.6061C308.6592,-1603.3043 3.1599,-2283.5495 3.1599,-2917.5 3.1599,-2917.5 3.1599,-2917.5 3.1599,-4761.5 3.1599,-5351.7108 -58.722,-5660.3576 403.1599,-6027.8 553.1299,-6147.1061 1812.8815,-6186.524 2355.3239,-6198.0437"/>
<polygon fill="#000000" stroke="#000000" points="2355.5597,-6201.5494 2365.6313,-6198.2611 2355.7074,-6194.5509 2355.5597,-6201.5494"/>
</g>
<!-- 15 -->
<g id="node19" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3197.6633,-4539.5 3197.6633,-4983.5 3776.6565,-4983.5 3776.6565,-4539.5 3197.6633,-4539.5"/>
<text text-anchor="middle" x="3487.1599" y="-4966.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3487.1599" y="-4950.1" font-family="Times,serif" font-size="14.00" fill="#000000">ILiquidityPool</text>
<polyline fill="none" stroke="#000000" points="3197.6633,-4941.9 3776.6565,-4941.9 "/>
<text text-anchor="middle" x="3487.1599" y="-4925.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3197.6633,-4917.1 3776.6565,-4917.1 "/>
<text text-anchor="start" x="3205.6633" y="-4900.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3205.6633" y="-4883.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;lockedCollateral(): (uint, uint)</text>
<text text-anchor="start" x="3205.6633" y="-4866.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;queuedQuoteFunds(): uint</text>
<text text-anchor="start" x="3205.6633" y="-4850.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;expiryToTokenValue(uint): uint</text>
<text text-anchor="start" x="3205.6633" y="-4833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(beneficiary: address, amount: uint): uint</text>
<text text-anchor="start" x="3205.6633" y="-4816.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;signalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4799.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unSignalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4782.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(beneficiary: address, certificateId: uint): (value: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4766.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tokenPriceQuote(): uint</text>
<text text-anchor="start" x="3205.6633" y="-4749.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;endRound()</text>
<text text-anchor="start" x="3205.6633" y="-4732.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;startRound(lastMaxExpiryTimestamp: uint, newMaxExpiryTimestamp: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4715.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeBase()</text>
<text text-anchor="start" x="3205.6633" y="-4698.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;lockQuote(amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4682.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;lockBase(amount: uint, exchangeGlobals: ILyraGlobals.ExchangeGlobals, liquidity: Liquidity)</text>
<text text-anchor="start" x="3205.6633" y="-4665.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4648.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;freeBase(amountBase: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4631.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sendPremium(recipient: address, amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4614.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;boardLiquidation(amountQuoteFreed: uint, amountQuoteReserved: uint, amountBaseFreed: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4598.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sendReservedQuote(user: address, amount: uint)</text>
<text text-anchor="start" x="3205.6633" y="-4581.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTotalPoolValueQuote(basePrice: uint, usedDeltaLiquidity: uint): uint</text>
<text text-anchor="start" x="3205.6633" y="-4564.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getLiquidity(basePrice: uint, short: ICollateralShort): Liquidity</text>
<text text-anchor="start" x="3205.6633" y="-4547.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferQuoteToHedge(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint): uint</text>
</g>
<!-- 8&#45;&gt;15 -->
<g id="edge63" class="edge">
<title>8&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M769.027,-1186.3604C762.5579,-1902.5027 754.3768,-3336.8041 792.1599,-3375.2 852.0287,-3436.04 2256.8515,-3364.2863 2328.1599,-3411.2 2660.972,-3630.1568 2443.5105,-3922.8041 2702.1599,-4225.8 2720.8872,-4247.7382 2732.2533,-4245.6608 2756.1599,-4261.8 2898.8984,-4358.1617 3056.6994,-4465.8807 3189.0443,-4556.5628"/>
<polygon fill="#000000" stroke="#000000" points="3187.0958,-4559.4705 3197.3233,-4562.2361 3191.0527,-4553.6961 3187.0958,-4559.4705"/>
</g>
<!-- 8&#45;&gt;16 -->
<g id="edge61" class="edge">
<title>8&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M728.1028,-1186.3802C725.2929,-1221.3885 722.9,-1256.3049 721.1599,-1290 715.1851,-1405.6903 643.3925,-3289.3387 721.1599,-3375.2 775.5778,-3435.2817 1022.9642,-3358.038 1084.1599,-3411.2 1403.6053,-3688.7094 1205.8462,-4995.4759 1535.1599,-5261.2 1594.586,-5309.1511 2834.2435,-5282.4246 2909.1599,-5297.2 3074.5724,-5329.8234 3248.755,-5388.107 3402.7148,-5448.6727"/>
<polygon fill="#000000" stroke="#000000" points="3401.7718,-5452.0633 3412.3584,-5452.4798 3404.3422,-5445.5523 3401.7718,-5452.0633"/>
</g>
<!-- 8&#45;&gt;17 -->
<g id="edge62" class="edge">
<title>8&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M1070.962,-1186.3361C1181.9717,-1334.8585 1304.2045,-1498.3965 1400.1669,-1626.7868"/>
<polygon fill="#000000" stroke="#000000" points="1397.3693,-1628.89 1406.1596,-1634.8045 1402.9762,-1624.6992 1397.3693,-1628.89"/>
</g>
<!-- 8&#45;&gt;21 -->
<g id="edge59" class="edge">
<title>8&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M819.3688,-1186.4361C858.1591,-1517.7979 915.6608,-2001.6899 969.1599,-2423.8 982.107,-2525.9535 997.2893,-2639.8911 1009.8261,-2732.5483"/>
<polygon fill="none" stroke="#000000" points="999.448,-2734.1566 1013.8832,-2762.474 1020.2576,-2731.3353 999.448,-2734.1566"/>
</g>
<!-- 8&#45;&gt;33 -->
<g id="edge60" class="edge">
<title>8&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M757.0749,-1186.6142C730.5468,-1892.6356 687.3962,-3296.2978 760.1599,-3375.2 827.2687,-3447.9703 1111.3081,-3376.883 1204.1599,-3411.2 1782.8546,-3625.0794 1751.5886,-4006.2608 2328.1599,-4225.8 2402.6765,-4254.1735 2619.4462,-4216.6393 2685.1599,-4261.8 3095.1416,-4543.5533 2769.6833,-4993.7878 3189.1599,-5261.2 3242.9657,-5295.5007 4274.043,-5287.8264 4337.1599,-5297.2 4750.4992,-5358.5856 5218.1953,-5501.8539 5481.5798,-5589.6213"/>
<polygon fill="#000000" stroke="#000000" points="5480.6566,-5593.003 5491.2504,-5592.8495 5482.8732,-5586.3631 5480.6566,-5593.003"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2472.6085,-1685.3 2472.6085,-2028.5 3463.7113,-2028.5 3463.7113,-1685.3 2472.6085,-1685.3"/>
<text text-anchor="middle" x="2968.1599" y="-2011.9" font-family="Times,serif" font-size="14.00" fill="#000000">ShortCollateral</text>
<polyline fill="none" stroke="#000000" points="2472.6085,-2003.7 3463.7113,-2003.7 "/>
<text text-anchor="start" x="2480.6085" y="-1987.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2480.6085" y="-1970.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="2480.6085" y="-1953.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="2480.6085" y="-1936.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: ILiquidityPool</text>
<text text-anchor="start" x="2480.6085" y="-1919.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="2480.6085" y="-1903.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<polyline fill="none" stroke="#000000" points="2472.6085,-1894.9 3463.7113,-1894.9 "/>
<text text-anchor="start" x="2480.6085" y="-1878.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2480.6085" y="-1861.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: IOptionMarket, _liquidityPool: ILiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="2480.6085" y="-1844.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1827.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1811.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendToLP(amountBase: uint, amountQuote: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1794.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;processSettle(listingId: uint, receiver: address, tradeType: IOptionMarket.TradeType, amount: uint, strike: uint, priceAtExpiry: uint, listingToShortCallBaseReturned: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1777.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2480.6085" y="-1760.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionsSettled(listingId: uint, optionOwner: address, strike: uint, priceAtExpiry: uint, tradeType: IOptionMarket.TradeType, amount: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1743.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1727.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="2480.6085" y="-1710.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="2480.6085" y="-1693.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 9&#45;&gt;15 -->
<g id="edge68" class="edge">
<title>9&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M3104.0094,-2028.7278C3201.5608,-2146.6487 3339.752,-2303.0365 3478.1599,-2423.8 3499.6164,-2442.5212 3517.8322,-2434.6358 3531.1599,-2459.8 3578.7644,-2549.683 3561.5569,-3278.1373 3531.1599,-3375.2 3525.3383,-3393.7894 3512.1121,-3392.652 3506.1599,-3411.2 3473.0983,-3514.2241 3477.8383,-4170.795 3483.054,-4529.0221"/>
<polygon fill="#000000" stroke="#000000" points="3479.5579,-4529.3221 3483.2045,-4539.2696 3486.5572,-4529.2192 3479.5579,-4529.3221"/>
</g>
<!-- 9&#45;&gt;18 -->
<g id="edge67" class="edge">
<title>9&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M3080.1447,-2028.7905C3149.0869,-2145.2002 3230.9716,-2305.3799 3267.1599,-2459.8 3313.5743,-2657.8563 3306.5338,-3175.6247 3267.1599,-3375.2 3250.7521,-3458.3666 3218.5735,-3545.5561 3185.7776,-3620.3911"/>
<polygon fill="#000000" stroke="#000000" points="3182.4058,-3619.3625 3181.5673,-3629.9241 3188.8091,-3622.1905 3182.4058,-3619.3625"/>
</g>
<!-- 9&#45;&gt;22 -->
<g id="edge65" class="edge">
<title>9&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3082.3895,-2028.6399C3175.0074,-2155.1924 3316.3994,-2322.3009 3478.1599,-2423.8 3526.7698,-2454.301 3552.0325,-2431.8629 3602.1599,-2459.8 3769.9609,-2553.3191 3928.4154,-2711.7618 4022.1579,-2815.5112"/>
<polygon fill="none" stroke="#000000" points="4014.4794,-2822.6767 4042.2928,-2838.0607 4030.1436,-2808.6898 4014.4794,-2822.6767"/>
</g>
<!-- 9&#45;&gt;33 -->
<g id="edge66" class="edge">
<title>9&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3118.3795,-2028.7652C3223.5863,-2145.2666 3370.0565,-2299.9727 3511.1599,-2423.8 3531.4713,-2441.6246 3547.3411,-2436.0103 3560.1599,-2459.8 3608.4706,-2549.4577 3534.2225,-3304.1186 3607.1599,-3375.2 3663.2773,-3429.8895 4960.3722,-3357.2067 5017.1599,-3411.2 5148.7284,-3536.2943 4988.1589,-4068.7087 5079.1599,-4225.8 5093.4335,-4250.44 5118.4187,-4236.8592 5132.1599,-4261.8 5185.7744,-4359.1129 5114.2446,-5162.4481 5165.1599,-5261.2 5233.2611,-5393.2845 5366.8767,-5494.36 5482.392,-5562.0331"/>
<polygon fill="#000000" stroke="#000000" points="5480.9767,-5565.2585 5491.382,-5567.2541 5484.4923,-5559.2053 5480.9767,-5565.2585"/>
</g>
<!-- 10struct0 -->
<g id="node12" class="node">
<title>10struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8317.7931,-721.1 8317.7931,-854.7 8446.5267,-854.7 8446.5267,-721.1 8317.7931,-721.1"/>
<text text-anchor="middle" x="8382.1599" y="-838.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8382.1599" y="-821.3" font-family="Times,serif" font-size="14.00" fill="#000000">PricesDeltaStdVega</text>
<polyline fill="none" stroke="#000000" points="8317.7931,-813.1 8446.5267,-813.1 "/>
<text text-anchor="start" x="8325.7931" y="-796.5" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="8325.7931" y="-779.7" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="8325.7931" y="-762.9" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="8325.7931" y="-746.1" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="8325.7931" y="-729.3" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
</g>
<!-- 10struct0&#45;&gt;10 -->
<g id="edge1" class="edge">
<title>10struct0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M8382.2319,-854.937C8380.0284,-948.2538 8367.492,-1120.8312 8309.1599,-1254 8222.5175,-1451.7994 8054.6829,-1640.2091 7942.7534,-1752.2079"/>
<polygon fill="#000000" stroke="#000000" points="7942.6242,-1752.3366 7941.1956,-1759.4048 7934.1217,-1760.8046 7935.5503,-1753.7364 7942.6242,-1752.3366"/>
</g>
<!-- 11struct0 -->
<g id="node14" class="node">
<title>11struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2247.8264,-5562.1 2247.8264,-5762.9 2378.4934,-5762.9 2378.4934,-5562.1 2247.8264,-5562.1"/>
<text text-anchor="middle" x="2313.1599" y="-5746.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2313.1599" y="-5729.5" font-family="Times,serif" font-size="14.00" fill="#000000">Loan</text>
<polyline fill="none" stroke="#000000" points="2247.8264,-5721.3 2378.4934,-5721.3 "/>
<text text-anchor="start" x="2255.8264" y="-5704.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="2255.8264" y="-5687.9" font-family="Times,serif" font-size="14.00" fill="#000000">account: address</text>
<text text-anchor="start" x="2255.8264" y="-5671.1" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="2255.8264" y="-5654.3" font-family="Times,serif" font-size="14.00" fill="#000000">currency: bytes32</text>
<text text-anchor="start" x="2255.8264" y="-5637.5" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="2255.8264" y="-5620.7" font-family="Times,serif" font-size="14.00" fill="#000000">short: bool</text>
<text text-anchor="start" x="2255.8264" y="-5603.9" font-family="Times,serif" font-size="14.00" fill="#000000">accruedInterest: uint</text>
<text text-anchor="start" x="2255.8264" y="-5587.1" font-family="Times,serif" font-size="14.00" fill="#000000">interestIndex: uint</text>
<text text-anchor="start" x="2255.8264" y="-5570.3" font-family="Times,serif" font-size="14.00" fill="#000000">lastInteraction: uint</text>
</g>
<!-- 11struct0&#45;&gt;11 -->
<g id="edge2" class="edge">
<title>11struct0&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M2317.28,-5763.2062C2324.4375,-5840.4787 2343.2824,-5947.2175 2392.1599,-6027.8 2397.8016,-6037.1013 2404.1194,-6046.1372 2410.9468,-6054.8807"/>
<polygon fill="#000000" stroke="#000000" points="2410.9884,-6054.9321 2417.8746,-6057.0726 2418.5473,-6064.2523 2411.6612,-6062.1118 2410.9884,-6054.9321"/>
</g>
<!-- 14struct0 -->
<g id="node18" class="node">
<title>14struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8351.0852,-2867.5 8351.0852,-2967.5 8459.2346,-2967.5 8459.2346,-2867.5 8351.0852,-2867.5"/>
<text text-anchor="middle" x="8405.1599" y="-2950.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8405.1599" y="-2934.1" font-family="Times,serif" font-size="14.00" fill="#000000">CertificateData</text>
<polyline fill="none" stroke="#000000" points="8351.0852,-2925.9 8459.2346,-2925.9 "/>
<text text-anchor="start" x="8359.0852" y="-2909.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: uint</text>
<text text-anchor="start" x="8359.0852" y="-2892.5" font-family="Times,serif" font-size="14.00" fill="#000000">enteredAt: uint</text>
<text text-anchor="start" x="8359.0852" y="-2875.7" font-family="Times,serif" font-size="14.00" fill="#000000">burnableAt: uint</text>
</g>
<!-- 14struct0&#45;&gt;14 -->
<g id="edge3" class="edge">
<title>14struct0&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M8405.1599,-2967.5482C8405.1599,-3099.6018 8405.1599,-3461.4624 8405.1599,-3668.2845"/>
<polygon fill="#000000" stroke="#000000" points="8405.16,-3668.4568 8409.1599,-3674.4568 8405.1599,-3680.4568 8401.1599,-3674.4567 8405.16,-3668.4568"/>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge69" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3581.5883,-4983.641C3620.6135,-5075.447 3666.9506,-5184.4542 3710.9466,-5287.9538"/>
<polygon fill="#000000" stroke="#000000" points="3707.7903,-5289.4755 3714.9234,-5297.3093 3714.2324,-5286.737 3707.7903,-5289.4755"/>
</g>
<!-- 15struct0 -->
<g id="node20" class="node">
<title>15struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3979.8202,-3776.9 3979.8202,-3860.1 4058.4996,-3860.1 4058.4996,-3776.9 3979.8202,-3776.9"/>
<text text-anchor="middle" x="4019.1599" y="-3843.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4019.1599" y="-3826.7" font-family="Times,serif" font-size="14.00" fill="#000000">Collateral</text>
<polyline fill="none" stroke="#000000" points="3979.8202,-3818.5 4058.4996,-3818.5 "/>
<text text-anchor="start" x="3987.8202" y="-3801.9" font-family="Times,serif" font-size="14.00" fill="#000000">quote: uint</text>
<text text-anchor="start" x="3987.8202" y="-3785.1" font-family="Times,serif" font-size="14.00" fill="#000000">base: uint</text>
</g>
<!-- 15struct0&#45;&gt;15 -->
<g id="edge4" class="edge">
<title>15struct0&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M4028.3598,-3860.1541C4043.7475,-3941.9283 4064.4485,-4124.3152 3970.1599,-4225.8 3913.442,-4286.8466 3854.3451,-4213.9003 3786.1599,-4261.8 3692.9679,-4327.2668 3623.8949,-4431.8792 3575.7597,-4528.5083"/>
<polygon fill="#000000" stroke="#000000" points="3575.7291,-4528.5705 3576.6713,-4535.7198 3570.4344,-4539.3393 3569.4922,-4532.19 3575.7291,-4528.5705"/>
</g>
<!-- 15struct1 -->
<g id="node21" class="node">
<title>15struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3515.5754,-3760.1 3515.5754,-3876.9 3672.7444,-3876.9 3672.7444,-3760.1 3515.5754,-3760.1"/>
<text text-anchor="middle" x="3594.1599" y="-3860.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3594.1599" y="-3843.5" font-family="Times,serif" font-size="14.00" fill="#000000">Liquidity</text>
<polyline fill="none" stroke="#000000" points="3515.5754,-3835.3 3672.7444,-3835.3 "/>
<text text-anchor="start" x="3523.5754" y="-3818.7" font-family="Times,serif" font-size="14.00" fill="#000000">freeCollatLiquidity: uint</text>
<text text-anchor="start" x="3523.5754" y="-3801.9" font-family="Times,serif" font-size="14.00" fill="#000000">usedCollatLiquidity: uint</text>
<text text-anchor="start" x="3523.5754" y="-3785.1" font-family="Times,serif" font-size="14.00" fill="#000000">freeDeltaLiquidity: uint</text>
<text text-anchor="start" x="3523.5754" y="-3768.3" font-family="Times,serif" font-size="14.00" fill="#000000">usedDeltaLiquidity: uint</text>
</g>
<!-- 15struct1&#45;&gt;15 -->
<g id="edge5" class="edge">
<title>15struct1&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M3587.507,-3877.1326C3573.0948,-4004.1484 3538.312,-4310.6925 3513.7542,-4527.1219"/>
<polygon fill="#000000" stroke="#000000" points="3513.7256,-4527.3751 3517.0236,-4533.7878 3512.3726,-4539.2986 3509.0746,-4532.8858 3513.7256,-4527.3751"/>
</g>
<!-- 15enum0 -->
<g id="node22" class="node">
<title>15enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3690.8376,-3608.9 3690.8376,-4028.1 3961.4822,-4028.1 3961.4822,-3608.9 3690.8376,-3608.9"/>
<text text-anchor="middle" x="3826.1599" y="-4011.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="3826.1599" y="-3994.7" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
<polyline fill="none" stroke="#000000" points="3690.8376,-3986.5 3961.4822,-3986.5 "/>
<text text-anchor="start" x="3698.8376" y="-3969.9" font-family="Times,serif" font-size="14.00" fill="#000000">QuoteTransferFailed: 0</text>
<text text-anchor="start" x="3698.8376" y="-3953.1" font-family="Times,serif" font-size="14.00" fill="#000000">AlreadySignalledWithdrawal: 1</text>
<text text-anchor="start" x="3698.8376" y="-3936.3" font-family="Times,serif" font-size="14.00" fill="#000000">SignallingBetweenRounds: 2</text>
<text text-anchor="start" x="3698.8376" y="-3919.5" font-family="Times,serif" font-size="14.00" fill="#000000">UnSignalMustSignalFirst: 3</text>
<text text-anchor="start" x="3698.8376" y="-3902.7" font-family="Times,serif" font-size="14.00" fill="#000000">UnSignalAlreadyBurnable: 4</text>
<text text-anchor="start" x="3698.8376" y="-3885.9" font-family="Times,serif" font-size="14.00" fill="#000000">WithdrawNotBurnable: 5</text>
<text text-anchor="start" x="3698.8376" y="-3869.1" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundWithLiveBoards: 6</text>
<text text-anchor="start" x="3698.8376" y="-3852.3" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundAlreadyEnded: 7</text>
<text text-anchor="start" x="3698.8376" y="-3835.5" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundMustExchangeBase: 8</text>
<text text-anchor="start" x="3698.8376" y="-3818.7" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundMustHedgeDelta: 9</text>
<text text-anchor="start" x="3698.8376" y="-3801.9" font-family="Times,serif" font-size="14.00" fill="#000000">StartRoundMustEndRound: 10</text>
<text text-anchor="start" x="3698.8376" y="-3785.1" font-family="Times,serif" font-size="14.00" fill="#000000">ReceivedZeroFromBaseQuoteExchange: 11</text>
<text text-anchor="start" x="3698.8376" y="-3768.3" font-family="Times,serif" font-size="14.00" fill="#000000">ReceivedZeroFromQuoteBaseExchange: 12</text>
<text text-anchor="start" x="3698.8376" y="-3751.5" font-family="Times,serif" font-size="14.00" fill="#000000">LockingMoreQuoteThanIsFree: 13</text>
<text text-anchor="start" x="3698.8376" y="-3734.7" font-family="Times,serif" font-size="14.00" fill="#000000">LockingMoreBaseThanCanBeExchanged: 14</text>
<text text-anchor="start" x="3698.8376" y="-3717.9" font-family="Times,serif" font-size="14.00" fill="#000000">FreeingMoreBaseThanLocked: 15</text>
<text text-anchor="start" x="3698.8376" y="-3701.1" font-family="Times,serif" font-size="14.00" fill="#000000">SendPremiumNotEnoughCollateral: 16</text>
<text text-anchor="start" x="3698.8376" y="-3684.3" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyPoolHedger: 17</text>
<text text-anchor="start" x="3698.8376" y="-3667.5" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyOptionMarket: 18</text>
<text text-anchor="start" x="3698.8376" y="-3650.7" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyShortCollateral: 19</text>
<text text-anchor="start" x="3698.8376" y="-3633.9" font-family="Times,serif" font-size="14.00" fill="#000000">ReentrancyDetected: 20</text>
<text text-anchor="start" x="3698.8376" y="-3617.1" font-family="Times,serif" font-size="14.00" fill="#000000">Last: 21</text>
</g>
<!-- 15enum0&#45;&gt;15 -->
<g id="edge6" class="edge">
<title>15enum0&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M3752.4418,-4028.1922C3729.9974,-4091.7153 3705.1762,-4161.6466 3682.1599,-4225.8 3646.5901,-4324.9438 3606.8941,-4434.2363 3572.6498,-4528.1054"/>
<polygon fill="#000000" stroke="#000000" points="3572.6148,-4528.2017 3574.3157,-4535.2093 3568.5014,-4539.4747 3566.8004,-4532.467 3572.6148,-4528.2017"/>
</g>
<!-- 16&#45;&gt;11 -->
<g id="edge71" class="edge">
<title>16&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3412.3828,-5857.3802C3221.8085,-5938.5095 3008.1585,-6029.4624 2848.1164,-6097.5939"/>
<polygon fill="#000000" stroke="#000000" points="2846.4466,-6094.5008 2838.6165,-6101.6381 2849.1885,-6100.9414 2846.4466,-6094.5008"/>
</g>
<!-- 16&#45;&gt;12 -->
<g id="edge73" class="edge">
<title>16&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4328.0143,-5779.2027C4649.3204,-5857.9131 5089.9115,-5959.4846 5482.1599,-6027.8 5908.7607,-6102.0984 6412.7361,-6156.0034 6691.8978,-6182.9192"/>
<polygon fill="#000000" stroke="#000000" points="6691.8546,-6186.4311 6702.1438,-6183.9047 6692.5248,-6179.4632 6691.8546,-6186.4311"/>
</g>
<!-- 16&#45;&gt;13 -->
<g id="edge72" class="edge">
<title>16&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4327.9075,-5792.0503C4648.2284,-5876.3217 5087.6993,-5979.2627 5482.1599,-6027.8 5842.8609,-6072.1833 6760.165,-5995.7577 7117.1599,-6063.8 7202.9197,-6080.1456 7294.929,-6113.9884 7366.227,-6144.1272"/>
<polygon fill="#000000" stroke="#000000" points="7365.1309,-6147.4645 7375.7027,-6148.1624 7367.8735,-6141.0242 7365.1309,-6147.4645"/>
</g>
<!-- 16&#45;&gt;25 -->
<g id="edge70" class="edge">
<title>16&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4327.9174,-5977.6754C4413.641,-6036.6979 4495.0458,-6092.7467 4555.0973,-6134.0934"/>
<polygon fill="#000000" stroke="#000000" points="4553.206,-6137.0406 4563.4274,-6139.8288 4557.1757,-6131.275 4553.206,-6137.0406"/>
</g>
<!-- 16struct0 -->
<g id="node24" class="node">
<title>16struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3795.0971,-4677.9 3795.0971,-4845.1 3945.2227,-4845.1 3945.2227,-4677.9 3795.0971,-4677.9"/>
<text text-anchor="middle" x="3870.1599" y="-4828.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3870.1599" y="-4811.7" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeGlobals</text>
<polyline fill="none" stroke="#000000" points="3795.0971,-4803.5 3945.2227,-4803.5 "/>
<text text-anchor="start" x="3803.0971" y="-4786.9" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="3803.0971" y="-4770.1" font-family="Times,serif" font-size="14.00" fill="#000000">quoteKey: bytes32</text>
<text text-anchor="start" x="3803.0971" y="-4753.3" font-family="Times,serif" font-size="14.00" fill="#000000">baseKey: bytes32</text>
<text text-anchor="start" x="3803.0971" y="-4736.5" font-family="Times,serif" font-size="14.00" fill="#000000">synthetix: ISynthetix</text>
<text text-anchor="start" x="3803.0971" y="-4719.7" font-family="Times,serif" font-size="14.00" fill="#000000">short: ICollateralShort</text>
<text text-anchor="start" x="3803.0971" y="-4702.9" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="3803.0971" y="-4686.1" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 16struct0&#45;&gt;16 -->
<g id="edge7" class="edge">
<title>16struct0&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M3870.1599,-4845.4548C3870.1599,-4946.3568 3870.1599,-5122.4936 3870.1599,-5285.4525"/>
<polygon fill="#000000" stroke="#000000" points="3870.16,-5285.6605 3874.1599,-5291.6606 3870.1599,-5297.6605 3866.1599,-5291.6605 3870.16,-5285.6605"/>
</g>
<!-- 16struct1 -->
<g id="node25" class="node">
<title>16struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3962.798,-4719.9 3962.798,-4803.1 4091.5218,-4803.1 4091.5218,-4719.9 3962.798,-4719.9"/>
<text text-anchor="middle" x="4027.1599" y="-4786.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4027.1599" y="-4769.7" font-family="Times,serif" font-size="14.00" fill="#000000">GreekCacheGlobals</text>
<polyline fill="none" stroke="#000000" points="3962.798,-4761.5 4091.5218,-4761.5 "/>
<text text-anchor="start" x="3970.798" y="-4744.9" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="3970.798" y="-4728.1" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 16struct1&#45;&gt;16 -->
<g id="edge8" class="edge">
<title>16struct1&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M4021.9177,-4803.4277C4010.9628,-4889.4923 3984.1592,-5092.2198 3954.1599,-5261.2 3952.7283,-5269.2638 3951.2557,-5277.4134 3949.7487,-5285.6247"/>
<polygon fill="#000000" stroke="#000000" points="3949.6985,-5285.8967 3952.5411,-5292.5239 3947.5169,-5297.6968 3944.6744,-5291.0695 3949.6985,-5285.8967"/>
</g>
<!-- 16struct2 -->
<g id="node26" class="node">
<title>16struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2344.7093,-4652.7 2344.7093,-4870.3 2537.6105,-4870.3 2537.6105,-4652.7 2344.7093,-4652.7"/>
<text text-anchor="middle" x="2441.1599" y="-4853.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2441.1599" y="-4836.9" font-family="Times,serif" font-size="14.00" fill="#000000">PricingGlobals</text>
<polyline fill="none" stroke="#000000" points="2344.7093,-4828.7 2537.6105,-4828.7 "/>
<text text-anchor="start" x="2352.7093" y="-4812.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="2352.7093" y="-4795.3" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="2352.7093" y="-4778.5" font-family="Times,serif" font-size="14.00" fill="#000000">vegaFeeCoefficient: uint</text>
<text text-anchor="start" x="2352.7093" y="-4761.7" font-family="Times,serif" font-size="14.00" fill="#000000">vegaNormFactor: uint</text>
<text text-anchor="start" x="2352.7093" y="-4744.9" font-family="Times,serif" font-size="14.00" fill="#000000">standardSize: uint</text>
<text text-anchor="start" x="2352.7093" y="-4728.1" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentFactor: uint</text>
<text text-anchor="start" x="2352.7093" y="-4711.3" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="2352.7093" y="-4694.5" font-family="Times,serif" font-size="14.00" fill="#000000">minDelta: int</text>
<text text-anchor="start" x="2352.7093" y="-4677.7" font-family="Times,serif" font-size="14.00" fill="#000000">volatilityCutoff: uint</text>
<text text-anchor="start" x="2352.7093" y="-4660.9" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 16struct2&#45;&gt;16 -->
<g id="edge9" class="edge">
<title>16struct2&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M2434.2483,-4870.556C2433.2869,-4982.5743 2449.7796,-5155.1189 2547.1599,-5261.2 2664.2107,-5388.7093 3069.2995,-5499.9192 3400.7195,-5572.7233"/>
<polygon fill="#000000" stroke="#000000" points="3400.7549,-5572.7309 3407.4715,-5570.1064 3412.4774,-5575.2969 3405.7609,-5577.9214 3400.7549,-5572.7309"/>
</g>
<!-- 16enum0 -->
<g id="node27" class="node">
<title>16enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2555.8629,-4711.5 2555.8629,-4811.5 2676.4569,-4811.5 2676.4569,-4711.5 2555.8629,-4711.5"/>
<text text-anchor="middle" x="2616.1599" y="-4794.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2616.1599" y="-4778.1" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeType</text>
<polyline fill="none" stroke="#000000" points="2555.8629,-4769.9 2676.4569,-4769.9 "/>
<text text-anchor="start" x="2563.8629" y="-4753.3" font-family="Times,serif" font-size="14.00" fill="#000000">BASE_QUOTE: 0</text>
<text text-anchor="start" x="2563.8629" y="-4736.5" font-family="Times,serif" font-size="14.00" fill="#000000">QUOTE_BASE: 1</text>
<text text-anchor="start" x="2563.8629" y="-4719.7" font-family="Times,serif" font-size="14.00" fill="#000000">ALL: 2</text>
</g>
<!-- 16enum0&#45;&gt;16 -->
<g id="edge10" class="edge">
<title>16enum0&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M2607.9572,-4811.8575C2594.9243,-4910.3709 2581.066,-5130.3572 2690.1599,-5261.2 2784.7218,-5374.6136 3113.8525,-5481.1608 3400.5594,-5555.927"/>
<polygon fill="#000000" stroke="#000000" points="3400.8422,-5556.0004 3407.6552,-5553.6375 3412.4567,-5559.0177 3405.6437,-5561.3805 3400.8422,-5556.0004"/>
</g>
<!-- 17&#45;&gt;16 -->
<g id="edge74" class="edge">
<title>17&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1452.5186,-2078.9771C1399.4009,-2189.9447 1342.9196,-2328.3114 1316.1599,-2459.8 1275.5922,-2659.1361 1266.2491,-3177.9958 1316.1599,-3375.2 1549.9735,-4299.0283 1533.2907,-4747.8495 2336.1599,-5261.2 2443.6501,-5329.9287 2784.4588,-5270.2295 2909.1599,-5297.2 3074.269,-5332.91 3248.6445,-5392.1447 3402.8678,-5452.6291"/>
<polygon fill="#000000" stroke="#000000" points="3401.9409,-5456.0255 3412.528,-5456.4297 3404.5037,-5449.5115 3401.9409,-5456.0255"/>
</g>
<!-- 17&#45;&gt;19 -->
<g id="edge75" class="edge">
<title>17&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1650.03,-2078.9135C1730.1807,-2307.4294 1851.3716,-2652.9537 1909.9996,-2820.1065"/>
<polygon fill="#000000" stroke="#000000" points="1906.8154,-2821.6031 1913.428,-2829.881 1913.4209,-2819.2862 1906.8154,-2821.6031"/>
</g>
<!-- 17struct0 -->
<g id="node29" class="node">
<title>17struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1674.034,-670.7 1674.034,-905.1 1806.2858,-905.1 1806.2858,-670.7 1674.034,-670.7"/>
<text text-anchor="middle" x="1740.1599" y="-888.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1740.1599" y="-871.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListingCache</text>
<polyline fill="none" stroke="#000000" points="1674.034,-863.5 1806.2858,-863.5 "/>
<text text-anchor="start" x="1682.034" y="-846.9" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="1682.034" y="-830.1" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="1682.034" y="-813.3" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="1682.034" y="-796.5" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="1682.034" y="-779.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="1682.034" y="-762.9" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="1682.034" y="-746.1" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
<text text-anchor="start" x="1682.034" y="-729.3" font-family="Times,serif" font-size="14.00" fill="#000000">callExposure: int</text>
<text text-anchor="start" x="1682.034" y="-712.5" font-family="Times,serif" font-size="14.00" fill="#000000">putExposure: int</text>
<text text-anchor="start" x="1682.034" y="-695.7" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAt: uint</text>
<text text-anchor="start" x="1682.034" y="-678.9" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAtPrice: uint</text>
</g>
<!-- 17struct0&#45;&gt;17 -->
<g id="edge11" class="edge">
<title>17struct0&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M1721.7406,-905.1036C1694.732,-1076.9617 1643.8174,-1400.9363 1608.9591,-1622.7429"/>
<polygon fill="#000000" stroke="#000000" points="1608.9147,-1623.026 1611.9347,-1629.5743 1607.0516,-1634.8805 1604.0317,-1628.3322 1608.9147,-1623.026"/>
</g>
<!-- 17struct1 -->
<g id="node30" class="node">
<title>17struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1310.4281,-687.5 1310.4281,-888.3 1469.8917,-888.3 1469.8917,-687.5 1310.4281,-687.5"/>
<text text-anchor="middle" x="1390.1599" y="-871.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1390.1599" y="-854.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoardCache</text>
<polyline fill="none" stroke="#000000" points="1310.4281,-846.7 1469.8917,-846.7 "/>
<text text-anchor="start" x="1318.4281" y="-830.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="1318.4281" y="-813.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="1318.4281" y="-796.5" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="1318.4281" y="-779.7" font-family="Times,serif" font-size="14.00" fill="#000000">listings: uint[]</text>
<text text-anchor="start" x="1318.4281" y="-762.9" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="1318.4281" y="-746.1" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="1318.4281" y="-729.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="1318.4281" y="-712.5" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="1318.4281" y="-695.7" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
</g>
<!-- 17struct1&#45;&gt;17 -->
<g id="edge12" class="edge">
<title>17struct1&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M1407.282,-888.4689C1435.6908,-1055.3315 1493.2988,-1393.6995 1532.3184,-1622.8861"/>
<polygon fill="#000000" stroke="#000000" points="1532.3225,-1622.9104 1537.2728,-1628.1539 1534.3366,-1634.7402 1529.3863,-1629.4966 1532.3225,-1622.9104"/>
</g>
<!-- 17struct2 -->
<g id="node31" class="node">
<title>17struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1488.1371,-712.7 1488.1371,-863.1 1656.1827,-863.1 1656.1827,-712.7 1488.1371,-712.7"/>
<text text-anchor="middle" x="1572.1599" y="-846.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1572.1599" y="-829.7" font-family="Times,serif" font-size="14.00" fill="#000000">GlobalCache</text>
<polyline fill="none" stroke="#000000" points="1488.1371,-821.5 1656.1827,-821.5 "/>
<text text-anchor="start" x="1496.1371" y="-804.9" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="1496.1371" y="-788.1" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
<text text-anchor="start" x="1496.1371" y="-771.3" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="1496.1371" y="-754.5" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="1496.1371" y="-737.7" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="1496.1371" y="-720.9" font-family="Times,serif" font-size="14.00" fill="#000000">minExpiryTimestamp: uint</text>
</g>
<!-- 17struct2&#45;&gt;17 -->
<g id="edge13" class="edge">
<title>17struct2&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M1572.1599,-863.4959C1572.1599,-1019.2376 1572.1599,-1381.4473 1572.1599,-1622.7442"/>
<polygon fill="#000000" stroke="#000000" points="1572.16,-1622.8598 1576.1599,-1628.8599 1572.1599,-1634.8598 1568.1599,-1628.8598 1572.16,-1622.8598"/>
</g>
<!-- 18&#45;&gt;15 -->
<g id="edge76" class="edge">
<title>18&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3165.5444,-4007.0637C3229.683,-4157.5181 3319.823,-4368.966 3388.3615,-4529.7416"/>
<polygon fill="#000000" stroke="#000000" points="3385.2901,-4531.4621 3392.4313,-4539.2885 3391.7294,-4528.7169 3385.2901,-4531.4621"/>
</g>
<!-- 18struct0 -->
<g id="node33" class="node">
<title>18struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3036.9099,-2825.5 3036.9099,-3009.5 3133.4099,-3009.5 3133.4099,-2825.5 3036.9099,-2825.5"/>
<text text-anchor="middle" x="3085.1599" y="-2992.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3085.1599" y="-2976.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListing</text>
<polyline fill="none" stroke="#000000" points="3036.9099,-2967.9 3133.4099,-2967.9 "/>
<text text-anchor="start" x="3044.9099" y="-2951.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="3044.9099" y="-2934.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="3044.9099" y="-2917.7" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="3044.9099" y="-2900.9" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="3044.9099" y="-2884.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="3044.9099" y="-2867.3" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="3044.9099" y="-2850.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
<text text-anchor="start" x="3044.9099" y="-2833.7" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
</g>
<!-- 18struct0&#45;&gt;18 -->
<g id="edge14" class="edge">
<title>18struct0&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M3085.1599,-3009.6886C3085.1599,-3151.8434 3085.1599,-3427.9499 3085.1599,-3617.6864"/>
<polygon fill="#000000" stroke="#000000" points="3085.16,-3617.7726 3089.1599,-3623.7726 3085.1599,-3629.7726 3081.1599,-3623.7725 3085.16,-3617.7726"/>
</g>
<!-- 18struct1 -->
<g id="node34" class="node">
<title>18struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3151.8573,-2850.7 3151.8573,-2984.3 3258.4625,-2984.3 3258.4625,-2850.7 3151.8573,-2850.7"/>
<text text-anchor="middle" x="3205.1599" y="-2967.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3205.1599" y="-2950.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoard</text>
<polyline fill="none" stroke="#000000" points="3151.8573,-2942.7 3258.4625,-2942.7 "/>
<text text-anchor="start" x="3159.8573" y="-2926.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="3159.8573" y="-2909.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="3159.8573" y="-2892.5" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="3159.8573" y="-2875.7" font-family="Times,serif" font-size="14.00" fill="#000000">frozen: bool</text>
<text text-anchor="start" x="3159.8573" y="-2858.9" font-family="Times,serif" font-size="14.00" fill="#000000">listingIds: uint[]</text>
</g>
<!-- 18struct1&#45;&gt;18 -->
<g id="edge15" class="edge">
<title>18struct1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M3196.2384,-2984.4853C3178.624,-3116.7405 3138.7615,-3416.0412 3111.9002,-3617.7244"/>
<polygon fill="#000000" stroke="#000000" points="3111.8951,-3617.764 3115.0679,-3624.2396 3110.3107,-3629.6589 3107.1379,-3623.1833 3111.8951,-3617.764"/>
</g>
<!-- 18struct2 -->
<g id="node35" class="node">
<title>18struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3313.7062,-2850.7 3313.7062,-2984.3 3522.6136,-2984.3 3522.6136,-2850.7 3313.7062,-2850.7"/>
<text text-anchor="middle" x="3418.1599" y="-2967.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3418.1599" y="-2950.9" font-family="Times,serif" font-size="14.00" fill="#000000">Trade</text>
<polyline fill="none" stroke="#000000" points="3313.7062,-2942.7 3522.6136,-2942.7 "/>
<text text-anchor="start" x="3321.7062" y="-2926.1" font-family="Times,serif" font-size="14.00" fill="#000000">isBuy: bool</text>
<text text-anchor="start" x="3321.7062" y="-2909.3" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="3321.7062" y="-2892.5" font-family="Times,serif" font-size="14.00" fill="#000000">vol: uint</text>
<text text-anchor="start" x="3321.7062" y="-2875.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="3321.7062" y="-2858.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: ILiquidityPool.Liquidity</text>
</g>
<!-- 18struct2&#45;&gt;18 -->
<g id="edge16" class="edge">
<title>18struct2&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M3405.2996,-2984.3222C3386.9449,-3074.6022 3349.8763,-3239.8196 3300.1599,-3375.2 3270.1236,-3456.9905 3229.9492,-3543.8794 3192.4606,-3618.8591"/>
<polygon fill="#000000" stroke="#000000" points="3192.3351,-3619.1092 3193.2175,-3626.2661 3186.9505,-3629.8333 3186.0681,-3622.6764 3192.3351,-3619.1092"/>
</g>
<!-- 18enum0 -->
<g id="node36" class="node">
<title>18enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2861.2479,-2859.1 2861.2479,-2975.9 2981.0719,-2975.9 2981.0719,-2859.1 2861.2479,-2859.1"/>
<text text-anchor="middle" x="2921.1599" y="-2959.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2921.1599" y="-2942.5" font-family="Times,serif" font-size="14.00" fill="#000000">TradeType</text>
<polyline fill="none" stroke="#000000" points="2861.2479,-2934.3 2981.0719,-2934.3 "/>
<text text-anchor="start" x="2869.2479" y="-2917.7" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_CALL: 0</text>
<text text-anchor="start" x="2869.2479" y="-2900.9" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL: 1</text>
<text text-anchor="start" x="2869.2479" y="-2884.1" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_PUT: 2</text>
<text text-anchor="start" x="2869.2479" y="-2867.3" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_PUT: 3</text>
</g>
<!-- 18enum0&#45;&gt;18 -->
<g id="edge17" class="edge">
<title>18enum0&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M2929.8743,-2976.1517C2943.0043,-3063.3513 2969.1062,-3232.264 2995.1599,-3375.2 3009.6634,-3454.7692 3027.0636,-3542.0641 3042.6826,-3617.9903"/>
<polygon fill="#000000" stroke="#000000" points="3042.751,-3618.3225 3047.8798,-3623.3915 3045.1733,-3630.0755 3040.0445,-3625.0064 3042.751,-3618.3225"/>
</g>
<!-- 18enum1 -->
<g id="node37" class="node">
<title>18enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2580.71,-2766.7 2580.71,-3068.3 2843.6098,-3068.3 2843.6098,-2766.7 2580.71,-2766.7"/>
<text text-anchor="middle" x="2712.1599" y="-3051.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2712.1599" y="-3034.9" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
<polyline fill="none" stroke="#000000" points="2580.71,-3026.7 2843.6098,-3026.7 "/>
<text text-anchor="start" x="2588.71" y="-3010.1" font-family="Times,serif" font-size="14.00" fill="#000000">TransferOwnerToZero: 0</text>
<text text-anchor="start" x="2588.71" y="-2993.3" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidBoardId: 1</text>
<text text-anchor="start" x="2588.71" y="-2976.5" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidBoardIdOrNotFrozen: 2</text>
<text text-anchor="start" x="2588.71" y="-2959.7" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidListingIdOrNotFrozen: 3</text>
<text text-anchor="start" x="2588.71" y="-2942.9" font-family="Times,serif" font-size="14.00" fill="#000000">StrikeSkewLengthMismatch: 4</text>
<text text-anchor="start" x="2588.71" y="-2926.1" font-family="Times,serif" font-size="14.00" fill="#000000">BoardMaxExpiryReached: 5</text>
<text text-anchor="start" x="2588.71" y="-2909.3" font-family="Times,serif" font-size="14.00" fill="#000000">CannotStartNewRoundWhenBoardsExist: 6</text>
<text text-anchor="start" x="2588.71" y="-2892.5" font-family="Times,serif" font-size="14.00" fill="#000000">ZeroAmountOrInvalidTradeType: 7</text>
<text text-anchor="start" x="2588.71" y="-2875.7" font-family="Times,serif" font-size="14.00" fill="#000000">BoardFrozenOrTradingCutoffReached: 8</text>
<text text-anchor="start" x="2588.71" y="-2858.9" font-family="Times,serif" font-size="14.00" fill="#000000">QuoteTransferFailed: 9</text>
<text text-anchor="start" x="2588.71" y="-2842.1" font-family="Times,serif" font-size="14.00" fill="#000000">BaseTransferFailed: 10</text>
<text text-anchor="start" x="2588.71" y="-2825.3" font-family="Times,serif" font-size="14.00" fill="#000000">BoardNotExpired: 11</text>
<text text-anchor="start" x="2588.71" y="-2808.5" font-family="Times,serif" font-size="14.00" fill="#000000">BoardAlreadyLiquidated: 12</text>
<text text-anchor="start" x="2588.71" y="-2791.7" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyOwner: 13</text>
<text text-anchor="start" x="2588.71" y="-2774.9" font-family="Times,serif" font-size="14.00" fill="#000000">Last: 14</text>
</g>
<!-- 18enum1&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>18enum1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M2750.6445,-3068.3867C2775.5922,-3158.8347 2811.0522,-3275.3025 2852.1599,-3375.2 2885.863,-3457.1034 2929.6361,-3544.0153 2970.1289,-3618.9819"/>
<polygon fill="#000000" stroke="#000000" points="2970.3581,-3619.4047 2976.7344,-3622.7727 2976.0779,-3629.9539 2969.7016,-3626.5859 2970.3581,-3619.4047"/>
</g>
<!-- 19&#45;&gt;16 -->
<g id="edge78" class="edge">
<title>19&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1994.0575,-3005.3683C2115.0953,-3219.0785 2432.8997,-3783.6111 2685.1599,-4261.8 2917.2708,-4701.7937 2849.0916,-4898.125 3189.1599,-5261.2 3251.0481,-5327.2752 3326.2639,-5385.9453 3403.8282,-5436.6389"/>
<polygon fill="#000000" stroke="#000000" points="3402.0223,-5439.6393 3412.3157,-5442.1485 3405.8337,-5433.7679 3402.0223,-5439.6393"/>
</g>
<!-- 19&#45;&gt;18 -->
<g id="edge77" class="edge">
<title>19&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2055.1204,-3005.1209C2235.2389,-3147.353 2595.5356,-3431.8641 2838.5602,-3623.7706"/>
<polygon fill="#000000" stroke="#000000" points="2836.418,-3626.5386 2846.4353,-3629.9891 2840.7562,-3621.0449 2836.418,-3626.5386"/>
</g>
<!-- 19struct0 -->
<g id="node39" class="node">
<title>19struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2183.9309,-1798.5 2183.9309,-1915.3 2378.3889,-1915.3 2378.3889,-1798.5 2183.9309,-1798.5"/>
<text text-anchor="middle" x="2281.1599" y="-1898.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2281.1599" y="-1881.9" font-family="Times,serif" font-size="14.00" fill="#000000">Pricing</text>
<polyline fill="none" stroke="#000000" points="2183.9309,-1873.7 2378.3889,-1873.7 "/>
<text text-anchor="start" x="2191.9309" y="-1857.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPrice: uint</text>
<text text-anchor="start" x="2191.9309" y="-1840.3" font-family="Times,serif" font-size="14.00" fill="#000000">preTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="2191.9309" y="-1823.5" font-family="Times,serif" font-size="14.00" fill="#000000">postTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="2191.9309" y="-1806.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
</g>
<!-- 19struct0&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>19struct0&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M2275.1339,-1915.6348C2263.3503,-2019.9205 2233.1889,-2243.416 2175.1599,-2423.8 2129.2808,-2566.4159 2051.8026,-2721.4506 1999.3544,-2819.0018"/>
<polygon fill="#000000" stroke="#000000" points="1999.2652,-2819.1671 1999.9347,-2826.347 1993.5645,-2829.7265 1992.895,-2822.5466 1999.2652,-2819.1671"/>
</g>
<!-- 21&#45;&gt;11 -->
<g id="edge79" class="edge">
<title>21&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1050.7792,-3072.6487C1103.1438,-3591.7983 1269.9416,-5237.0137 1283.1599,-5261.2 1518.1595,-5691.1945 2044.0618,-5971.7504 2356.1693,-6107.1459"/>
<polygon fill="#000000" stroke="#000000" points="2355.2323,-6110.5538 2365.8003,-6111.3074 2358.0088,-6104.128 2355.2323,-6110.5538"/>
</g>
<!-- 22&#45;&gt;18 -->
<g id="edge80" class="edge">
<title>22&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4007.0074,-2996.9078C3885.3328,-3092.449 3677.0616,-3259.0366 3506.1599,-3411.2 3430.7083,-3478.3789 3350.4209,-3554.7509 3280.412,-3623.0659"/>
<polygon fill="#000000" stroke="#000000" points="3277.944,-3620.5839 3273.2359,-3630.0752 3282.8353,-3625.5915 3277.944,-3620.5839"/>
</g>
<!-- 23 -->
<g id="node43" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="411.8204,-5608.5 411.8204,-5716.5 876.4994,-5716.5 876.4994,-5608.5 411.8204,-5608.5"/>
<text text-anchor="middle" x="644.1599" y="-5699.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="644.1599" y="-5683.1" font-family="Times,serif" font-size="14.00" fill="#000000">IUniswapV3SwapCallback</text>
<polyline fill="none" stroke="#000000" points="411.8204,-5674.9 876.4994,-5674.9 "/>
<text text-anchor="middle" x="644.1599" y="-5658.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="411.8204,-5650.1 876.4994,-5650.1 "/>
<text text-anchor="start" x="419.8204" y="-5633.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="419.8204" y="-5616.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;uniswapV3SwapCallback(amount0Delta: int, amount1Delta: int, data: bytes)</text>
</g>
<!-- 24 -->
<g id="node44" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="463.5448,-4707.5 463.5448,-4815.5 824.775,-4815.5 824.775,-4707.5 463.5448,-4707.5"/>
<text text-anchor="middle" x="644.1599" y="-4798.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="644.1599" y="-4782.1" font-family="Times,serif" font-size="14.00" fill="#000000">ISwapRouter</text>
<polyline fill="none" stroke="#000000" points="463.5448,-4773.9 824.775,-4773.9 "/>
<text text-anchor="middle" x="644.1599" y="-4757.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="463.5448,-4749.1 824.775,-4749.1 "/>
<text text-anchor="start" x="471.5448" y="-4732.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="471.5448" y="-4715.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exactInput(params: ExactInputParams): (amountOut: uint)</text>
</g>
<!-- 24&#45;&gt;23 -->
<g id="edge81" class="edge">
<title>24&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M644.1599,-4815.8325C644.1599,-4967.3838 644.1599,-5395.5906 644.1599,-5578.2492"/>
<polygon fill="none" stroke="#000000" points="633.66,-5578.3818 644.1599,-5608.3819 654.66,-5578.3819 633.66,-5578.3818"/>
</g>
<!-- 24struct0 -->
<g id="node45" class="node">
<title>24struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="31.074,-3751.7 31.074,-3885.3 195.2458,-3885.3 195.2458,-3751.7 31.074,-3751.7"/>
<text text-anchor="middle" x="113.1599" y="-3868.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="113.1599" y="-3851.9" font-family="Times,serif" font-size="14.00" fill="#000000">ExactInputParams</text>
<polyline fill="none" stroke="#000000" points="31.074,-3843.7 195.2458,-3843.7 "/>
<text text-anchor="start" x="39.074" y="-3827.1" font-family="Times,serif" font-size="14.00" fill="#000000">path: bytes</text>
<text text-anchor="start" x="39.074" y="-3810.3" font-family="Times,serif" font-size="14.00" fill="#000000">recipient: address</text>
<text text-anchor="start" x="39.074" y="-3793.5" font-family="Times,serif" font-size="14.00" fill="#000000">deadline: uint</text>
<text text-anchor="start" x="39.074" y="-3776.7" font-family="Times,serif" font-size="14.00" fill="#000000">amountIn: uint</text>
<text text-anchor="start" x="39.074" y="-3759.9" font-family="Times,serif" font-size="14.00" fill="#000000">amountOutMinimum: uint</text>
</g>
<!-- 24struct0&#45;&gt;24 -->
<g id="edge20" class="edge">
<title>24struct0&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M118.5179,-3885.4625C127.2991,-3968.8516 149.6155,-4113.9489 204.1599,-4225.8 298.9251,-4420.1298 477.3564,-4605.5161 575.3682,-4698.8189"/>
<polygon fill="#000000" stroke="#000000" points="575.5949,-4699.0337 582.7018,-4700.2554 584.3075,-4707.2855 577.2006,-4706.0637 575.5949,-4699.0337"/>
</g>
<!-- 26 -->
<g id="node47" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7596.9024,-4623.5 7596.9024,-4899.5 8093.4174,-4899.5 8093.4174,-4623.5 7596.9024,-4623.5"/>
<text text-anchor="middle" x="7845.1599" y="-4882.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7845.1599" y="-4866.1" font-family="Times,serif" font-size="14.00" fill="#000000">Address</text>
<polyline fill="none" stroke="#000000" points="7596.9024,-4857.9 8093.4174,-4857.9 "/>
<text text-anchor="middle" x="7845.1599" y="-4841.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7596.9024,-4833.1 8093.4174,-4833.1 "/>
<text text-anchor="start" x="7604.9024" y="-4816.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7604.9024" y="-4799.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_verifyCallResult(success: bool, returndata: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4782.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7604.9024" y="-4766.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isContract(account: address): bool</text>
<text text-anchor="start" x="7604.9024" y="-4749.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4732.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4715.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4698.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4682.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4665.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4648.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="7604.9024" y="-4631.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes, errorMessage: string): bytes</text>
</g>
<!-- 27&#45;&gt;26 -->
<g id="edge82" class="edge">
<title>27&#45;&gt;26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7433.2256,-4048.9634C7476.1614,-4117.0709 7522.6415,-4192.0634 7564.1599,-4261.8 7634.0327,-4379.1623 7709.7429,-4514.2942 7764.9528,-4614.4181"/>
<polygon fill="#000000" stroke="#000000" points="7762.0032,-4616.3175 7769.8949,-4623.3866 7768.1339,-4612.9391 7762.0032,-4616.3175"/>
</g>
<!-- 28&#45;&gt;26 -->
<g id="edge83" class="edge">
<title>28&#45;&gt;26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7866.7549,-4225.6015C7861.202,-4363.4027 7855.3476,-4508.6829 7851.1374,-4613.1624"/>
<polygon fill="#000000" stroke="#000000" points="7847.628,-4613.3294 7850.7224,-4623.4623 7854.6223,-4613.6113 7847.628,-4613.3294"/>
</g>
<!-- 28&#45;&gt;28 -->
<g id="edge84" class="edge">
<title>28&#45;&gt;28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8146.1156,-3715.668C8157.4292,-3742.0352 8164.0117,-3776.3125 8164.0117,-3818.5 8164.0117,-3855.7437 8158.8816,-3886.8225 8149.8952,-3911.7364"/>
<polygon fill="#000000" stroke="#000000" points="8146.524,-3910.7451 8146.1156,-3921.332 8153.037,-3913.3105 8146.524,-3910.7451"/>
</g>
<!-- 29 -->
<g id="node50" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8464.8454,-666.7 8464.8454,-909.1 10013.4744,-909.1 10013.4744,-666.7 8464.8454,-666.7"/>
<text text-anchor="middle" x="9239.1599" y="-892.5" font-family="Times,serif" font-size="14.00" fill="#000000">LyraMarketsRegistry</text>
<polyline fill="none" stroke="#000000" points="8464.8454,-884.3 10013.4744,-884.3 "/>
<text text-anchor="start" x="8472.8454" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8472.8454" y="-850.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarkets: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="8472.8454" y="-834.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8472.8454" y="-817.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketsAddresses: mapping(address=&gt;MarketAddresses)</text>
<polyline fill="none" stroke="#000000" points="8464.8454,-809.1 10013.4744,-809.1 "/>
<text text-anchor="start" x="8472.8454" y="-792.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8472.8454" y="-775.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addMarket(optionMarket: address, liquidityPool: address, liquidityCertificate: address, optionGreekCache: address, optionMarketPricer: address, poolHedger: address, shortCollateral: address, quoteAsset: address, baseAsset: address, optionToken: address)</text>
<text text-anchor="start" x="8472.8454" y="-758.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMarket(optionMarket: address)</text>
<text text-anchor="start" x="8472.8454" y="-742.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarkets(): address[]</text>
<text text-anchor="start" x="8472.8454" y="-725.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketsAddresses(optionMarketList: address[]): MarketAddresses[]</text>
<text text-anchor="start" x="8472.8454" y="-708.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8472.8454" y="-691.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketAdded(optionMarket: address, liquidityPool: address, liquidityCertificate: address, optionGreekCache: address, optionMarketPricer: address, poolHedger: address, shortCollateral: address, quoteAsset: address, baseAsset: address, optionToken: address)</text>
<text text-anchor="start" x="8472.8454" y="-674.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketRemoved(optionMarket: address)</text>
</g>
<!-- 29struct0 -->
<g id="node51" class="node">
<title>29struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9151.6602,-42.5 9151.6602,-243.3 9326.6596,-243.3 9326.6596,-42.5 9151.6602,-42.5"/>
<text text-anchor="middle" x="9239.1599" y="-226.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9239.1599" y="-209.9" font-family="Times,serif" font-size="14.00" fill="#000000">MarketAddresses</text>
<polyline fill="none" stroke="#000000" points="9151.6602,-201.7 9326.6596,-201.7 "/>
<text text-anchor="start" x="9159.6602" y="-185.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityPool: address</text>
<text text-anchor="start" x="9159.6602" y="-168.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityCertificate: address</text>
<text text-anchor="start" x="9159.6602" y="-151.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionGreekCache: address</text>
<text text-anchor="start" x="9159.6602" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarketPricer: address</text>
<text text-anchor="start" x="9159.6602" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">poolHedger: address</text>
<text text-anchor="start" x="9159.6602" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateral: address</text>
<text text-anchor="start" x="9159.6602" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: address</text>
<text text-anchor="start" x="9159.6602" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: address</text>
<text text-anchor="start" x="9159.6602" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: address</text>
</g>
<!-- 29struct0&#45;&gt;29 -->
<g id="edge21" class="edge">
<title>29struct0&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M9239.1599,-243.3272C9239.1599,-353.9229 9239.1599,-532.2524 9239.1599,-654.5125"/>
<polygon fill="#000000" stroke="#000000" points="9239.16,-654.5351 9243.1599,-660.5352 9239.1599,-666.5351 9235.1599,-660.5351 9239.16,-654.5351"/>
</g>
<!-- 30 -->
<g id="node52" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="213.2801,-3705.7 213.2801,-3931.3 1075.0397,-3931.3 1075.0397,-3705.7 213.2801,-3705.7"/>
<text text-anchor="middle" x="644.1599" y="-3914.7" font-family="Times,serif" font-size="14.00" fill="#000000">MultistepSwapper</text>
<polyline fill="none" stroke="#000000" points="213.2801,-3906.5 1075.0397,-3906.5 "/>
<text text-anchor="start" x="221.2801" y="-3889.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="221.2801" y="-3873.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapRouter: ISwapRouter</text>
<text text-anchor="start" x="221.2801" y="-3856.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="221.2801" y="-3839.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="221.2801" y="-3822.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;approved: mapping(IERC20=&gt;bool)</text>
<text text-anchor="start" x="221.2801" y="-3805.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT_MAX: uint</text>
<polyline fill="none" stroke="#000000" points="213.2801,-3797.7 1075.0397,-3797.7 "/>
<text text-anchor="start" x="221.2801" y="-3781.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="221.2801" y="-3764.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; swap(tokenIn: IERC20, tokenInCurrencyKey: bytes32, amountIn: uint, swaps: Swap[], amountOutMinimum: uint): (amountOut: uint)</text>
<text text-anchor="start" x="221.2801" y="-3747.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_swapRouter: ISwapRouter, _synthetix: ISynthetix)</text>
<text text-anchor="start" x="221.2801" y="-3730.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="221.2801" y="-3713.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 30&#45;&gt;24 -->
<g id="edge85" class="edge">
<title>30&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M644.1599,-3931.3112C644.1599,-4130.791 644.1599,-4539.6019 644.1599,-4697.3918"/>
<polygon fill="#000000" stroke="#000000" points="640.66,-4697.4172 644.1599,-4707.4173 647.66,-4697.4173 640.66,-4697.4172"/>
</g>
<!-- 30&#45;&gt;25 -->
<g id="edge86" class="edge">
<title>30&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M695.43,-3931.3907C735.1462,-4020.39 790.5617,-4148.0367 834.1599,-4261.8 1002.0074,-4699.7744 796.0286,-4982.3339 1173.1599,-5261.2 1281.6659,-5341.4337 2259.3425,-5253.9135 2387.1599,-5297.2 2913.9539,-5475.6035 2886.8609,-5820.9786 3403.1599,-6027.8 3540.7791,-6082.9281 3881.9996,-6128.5007 4173.3635,-6159.2332"/>
<polygon fill="#000000" stroke="#000000" points="4173.3957,-6162.7558 4183.7068,-6160.3202 4174.1274,-6155.7941 4173.3957,-6162.7558"/>
</g>
<!-- 30struct0 -->
<g id="node53" class="node">
<title>30struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="372.9344,-2859.1 372.9344,-2975.9 567.3854,-2975.9 567.3854,-2859.1 372.9344,-2859.1"/>
<text text-anchor="middle" x="470.1599" y="-2959.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="470.1599" y="-2942.5" font-family="Times,serif" font-size="14.00" fill="#000000">Swap</text>
<polyline fill="none" stroke="#000000" points="372.9344,-2934.3 567.3854,-2934.3 "/>
<text text-anchor="start" x="380.9344" y="-2917.7" font-family="Times,serif" font-size="14.00" fill="#000000">swapType: SwapType</text>
<text text-anchor="start" x="380.9344" y="-2900.9" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOut: address</text>
<text text-anchor="start" x="380.9344" y="-2884.1" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOutCurrencyKey: bytes32</text>
<text text-anchor="start" x="380.9344" y="-2867.3" font-family="Times,serif" font-size="14.00" fill="#000000">poolFee: uint24</text>
</g>
<!-- 30struct0&#45;&gt;30 -->
<g id="edge22" class="edge">
<title>30struct0&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M481.4424,-2975.9229C509.3204,-3120.2793 581.948,-3496.357 620.0417,-3693.6124"/>
<polygon fill="#000000" stroke="#000000" points="620.057,-3693.6916 625.1221,-3698.8242 622.3324,-3705.4739 617.2673,-3700.3412 620.057,-3693.6916"/>
</g>
<!-- 30enum0 -->
<g id="node54" class="node">
<title>30enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="585.1301,-2875.9 585.1301,-2959.1 669.1897,-2959.1 669.1897,-2875.9 585.1301,-2875.9"/>
<text text-anchor="middle" x="627.1599" y="-2942.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="627.1599" y="-2925.7" font-family="Times,serif" font-size="14.00" fill="#000000">SwapType</text>
<polyline fill="none" stroke="#000000" points="585.1301,-2917.5 669.1897,-2917.5 "/>
<text text-anchor="start" x="593.1301" y="-2900.9" font-family="Times,serif" font-size="14.00" fill="#000000">Synthetix: 0</text>
<text text-anchor="start" x="593.1301" y="-2884.1" font-family="Times,serif" font-size="14.00" fill="#000000">Uniswap: 1</text>
</g>
<!-- 30enum0&#45;&gt;30 -->
<g id="edge23" class="edge">
<title>30enum0&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M627.9457,-2959.1501C630.3899,-3088.6904 637.9257,-3488.0886 641.8025,-3693.5599"/>
<polygon fill="#000000" stroke="#000000" points="641.8033,-3693.6067 645.9158,-3699.5301 642.0298,-3705.6045 637.9173,-3699.6811 641.8033,-3693.6067"/>
</g>
<!-- 31 -->
<g id="node55" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4885.8667,-2787.9 4885.8667,-3047.1 5550.4531,-3047.1 5550.4531,-2787.9 4885.8667,-2787.9"/>
<text text-anchor="middle" x="5218.1599" y="-3030.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketSafeSlippage</text>
<polyline fill="none" stroke="#000000" points="4885.8667,-3022.3 5550.4531,-3022.3 "/>
<text text-anchor="start" x="4893.8667" y="-3005.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4893.8667" y="-2988.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="4893.8667" y="-2972.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: IOptionToken</text>
<text text-anchor="start" x="4893.8667" y="-2955.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="4893.8667" y="-2938.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="4893.8667" y="-2921.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="4893.8667" y="-2904.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT_MAX: uint</text>
<polyline fill="none" stroke="#000000" points="4885.8667,-2896.7 5550.4531,-2896.7 "/>
<text text-anchor="start" x="4893.8667" y="-2880.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4893.8667" y="-2863.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: IOptionMarket, _optionToken: IOptionToken, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="4893.8667" y="-2846.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(_listingId: uint, tradeType: IOptionMarket.TradeType, amount: uint, maxCost: uint, minCost: uint)</text>
<text text-anchor="start" x="4893.8667" y="-2829.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(_listingId: uint, tradeType: IOptionMarket.TradeType, amount: uint, maxCost: uint, minCost: uint)</text>
<text text-anchor="start" x="4893.8667" y="-2812.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4893.8667" y="-2796.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 31&#45;&gt;18 -->
<g id="edge88" class="edge">
<title>31&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M5150.7769,-3047.1767C5085.9581,-3156.6662 4976.8306,-3306.2964 4834.1599,-3375.2 4701.2399,-3439.3944 3642.2333,-3353.9927 3506.1599,-3411.2 3399.6739,-3455.9683 3304.8023,-3541.1929 3232.2019,-3622.1599"/>
<polygon fill="#000000" stroke="#000000" points="3229.2766,-3620.1825 3225.2459,-3629.9807 3234.5071,-3624.8346 3229.2766,-3620.1825"/>
</g>
<!-- 31&#45;&gt;20 -->
<g id="edge89" class="edge">
<title>31&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M5310.3572,-3047.2913C5382.323,-3143.7087 5488.1026,-3275.2701 5597.1599,-3375.2 5758.5171,-3523.0527 5971.9397,-3660.8627 6107.4253,-3742.4078"/>
<polygon fill="#000000" stroke="#000000" points="6105.8603,-3745.5505 6116.2354,-3747.6972 6109.4635,-3739.5491 6105.8603,-3745.5505"/>
</g>
<!-- 31&#45;&gt;33 -->
<g id="edge87" class="edge">
<title>31&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5229.9472,-3047.1493C5263.9503,-3403.839 5372.2414,-4428.5507 5564.1599,-5261.2 5577.6084,-5319.5473 5595.4586,-5381.6556 5613.5151,-5439.1398"/>
<polygon fill="#000000" stroke="#000000" points="5610.1837,-5440.2135 5616.5319,-5448.6959 5616.8589,-5438.1061 5610.1837,-5440.2135"/>
</g>
<!-- 32 -->
<g id="node56" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6001.6726,-532.3 6001.6726,-1043.5 7344.6472,-1043.5 7344.6472,-532.3 6001.6726,-532.3"/>
<text text-anchor="middle" x="6673.1599" y="-1026.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketViewer</text>
<polyline fill="none" stroke="#000000" points="6001.6726,-1018.7 7344.6472,-1018.7 "/>
<text text-anchor="start" x="6009.6726" y="-1002.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6009.6726" y="-985.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="6009.6726" y="-968.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: IOptionMarket</text>
<text text-anchor="start" x="6009.6726" y="-951.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketPricer: IOptionMarketPricer</text>
<text text-anchor="start" x="6009.6726" y="-934.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: IOptionGreekCache</text>
<text text-anchor="start" x="6009.6726" y="-918.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: IOptionToken</text>
<text text-anchor="start" x="6009.6726" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: ILiquidityPool</text>
<text text-anchor="start" x="6009.6726" y="-884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: IBlackScholes</text>
<text text-anchor="start" x="6009.6726" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="6001.6726,-859.5 7344.6472,-859.5 "/>
<text text-anchor="start" x="6009.6726" y="-842.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6009.6726" y="-826.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingCache(listingId: uint): IOptionGreekCache.OptionListingCache</text>
<text text-anchor="start" x="6009.6726" y="-809.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalCache(): IOptionGreekCache.GlobalCache</text>
<text text-anchor="start" x="6009.6726" y="-792.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPricingForTrade(pricingGlobals: ILyraGlobals.PricingGlobals, trade: IOptionMarket.Trade, _listingId: uint, newCallExposure: int, newPutExposure: int, isCall: bool): (pricing: IOptionMarketPricer.Pricing)</text>
<text text-anchor="start" x="6009.6726" y="-775.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): (timeToMaturity: uint)</text>
<text text-anchor="start" x="6009.6726" y="-758.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6009.6726" y="-742.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _optionMarket: IOptionMarket, _optionMarketPricer: IOptionMarketPricer, _greekCache: IOptionGreekCache, _optionToken: IOptionToken, _liquidityPool: ILiquidityPool, _blackScholes: IBlackScholes)</text>
<text text-anchor="start" x="6009.6726" y="-725.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (boards: BoardView[])</text>
<text text-anchor="start" x="6009.6726" y="-708.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingsForBoard(boardId: uint): (boardListings: ListingView[])</text>
<text text-anchor="start" x="6009.6726" y="-691.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingViewAndBalance(listingId: uint, user: address): (listingView: ListingView, longCallAmt: uint, longPutAmt: uint, shortCallAmt: uint, shortPutAmt: uint)</text>
<text text-anchor="start" x="6009.6726" y="-674.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForOpen(_listingId: uint, tradeType: IOptionMarket.TradeType, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="6009.6726" y="-658.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForClose(_listingId: uint, tradeType: IOptionMarket.TradeType, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="6009.6726" y="-641.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6009.6726" y="-624.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="6009.6726" y="-607.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoard(boardId: uint): IOptionMarket.OptionBoard</text>
<text text-anchor="start" x="6009.6726" y="-590.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListing(listingId: uint): IOptionMarket.OptionListing</text>
<text text-anchor="start" x="6009.6726" y="-574.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingView(listingId: uint): (listingView: ListingView)</text>
<text text-anchor="start" x="6009.6726" y="-557.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForTrade(_listingId: uint, tradeType: IOptionMarket.TradeType, isBuy: bool, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="6009.6726" y="-540.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPremiumForTrade(listing: IOptionMarket.OptionListing, board: IOptionMarket.OptionBoard, trade: IOptionMarket.Trade, pricingGlobals: ILyraGlobals.PricingGlobals, isCall: bool): (uint, uint)</text>
</g>
<!-- 32&#45;&gt;10 -->
<g id="edge94" class="edge">
<title>32&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M7082.3712,-1043.6501C7187.215,-1117.3694 7296.451,-1201.8725 7389.1599,-1290 7540.7619,-1434.1104 7683.3109,-1632.513 7763.6799,-1752.348"/>
<polygon fill="#000000" stroke="#000000" points="7760.8897,-1754.4719 7769.3583,-1760.8385 7766.7084,-1750.5804 7760.8897,-1754.4719"/>
</g>
<!-- 32&#45;&gt;17 -->
<g id="edge92" class="edge">
<title>32&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M6317.6703,-1043.6162C6180.8072,-1127.5843 6018.7283,-1210.4868 5858.1599,-1254 5660.6624,-1307.5207 2365.0195,-1213.6912 2175.1599,-1290 2003.6006,-1358.9535 1852.1552,-1501.8234 1743.9501,-1626.8778"/>
<polygon fill="#000000" stroke="#000000" points="1741.0812,-1624.8459 1737.2107,-1634.7084 1746.3868,-1629.4122 1741.0812,-1624.8459"/>
</g>
<!-- 32&#45;&gt;18 -->
<g id="edge91" class="edge">
<title>32&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M6448.0076,-1043.5947C6135.8172,-1387.6661 5542.4924,-2004.7905 4948.1599,-2423.8 4919.2436,-2444.1863 4897.7082,-2430.9986 4877.1599,-2459.8 4638.6071,-2794.1665 5055.9775,-3101.0031 4750.1599,-3375.2 4698.6816,-3421.3555 3569.8718,-3384.346 3506.1599,-3411.2 3399.7149,-3456.0657 3304.8479,-3541.3012 3232.2399,-3622.2503"/>
<polygon fill="#000000" stroke="#000000" points="3229.3156,-3620.2717 3225.2832,-3630.0692 3234.5452,-3624.9248 3229.3156,-3620.2717"/>
</g>
<!-- 32&#45;&gt;20 -->
<g id="edge93" class="edge">
<title>32&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M6634.7413,-1043.8209C6596.443,-1404.0889 6587.4259,-2057.607 6950.1599,-2423.8 7014.028,-2488.2772 7092.9174,-2390.1993 7151.1599,-2459.8 7183.7967,-2498.8016 7186.2534,-3338.3933 7151.1599,-3375.2 7093.2055,-3435.9836 6464.255,-3362.0431 6396.1599,-3411.2 6291.6692,-3486.6304 6256.7216,-3641.5724 6245.0333,-3737.1071"/>
<polygon fill="#000000" stroke="#000000" points="6241.5258,-3736.9691 6243.846,-3747.3068 6248.4789,-3737.7785 6241.5258,-3736.9691"/>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge90" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7142.6715,-1043.7132C7227.9315,-1112.1841 7305.7121,-1194.3143 7356.1599,-1290 7414.9458,-1401.5009 7320.4643,-2321.5396 7394.1599,-2423.8 7421.0451,-2461.1062 7464.9033,-2422.0487 7491.1599,-2459.8 7520.1978,-2501.5503 7526.5029,-3338.6328 7491.1599,-3375.2 7409.4924,-3459.6963 6518.0268,-3328.8863 6434.1599,-3411.2 6369.4736,-3474.6883 6413.8523,-4138.0495 6391.1599,-4225.8 6327.5333,-4471.8412 5996.5293,-5101.4252 5813.3872,-5439.6557"/>
<polygon fill="#000000" stroke="#000000" points="5810.2365,-5438.1239 5808.5506,-5448.5838 5816.3914,-5441.4582 5810.2365,-5438.1239"/>
</g>
<!-- 32struct0 -->
<g id="node57" class="node">
<title>32struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6753.8061,-101.3 6753.8061,-184.5 6842.5137,-184.5 6842.5137,-101.3 6753.8061,-101.3"/>
<text text-anchor="middle" x="6798.1599" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6798.1599" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">BoardView</text>
<polyline fill="none" stroke="#000000" points="6753.8061,-142.9 6842.5137,-142.9 "/>
<text text-anchor="start" x="6761.8061" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="6761.8061" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
</g>
<!-- 32struct0&#45;&gt;32 -->
<g id="edge24" class="edge">
<title>32struct0&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M6790.0546,-184.7233C6776.8865,-252.6706 6749.8204,-392.3317 6725.0463,-520.1661"/>
<polygon fill="#000000" stroke="#000000" points="6725.0164,-520.3206 6727.8018,-526.972 6722.7333,-532.1014 6719.9479,-525.4499 6725.0164,-520.3206"/>
</g>
<!-- 32struct1 -->
<g id="node58" class="node">
<title>32struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6495.9099,-.5 6495.9099,-285.3 6592.4099,-285.3 6592.4099,-.5 6495.9099,-.5"/>
<text text-anchor="middle" x="6544.1599" y="-268.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6544.1599" y="-251.9" font-family="Times,serif" font-size="14.00" fill="#000000">ListingView</text>
<polyline fill="none" stroke="#000000" points="6495.9099,-243.7 6592.4099,-243.7 "/>
<text text-anchor="start" x="6503.9099" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="6503.9099" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="6503.9099" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="6503.9099" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="6503.9099" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="6503.9099" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="6503.9099" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="6503.9099" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="6503.9099" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="6503.9099" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="6503.9099" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="6503.9099" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="6503.9099" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="6503.9099" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
</g>
<!-- 32struct1&#45;&gt;32 -->
<g id="edge25" class="edge">
<title>32struct1&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M6572.7091,-285.6463C6586.5199,-354.7002 6603.5618,-439.9095 6619.6613,-520.4073"/>
<polygon fill="#000000" stroke="#000000" points="6619.6759,-520.4803 6624.7749,-525.5793 6622.0293,-532.2473 6616.9303,-527.1483 6619.6759,-520.4803"/>
</g>
<!-- 32struct2 -->
<g id="node59" class="node">
<title>32struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6610.3429,-50.9 6610.3429,-234.9 6735.9769,-234.9 6735.9769,-50.9 6610.3429,-50.9"/>
<text text-anchor="middle" x="6673.1599" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6673.1599" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000">OwnedOptionView</text>
<polyline fill="none" stroke="#000000" points="6610.3429,-193.3 6735.9769,-193.3 "/>
<text text-anchor="start" x="6618.3429" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="6618.3429" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="6618.3429" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="6618.3429" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="6618.3429" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">callAmount: int</text>
<text text-anchor="start" x="6618.3429" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">putAmount: int</text>
<text text-anchor="start" x="6618.3429" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="6618.3429" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
</g>
<!-- 32struct2&#45;&gt;32 -->
<g id="edge26" class="edge">
<title>32struct2&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M6673.1599,-234.97C6673.1599,-309.5494 6673.1599,-418.5438 6673.1599,-520.0872"/>
<polygon fill="#000000" stroke="#000000" points="6673.16,-520.1111 6677.1599,-526.1111 6673.1599,-532.1111 6669.1599,-526.1111 6673.16,-520.1111"/>
</g>
<!-- 35 -->
<g id="node62" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9333.7363,-5591.7 9333.7363,-5733.3 9654.5835,-5733.3 9654.5835,-5591.7 9333.7363,-5591.7"/>
<text text-anchor="middle" x="9494.1599" y="-5716.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="9494.1599" y="-5699.9" font-family="Times,serif" font-size="14.00" fill="#000000">BytesLib</text>
<polyline fill="none" stroke="#000000" points="9333.7363,-5691.7 9654.5835,-5691.7 "/>
<text text-anchor="middle" x="9494.1599" y="-5675.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9333.7363,-5666.9 9654.5835,-5666.9 "/>
<text text-anchor="start" x="9341.7363" y="-5650.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="9341.7363" y="-5633.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;slice(_bytes: bytes, _start: uint, _length: uint): bytes</text>
<text text-anchor="start" x="9341.7363" y="-5616.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toAddress(_bytes: bytes, _start: uint): address</text>
<text text-anchor="start" x="9341.7363" y="-5599.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toUint24(_bytes: bytes, _start: uint): uint24</text>
</g>
<!-- 36 -->
<g id="node63" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8647.3776,-5600.1 8647.3776,-5724.9 8886.9422,-5724.9 8886.9422,-5600.1 8647.3776,-5600.1"/>
<text text-anchor="middle" x="8767.1599" y="-5708.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="8767.1599" y="-5691.5" font-family="Times,serif" font-size="14.00" fill="#000000">ITestERC20</text>
<polyline fill="none" stroke="#000000" points="8647.3776,-5683.3 8886.9422,-5683.3 "/>
<text text-anchor="middle" x="8767.1599" y="-5666.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8647.3776,-5658.5 8886.9422,-5658.5 "/>
<text text-anchor="start" x="8655.3776" y="-5641.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8655.3776" y="-5625.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="8655.3776" y="-5608.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(account: address, amount: uint)</text>
</g>
<!-- 37 -->
<g id="node64" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9262.8004,-4631.9 9262.8004,-4891.1 9725.5194,-4891.1 9725.5194,-4631.9 9262.8004,-4631.9"/>
<text text-anchor="middle" x="9494.1599" y="-4874.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="9494.1599" y="-4857.7" font-family="Times,serif" font-size="14.00" fill="#000000">Path</text>
<polyline fill="none" stroke="#000000" points="9262.8004,-4849.5 9725.5194,-4849.5 "/>
<text text-anchor="start" x="9270.8004" y="-4832.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="9270.8004" y="-4816.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ADDR_SIZE: uint</text>
<text text-anchor="start" x="9270.8004" y="-4799.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FEE_SIZE: uint</text>
<text text-anchor="start" x="9270.8004" y="-4782.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;NEXT_OFFSET: uint</text>
<text text-anchor="start" x="9270.8004" y="-4765.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;POP_OFFSET: uint</text>
<text text-anchor="start" x="9270.8004" y="-4748.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MULTIPLE_POOLS_MIN_LENGTH: uint</text>
<polyline fill="none" stroke="#000000" points="9262.8004,-4740.7 9725.5194,-4740.7 "/>
<text text-anchor="start" x="9270.8004" y="-4724.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="9270.8004" y="-4707.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasMultiplePools(path: bytes): bool</text>
<text text-anchor="start" x="9270.8004" y="-4690.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;numPools(path: bytes): uint</text>
<text text-anchor="start" x="9270.8004" y="-4673.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decodeFirstPool(path: bytes): (tokenA: address, tokenB: address, fee: uint24)</text>
<text text-anchor="start" x="9270.8004" y="-4656.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFirstPool(path: bytes): bytes</text>
<text text-anchor="start" x="9270.8004" y="-4640.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;skipToken(path: bytes): bytes</text>
</g>
<!-- 37&#45;&gt;35 -->
<g id="edge95" class="edge">
<title>37&#45;&gt;35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9494.1599,-4891.5509C9494.1599,-5080.3887 9494.1599,-5424.9761 9494.1599,-5581.402"/>
<polygon fill="#000000" stroke="#000000" points="9490.66,-5581.4298 9494.1599,-5591.4298 9497.66,-5581.4298 9490.66,-5581.4298"/>
</g>
<!-- 38 -->
<g id="node65" class="node">
<title>38</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7555.2286,-38.5 7555.2286,-247.3 8107.0912,-247.3 8107.0912,-38.5 7555.2286,-38.5"/>
<text text-anchor="middle" x="7831.1599" y="-230.7" font-family="Times,serif" font-size="14.00" fill="#000000">TestBlackScholes</text>
<polyline fill="none" stroke="#000000" points="7555.2286,-222.5 8107.0912,-222.5 "/>
<text text-anchor="middle" x="7831.1599" y="-205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7555.2286,-197.7 8107.0912,-197.7 "/>
<text text-anchor="start" x="7563.2286" y="-181.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7563.2286" y="-164.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln_pub(x: uint): int</text>
<text text-anchor="start" x="7563.2286" y="-147.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp_pub(x: int): uint</text>
<text text-anchor="start" x="7563.2286" y="-130.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt_pub(x: uint): uint</text>
<text text-anchor="start" x="7563.2286" y="-113.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs_pub(x: int): uint</text>
<text text-anchor="start" x="7563.2286" y="-97.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal_pub(x: int): uint</text>
<text text-anchor="start" x="7563.2286" y="-80.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF_pub(x: int): uint</text>
<text text-anchor="start" x="7563.2286" y="-63.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise_pub(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="7563.2286" y="-46.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2_pub(tAnnualised: uint, volatility: uint, spot: uint, strike: uint, rate: int): (d1: int, d2: int)</text>
</g>
<!-- 38&#45;&gt;0 -->
<g id="edge96" class="edge">
<title>38&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M7831.1599,-247.6064C7831.1599,-308.3318 7831.1599,-388.3963 7831.1599,-468.2296"/>
<polygon fill="none" stroke="#000000" points="7820.66,-468.4786 7831.1599,-498.4786 7841.66,-468.4787 7820.66,-468.4786"/>
</g>
<!-- 39 -->
<g id="node66" class="node">
<title>39</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6514.0332,-3579.7 6514.0332,-4057.3 6950.2866,-4057.3 6950.2866,-3579.7 6514.0332,-3579.7"/>
<text text-anchor="middle" x="6732.1599" y="-4040.7" font-family="Times,serif" font-size="14.00" fill="#000000">TestCollateralShort</text>
<polyline fill="none" stroke="#000000" points="6514.0332,-4032.5 6950.2866,-4032.5 "/>
<text text-anchor="start" x="6522.0332" y="-4015.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6522.0332" y="-3999.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="6522.0332" y="-3982.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="6522.0332" y="-3965.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextLoanId: uint</text>
<text text-anchor="start" x="6522.0332" y="-3948.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6522.0332" y="-3931.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCratio: uint</text>
<text text-anchor="start" x="6522.0332" y="-3915.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCollateral: uint</text>
<text text-anchor="start" x="6522.0332" y="-3898.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;issueFeeRate: uint</text>
<text text-anchor="start" x="6522.0332" y="-3881.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="6522.0332" y="-3864.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="6522.0332" y="-3847.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;loans: mapping(uint=&gt;Loan)</text>
<text text-anchor="start" x="6522.0332" y="-3831.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="6514.0332,-3822.9 6950.2866,-3822.9 "/>
<text text-anchor="start" x="6522.0332" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6522.0332" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="6522.0332" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="6522.0332" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="6522.0332" y="-3739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;draw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3722.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repay(account: address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repayWithCollateral(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3671.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3655.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (uint, uint)</text>
<text text-anchor="start" x="6522.0332" y="-3638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createTestEmptyLoanForAccount(account: address)</text>
<text text-anchor="start" x="6522.0332" y="-3621.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;testForceClose(id: uint)</text>
<text text-anchor="start" x="6522.0332" y="-3604.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6522.0332" y="-3587.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 39&#45;&gt;3 -->
<g id="edge99" class="edge">
<title>39&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6811.6997,-4057.3728C6831.742,-4117.5636 6854.0316,-4184.5032 6876.6697,-4252.4896"/>
<polygon fill="#000000" stroke="#000000" points="6873.386,-4253.707 6879.8661,-4262.0891 6880.0275,-4251.4955 6873.386,-4253.707"/>
</g>
<!-- 39&#45;&gt;11 -->
<g id="edge97" class="edge">
<title>39&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6636.9247,-4057.3016C6614.7256,-4122.612 6593.8788,-4194.0788 6581.1599,-4261.8 6540.1276,-4480.2746 6618.2439,-5053.8324 6538.1599,-5261.2 6378.4671,-5674.7046 6299.5349,-5835.4789 5900.1599,-6027.8 5813.7976,-6069.3882 4270.8726,-6058.5934 4175.1599,-6063.8 3715.1256,-6088.8248 3181.2106,-6140.6793 2868.6619,-6173.354"/>
<polygon fill="none" stroke="#000000" points="2867.3912,-6162.9296 2838.6511,-6176.5036 2869.5832,-6183.8149 2867.3912,-6162.9296"/>
</g>
<!-- 39&#45;&gt;33 -->
<g id="edge98" class="edge">
<title>39&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6615.3428,-4057.4448C6588.5616,-4122.2967 6563.4835,-4193.5024 6548.1599,-4261.8 6523.8217,-4370.2756 6561.0064,-5168.157 6500.1599,-5261.2 6365.633,-5466.9107 6092.473,-5571.1679 5900.9294,-5621.0834"/>
<polygon fill="#000000" stroke="#000000" points="5899.8241,-5617.7538 5891.0135,-5623.638 5901.5705,-5624.5325 5899.8241,-5617.7538"/>
</g>
<!-- 39&#45;&gt;36 -->
<g id="edge100" class="edge">
<title>39&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M6815.0542,-4057.3357C6849.441,-4122.5548 6896.3788,-4186.1121 6959.1599,-4225.8 7063.0661,-4291.4858 7423.7272,-4175.3903 7511.1599,-4261.8 7669.59,-4418.3764 7436.375,-5098.1736 7588.1599,-5261.2 7625.0588,-5300.8317 7776.8277,-5283.2881 7829.1599,-5297.2 8127.145,-5376.4156 8459.9266,-5519.9529 8638.0046,-5601.5263"/>
<polygon fill="#000000" stroke="#000000" points="8636.6035,-5604.7343 8647.152,-5605.7244 8639.5233,-5598.3723 8636.6035,-5604.7343"/>
</g>
<!-- 40 -->
<g id="node67" class="node">
<title>40</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8971.4614,-4673.9 8971.4614,-4849.1 9244.8584,-4849.1 9244.8584,-4673.9 8971.4614,-4673.9"/>
<text text-anchor="middle" x="9108.1599" y="-4832.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20</text>
<polyline fill="none" stroke="#000000" points="8971.4614,-4824.3 9244.8584,-4824.3 "/>
<text text-anchor="start" x="8979.4614" y="-4807.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8979.4614" y="-4790.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="8971.4614,-4782.7 9244.8584,-4782.7 "/>
<text text-anchor="start" x="8979.4614" y="-4766.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8979.4614" y="-4749.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="8979.4614" y="-4732.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="8979.4614" y="-4715.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="8979.4614" y="-4698.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8979.4614" y="-4682.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 40&#45;&gt;36 -->
<g id="edge101" class="edge">
<title>40&#45;&gt;36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9087.5779,-4849.2116C9062.7715,-4950.1889 9017.5641,-5120.2552 8963.1599,-5261.2 8920.4509,-5371.846 8858.8031,-5493.5415 8816.0974,-5573.5782"/>
<polygon fill="none" stroke="#000000" points="8806.8144,-5568.6709 8801.844,-5600.0643 8825.3068,-5578.6225 8806.8144,-5568.6709"/>
</g>
<!-- 41 -->
<g id="node68" class="node">
<title>41</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9132.063,-3730.9 9132.063,-3906.1 9542.2568,-3906.1 9542.2568,-3730.9 9132.063,-3730.9"/>
<text text-anchor="middle" x="9337.1599" y="-3889.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20Fail</text>
<polyline fill="none" stroke="#000000" points="9132.063,-3881.3 9542.2568,-3881.3 "/>
<text text-anchor="start" x="9140.063" y="-3864.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9140.063" y="-3847.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;forceFail: bool</text>
<polyline fill="none" stroke="#000000" points="9132.063,-3839.7 9542.2568,-3839.7 "/>
<text text-anchor="start" x="9140.063" y="-3823.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9140.063" y="-3806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setForceFail(_forceFail: bool)</text>
<text text-anchor="start" x="9140.063" y="-3789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="9140.063" y="-3772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(sender: address, receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="9140.063" y="-3755.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9140.063" y="-3739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 41&#45;&gt;40 -->
<g id="edge102" class="edge">
<title>41&#45;&gt;40</title>
<path fill="none" stroke="#000000" d="M9315.8218,-3906.3683C9274.3964,-4076.9541 9183.0778,-4452.9954 9136.5754,-4644.4876"/>
<polygon fill="none" stroke="#000000" points="9126.3201,-4642.2234 9129.444,-4673.854 9146.727,-4647.1791 9126.3201,-4642.2234"/>
</g>
<!-- 42 -->
<g id="node69" class="node">
<title>42</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8580.4954,-4673.9 8580.4954,-4849.1 8953.8244,-4849.1 8953.8244,-4673.9 8580.4954,-4673.9"/>
<text text-anchor="middle" x="8767.1599" y="-4832.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20SetDecimals</text>
<polyline fill="none" stroke="#000000" points="8580.4954,-4824.3 8953.8244,-4824.3 "/>
<text text-anchor="start" x="8588.4954" y="-4807.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8588.4954" y="-4790.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="8580.4954,-4782.7 8953.8244,-4782.7 "/>
<text text-anchor="start" x="8588.4954" y="-4766.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8588.4954" y="-4749.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="8588.4954" y="-4732.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="8588.4954" y="-4715.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="8588.4954" y="-4698.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8588.4954" y="-4682.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string, decimals_: uint8)</text>
</g>
<!-- 42&#45;&gt;36 -->
<g id="edge103" class="edge">
<title>42&#45;&gt;36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8767.1599,-4849.1209C8767.1599,-5019.7031 8767.1599,-5394.9361 8767.1599,-5569.6272"/>
<polygon fill="none" stroke="#000000" points="8756.66,-5569.8174 8767.1599,-5599.8175 8777.66,-5569.8175 8756.66,-5569.8174"/>
</g>
<!-- 43 -->
<g id="node70" class="node">
<title>43</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6703.7415,-5574.9 6703.7415,-5750.1 7106.5783,-5750.1 7106.5783,-5574.9 6703.7415,-5574.9"/>
<text text-anchor="middle" x="6905.1599" y="-5733.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchangeRates</text>
<polyline fill="none" stroke="#000000" points="6703.7415,-5725.3 7106.5783,-5725.3 "/>
<text text-anchor="start" x="6711.7415" y="-5708.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6711.7415" y="-5691.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(bytes32=&gt;uint)</text>
<text text-anchor="start" x="6711.7415" y="-5675.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isInvalid: mapping(bytes32=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="6703.7415,-5666.9 7106.5783,-5666.9 "/>
<text text-anchor="start" x="6711.7415" y="-5650.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6711.7415" y="-5633.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, invalid: bool)</text>
<text text-anchor="start" x="6711.7415" y="-5616.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndInvalid(currencyKey: bytes32, rate: uint, invalid: bool)</text>
<text text-anchor="start" x="6711.7415" y="-5599.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6711.7415" y="-5583.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 43&#45;&gt;12 -->
<g id="edge104" class="edge">
<title>43&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6905.1599,-5750.1287C6905.1599,-5851.6969 6905.1599,-6017.9104 6905.1599,-6118.028"/>
<polygon fill="none" stroke="#000000" points="6894.66,-6118.0455 6905.1599,-6148.0455 6915.66,-6118.0456 6894.66,-6118.0455"/>
</g>
<!-- 44 -->
<g id="node71" class="node">
<title>44</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7161.6674,-5583.3 7161.6674,-5741.7 7820.6524,-5741.7 7820.6524,-5583.3 7161.6674,-5583.3"/>
<text text-anchor="middle" x="7491.1599" y="-5725.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchanger</text>
<polyline fill="none" stroke="#000000" points="7161.6674,-5716.9 7820.6524,-5716.9 "/>
<text text-anchor="start" x="7169.6674" y="-5700.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7169.6674" y="-5683.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fee: mapping(bytes32=&gt;mapping(bytes32=&gt;uint))</text>
<polyline fill="none" stroke="#000000" points="7161.6674,-5675.3 7820.6524,-5675.3 "/>
<text text-anchor="start" x="7169.6674" y="-5658.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7169.6674" y="-5641.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
<text text-anchor="start" x="7169.6674" y="-5625.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32, newFee: uint)</text>
<text text-anchor="start" x="7169.6674" y="-5608.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7169.6674" y="-5591.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 44&#45;&gt;13 -->
<g id="edge105" class="edge">
<title>44&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7491.1599,-5741.8593C7491.1599,-5842.4306 7491.1599,-6015.0425 7491.1599,-6117.9375"/>
<polygon fill="none" stroke="#000000" points="7480.66,-6118.0955 7491.1599,-6148.0955 7501.66,-6118.0955 7480.66,-6118.0955"/>
</g>
<!-- 45 -->
<g id="node72" class="node">
<title>45</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4075.3776,-700.3 4075.3776,-875.5 4328.9422,-875.5 4328.9422,-700.3 4075.3776,-700.3"/>
<text text-anchor="middle" x="4202.1599" y="-858.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestLiquidityPool</text>
<polyline fill="none" stroke="#000000" points="4075.3776,-850.7 4328.9422,-850.7 "/>
<text text-anchor="middle" x="4202.1599" y="-834.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4075.3776,-825.9 4328.9422,-825.9 "/>
<text text-anchor="start" x="4083.3776" y="-809.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4083.3776" y="-792.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="4083.3776" y="-775.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="4083.3776" y="-758.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="4083.3776" y="-742.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_totalQuoteAmountReserved(): uint</text>
<text text-anchor="start" x="4083.3776" y="-725.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_tokensBurnableForRound(): uint</text>
<text text-anchor="start" x="4083.3776" y="-708.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_totalTokenSupply(): uint</text>
</g>
<!-- 45&#45;&gt;2 -->
<g id="edge106" class="edge">
<title>45&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4202.1599,-875.835C4202.1599,-964.2129 4202.1599,-1108.6875 4202.1599,-1259.9271"/>
<polygon fill="none" stroke="#000000" points="4191.66,-1260.2505 4202.1599,-1290.2506 4212.66,-1260.2506 4191.66,-1260.2505"/>
</g>
<!-- 46 -->
<g id="node73" class="node">
<title>46</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9344.8215,-63.7 9344.8215,-222.1 9531.4983,-222.1 9531.4983,-63.7 9344.8215,-63.7"/>
<text text-anchor="middle" x="9438.1599" y="-205.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestPausableOwnable</text>
<polyline fill="none" stroke="#000000" points="9344.8215,-197.3 9531.4983,-197.3 "/>
<text text-anchor="start" x="9352.8215" y="-180.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9352.8215" y="-163.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;someValue: uint</text>
<polyline fill="none" stroke="#000000" points="9344.8215,-155.7 9531.4983,-155.7 "/>
<text text-anchor="start" x="9352.8215" y="-139.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9352.8215" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSomeValue(_value: uint)</text>
<text text-anchor="start" x="9352.8215" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaused()</text>
<text text-anchor="start" x="9352.8215" y="-88.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9352.8215" y="-71.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 47 -->
<g id="node74" class="node">
<title>47</title>
<polygon fill="#f2f2f2" stroke="#000000" points="400.6755,-55.3 400.6755,-230.5 1145.6443,-230.5 1145.6443,-55.3 400.6755,-55.3"/>
<text text-anchor="middle" x="773.1599" y="-213.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestPoolHedger</text>
<polyline fill="none" stroke="#000000" points="400.6755,-205.7 1145.6443,-205.7 "/>
<text text-anchor="middle" x="773.1599" y="-189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="400.6755,-180.9 1145.6443,-180.9 "/>
<text text-anchor="start" x="408.6755" y="-164.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="408.6755" y="-147.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDeltaExt(expectedHedge: int)</text>
<text text-anchor="start" x="408.6755" y="-130.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLongExt(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="408.6755" y="-113.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLongExt(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="408.6755" y="-97.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;callTransferQuoteToHedge(exchangeGlobals: ILyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="408.6755" y="-80.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortToExt(exchangeGlobals: ILyraGlobals.ExchangeGlobals, desiredShort: uint, currentShort: uint, currentCollateral: uint)</text>
<text text-anchor="start" x="408.6755" y="-63.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendAllQuoteToLPExt()</text>
</g>
<!-- 47&#45;&gt;8 -->
<g id="edge107" class="edge">
<title>47&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M773.1599,-230.5588C773.1599,-266.4993 773.1599,-310.9388 773.1599,-358.9203"/>
<polygon fill="none" stroke="#000000" points="762.66,-359.209 773.1599,-389.2091 783.66,-359.2091 762.66,-359.209"/>
</g>
<!-- 48 -->
<g id="node75" class="node">
<title>48</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8646.0704,-3722.5 8646.0704,-3914.5 9114.2494,-3914.5 9114.2494,-3722.5 8646.0704,-3722.5"/>
<text text-anchor="middle" x="8880.1599" y="-3897.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestSwapRouter</text>
<polyline fill="none" stroke="#000000" points="8646.0704,-3889.7 9114.2494,-3889.7 "/>
<text text-anchor="start" x="8654.0704" y="-3873.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8654.0704" y="-3856.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="8654.0704" y="-3839.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(address=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="8646.0704,-3831.3 9114.2494,-3831.3 "/>
<text text-anchor="start" x="8654.0704" y="-3814.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8654.0704" y="-3797.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; exactInput(params: ExactInputParams): (amountOut: uint)</text>
<text text-anchor="start" x="8654.0704" y="-3781.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addToken(token: address, rate: uint)</text>
<text text-anchor="start" x="8654.0704" y="-3764.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uniswapV3SwapCallback(amount0Delta: int, amount1Delta: int, _data: bytes)</text>
<text text-anchor="start" x="8654.0704" y="-3747.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8654.0704" y="-3730.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_factory: address, _WETH9: address)</text>
</g>
<!-- 48&#45;&gt;24 -->
<g id="edge108" class="edge">
<title>48&#45;&gt;24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8853.2327,-3914.7837C8820.1302,-4012.733 8753.5026,-4159.2959 8637.1599,-4225.8 8561.1817,-4269.2309 2422.7385,-4249.03 2336.1599,-4261.8 1759.451,-4346.8625 1105.0479,-4581.6404 807.2344,-4696.505"/>
<polygon fill="none" stroke="#000000" points="803.2912,-4686.7722 779.1133,-4707.4043 810.8804,-4706.3529 803.2912,-4686.7722"/>
</g>
<!-- 48&#45;&gt;33 -->
<g id="edge109" class="edge">
<title>48&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8840.6524,-3914.767C8800.1587,-4004.131 8730.0201,-4136.4547 8637.1599,-4225.8 8613.0818,-4248.9666 8594.0603,-4237.4686 8571.1599,-4261.8 8234.8795,-4619.0933 8512.8967,-4992.8007 8102.1599,-5261.2 8036.7037,-5303.9729 6771.9851,-5282.6425 6695.1599,-5297.2 6410.5959,-5351.1215 6099.6462,-5475.1691 5900.3665,-5563.7356"/>
<polygon fill="#000000" stroke="#000000" points="5898.6718,-5560.6589 5890.9619,-5567.9258 5901.5208,-5567.0529 5898.6718,-5560.6589"/>
</g>
<!-- 48&#45;&gt;37 -->
<g id="edge111" class="edge">
<title>48&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8913.1641,-3914.5873C8950.0397,-4007.7283 9018.65,-4146.2636 9123.1599,-4225.8 9171.2086,-4262.3671 9207.8081,-4223.1046 9254.1599,-4261.8 9364.6233,-4354.0172 9427.922,-4508.971 9461.4683,-4621.9218"/>
<polygon fill="#000000" stroke="#000000" points="9458.1585,-4623.0736 9464.3261,-4631.6882 9464.8768,-4621.1077 9458.1585,-4623.0736"/>
</g>
<!-- 48&#45;&gt;40 -->
<g id="edge110" class="edge">
<title>48&#45;&gt;40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8903.3823,-3914.5472C8946.9863,-4094.8918 9040.661,-4482.3268 9084.5555,-4663.8732"/>
<polygon fill="#000000" stroke="#000000" points="9081.175,-4664.7848 9086.9272,-4673.6822 9087.979,-4663.1397 9081.175,-4664.7848"/>
</g>
<!-- 49 -->
<g id="node76" class="node">
<title>49</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4185.4738,-4615.1 4185.4738,-4907.9 5122.846,-4907.9 5122.846,-4615.1 4185.4738,-4615.1"/>
<text text-anchor="middle" x="4654.1599" y="-4891.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetix</text>
<polyline fill="none" stroke="#000000" points="4185.4738,-4883.1 5122.846,-4883.1 "/>
<text text-anchor="start" x="4193.4738" y="-4866.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4193.4738" y="-4849.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: ILyraGlobals</text>
<text text-anchor="start" x="4193.4738" y="-4832.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="4193.4738" y="-4816.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4193.4738" y="-4799.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="4193.4738" y="-4782.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="4193.4738" y="-4765.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="4185.4738,-4757.5 5122.846,-4757.5 "/>
<text text-anchor="start" x="4193.4738" y="-4740.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4193.4738" y="-4724.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: ILyraGlobals, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="4193.4738" y="-4707.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="4193.4738" y="-4690.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4193.4738" y="-4673.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Exchange(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32)</text>
<text text-anchor="start" x="4193.4738" y="-4656.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4193.4738" y="-4640.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="4193.4738" y="-4623.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 49&#45;&gt;16 -->
<g id="edge114" class="edge">
<title>49&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M4526.6704,-4908.0153C4436.5243,-5011.6144 4311.3953,-5155.4169 4194.5347,-5289.7172"/>
<polygon fill="#000000" stroke="#000000" points="4191.8399,-5287.4823 4187.9159,-5297.3237 4197.1206,-5292.0773 4191.8399,-5287.4823"/>
</g>
<!-- 49&#45;&gt;25 -->
<g id="edge112" class="edge">
<title>49&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4654.1599,-4907.9149C4654.1599,-5203.7095 4654.1599,-5865.1003 4654.1599,-6109.3454"/>
<polygon fill="none" stroke="#000000" points="4643.66,-6109.6502 4654.1599,-6139.6503 4664.66,-6109.6503 4643.66,-6109.6502"/>
</g>
<!-- 49&#45;&gt;33 -->
<g id="edge113" class="edge">
<title>49&#45;&gt;33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4783.2085,-4908.1306C4877.0814,-5011.4322 5009.5719,-5150.5005 5137.1599,-5261.2 5246.0068,-5355.6392 5376.1312,-5450.7087 5482.9096,-5524.5945"/>
<polygon fill="#000000" stroke="#000000" points="5480.9895,-5527.522 5491.2067,-5530.3256 5484.9679,-5521.7624 5480.9895,-5527.522"/>
</g>
<!-- 49&#45;&gt;36 -->
<g id="edge115" class="edge">
<title>49&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M5100.9638,-4907.9414C5487.846,-5027.3302 6064.9105,-5187.7739 6581.1599,-5261.2 6855.8441,-5300.2683 7557.2476,-5242.0505 7829.1599,-5297.2 8130.7105,-5358.3608 8461.1517,-5508.1815 8638.1115,-5595.7816"/>
<polygon fill="#000000" stroke="#000000" points="8636.6883,-5598.9826 8647.2017,-5600.2937 8639.8006,-5592.7125 8636.6883,-5598.9826"/>
</g>
<!-- 50 -->
<g id="node77" class="node">
<title>50</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4299.9567,-3739.3 4299.9567,-3897.7 5008.3631,-3897.7 5008.3631,-3739.3 4299.9567,-3739.3"/>
<text text-anchor="middle" x="4654.1599" y="-3881.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetixReturnZero</text>
<polyline fill="none" stroke="#000000" points="4299.9567,-3872.9 5008.3631,-3872.9 "/>
<text text-anchor="start" x="4307.9567" y="-3856.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4307.9567" y="-3839.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;returnZero: bool</text>
<polyline fill="none" stroke="#000000" points="4299.9567,-3831.3 5008.3631,-3831.3 "/>
<text text-anchor="start" x="4307.9567" y="-3814.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4307.9567" y="-3797.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setReturnZero(_returnZero: bool)</text>
<text text-anchor="start" x="4307.9567" y="-3781.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4307.9567" y="-3764.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4307.9567" y="-3747.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 50&#45;&gt;49 -->
<g id="edge116" class="edge">
<title>50&#45;&gt;49</title>
<path fill="none" stroke="#000000" d="M4654.1599,-3898.0869C4654.1599,-4048.8098 4654.1599,-4379.1789 4654.1599,-4584.7467"/>
<polygon fill="none" stroke="#000000" points="4643.66,-4584.7557 4654.1599,-4614.7558 4664.66,-4584.7558 4643.66,-4584.7557"/>
</g>
</g>
</svg>
