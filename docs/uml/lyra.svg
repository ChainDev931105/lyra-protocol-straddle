<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="13282pt" height="9917pt"
 viewBox="0.00 0.00 13282.09 9916.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 9912.6)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-9912.6 13278.0932,-9912.6 13278.0932,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6183.6639,-2552.3 6183.6639,-4138.7 7604.0375,-4138.7 7604.0375,-2552.3 6183.6639,-2552.3"/>
<text text-anchor="middle" x="6893.8507" y="-4122.1" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityPool</text>
<polyline fill="none" stroke="#000000" points="6183.6639,-4113.9 7604.0375,-4113.9 "/>
<text text-anchor="start" x="6191.6639" y="-4097.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6191.6639" y="-4080.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="6191.6639" y="-4063.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="6191.6639" y="-4046.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityToken: LiquidityToken</text>
<text text-anchor="start" x="6191.6639" y="-4030.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="6191.6639" y="-4013.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="6191.6639" y="-3996.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ERC20</text>
<text text-anchor="start" x="6191.6639" y="-3979.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: ERC20</text>
<text text-anchor="start" x="6191.6639" y="-3962.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6191.6639" y="-3946.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolHedger: PoolHedger</text>
<text text-anchor="start" x="6191.6639" y="-3929.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedDeposits: mapping(uint=&gt;QueuedDeposit)</text>
<text text-anchor="start" x="6191.6639" y="-3912.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalQueuedDeposits: uint</text>
<text text-anchor="start" x="6191.6639" y="-3895.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedDepositHead: uint</text>
<text text-anchor="start" x="6191.6639" y="-3878.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextQueuedDepositId: uint</text>
<text text-anchor="start" x="6191.6639" y="-3862.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedWithdrawals: mapping(uint=&gt;QueuedWithdrawal)</text>
<text text-anchor="start" x="6191.6639" y="-3845.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalQueuedWithdrawals: uint</text>
<text text-anchor="start" x="6191.6639" y="-3828.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedWithdrawalHead: uint</text>
<text text-anchor="start" x="6191.6639" y="-3811.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextQueuedWithdrawalId: uint</text>
<text text-anchor="start" x="6191.6639" y="-3794.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lpParams: LiquidityPoolParameters</text>
<text text-anchor="start" x="6191.6639" y="-3778.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CBTimestamp: uint</text>
<text text-anchor="start" x="6191.6639" y="-3761.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateral: Collateral</text>
<text text-anchor="start" x="6191.6639" y="-3744.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalOutstandingSettlements: uint</text>
<text text-anchor="start" x="6191.6639" y="-3727.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;insolventSettlementAmount: uint</text>
<text text-anchor="start" x="6191.6639" y="-3710.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidationInsolventAmount: uint</text>
<polyline fill="none" stroke="#000000" points="6183.6639,-3702.7 7604.0375,-3702.7 "/>
<text text-anchor="start" x="6191.6639" y="-3686.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6191.6639" y="-3669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_canProcess(initiatedTime: uint, minimumDelay: uint, isStale: bool, entryId: uint): bool</text>
<text text-anchor="start" x="6191.6639" y="-3652.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getTotalBurnableTokens(): (tokensBurnable: uint, tokenPriceWithFee: uint, stale: bool)</text>
<text text-anchor="start" x="6191.6639" y="-3635.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getTokenPriceAndStale(): (tokenPrice: uint, bool, burnableLiquidity: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateCBs(liquidity: Liquidity, maxIvVariance: uint, maxSkewVariance: uint, optionValueDebt: int)</text>
<text text-anchor="start" x="6191.6639" y="-3602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_freeQuoteCollateral(amountQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_freeBase(amountBase: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3568.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendPremium(recipient: address, recipientAmount: uint, optionMarketPortion: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3551.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getTokenPrice(totalPoolValue: uint, totalTokenSupply: uint): uint</text>
<text text-anchor="start" x="6191.6639" y="-3534.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getTotalPoolValueQuote(basePrice: uint, usedDeltaLiquidity: uint, optionValueDebt: int): uint</text>
<text text-anchor="start" x="6191.6639" y="-3518.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getLiquidity(basePrice: uint, totalPoolValue: uint, reservedTokenValue: uint, usedDelta: uint, pendingDelta: uint): Liquidity</text>
<text text-anchor="start" x="6191.6639" y="-3501.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_maybeExchangeBase(exchangeParams: SynthetixAdapter.ExchangeParams, freeLiquidity: uint, revertBuyOnInsufficientFunds: bool)</text>
<text text-anchor="start" x="6191.6639" y="-3484.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPoolHedgerLiquidity(basePrice: uint): (pendingDeltaLiquidity: uint, usedDeltaLiquidity: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3467.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transferQuote(to: address, amount: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3450.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6191.6639" y="-3434.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _optionMarket: OptionMarket, _liquidityToken: LiquidityToken, _greekCache: OptionGreekCache, _poolHedger: PoolHedger, _shortCollateral: ShortCollateral, _quoteAsset: ERC20, _baseAsset: ERC20)</text>
<text text-anchor="start" x="6191.6639" y="-3417.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLiquidityPoolParameters(_lpParams: LiquidityPoolParameters)</text>
<text text-anchor="start" x="6191.6639" y="-3400.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolHedger(newPoolHedger: PoolHedger)</text>
<text text-anchor="start" x="6191.6639" y="-3383.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateDelegateApproval()</text>
<text text-anchor="start" x="6191.6639" y="-3366.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initiateDeposit(beneficiary: address, amountQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3350.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initiateWithdraw(beneficiary: address, amountLiquidityToken: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3333.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;processDepositQueue(limit: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3316.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;processWithdrawalQueue(limit: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3299.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCBs()</text>
<text text-anchor="start" x="6191.6639" y="-3282.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockQuote(amount: uint, freeLiquidity: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3266.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockBase(amount: uint, exchangeParams: SynthetixAdapter.ExchangeParams, freeLiquidity: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3249.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeQuoteCollateralAndSendPremium(amountQuoteFreed: uint, recipient: address, totalCost: uint, reservedFee: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3232.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateBaseAndSendPremium(amountBase: uint, recipient: address, totalCost: uint, reservedFee: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3215.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendShortPremium(recipient: address, premium: uint, freeLiquidity: uint, reservedFee: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3198.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;boardSettlement(insolventSettlements: uint, amountQuoteFreed: uint, amountQuoteReserved: uint, amountBaseFreed: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3182.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendSettlementValue(user: address, amount: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3165.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reclaimInsolventQuote(spotPrice: uint, amountQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3148.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reclaimInsolventBase(exchangeParams: SynthetixAdapter.ExchangeParams, amountBase: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3131.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentLiquidity(): Liquidity</text>
<text text-anchor="start" x="6191.6639" y="-3114.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLpParams(): LiquidityPoolParameters</text>
<text text-anchor="start" x="6191.6639" y="-3098.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateLiquidationInsolvency(insolvencyAmountInQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-3081.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferQuoteToHedge(spotPrice: uint, amount: uint): uint</text>
<text text-anchor="start" x="6191.6639" y="-3064.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6191.6639" y="-3047.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidityPoolParametersUpdated(lpParams: LiquidityPoolParameters)</text>
<text text-anchor="start" x="6191.6639" y="-3030.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolHedgerUpdated(poolHedger: PoolHedger)</text>
<text text-anchor="start" x="6191.6639" y="-3014.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteLocked(quoteLocked: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2997.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteFreed(quoteFreed: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2980.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseLocked(baseLocked: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2963.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseFreed(baseFreed: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2946.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardSettlement(insolventSettlementAmount: uint, amountQuoteReserved: uint, totalOutstandingSettlements: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2930.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OutstandingSettlementSent(user: address, amount: uint, totalOutstandingSettlements: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2913.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BasePurchased(quoteSpent: uint, baseReceived: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2896.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSold(amountBase: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2879.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PremiumTransferred(recipient: address, recipientPortion: uint, optionMarketPortion: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2862.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteTransferredToPoolHedger(amountQuote: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2846.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; InsolventSettlementAmountUpdated(amountQuoteAdded: uint, totalInsolventSettlementAmount: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2829.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DepositQueued(depositor: address, beneficiary: address, depositQueueId: uint, amountDeposited: uint, totalQueuedDeposits: uint, timestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2812.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DepositProcessed(caller: address, beneficiary: address, depositQueueId: uint, amountDeposited: uint, tokenPrice: uint, tokensReceived: uint, timestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2795.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawProcessed(caller: address, beneficiary: address, withdrawalQueueId: uint, amountWithdrawn: uint, tokenPrice: uint, quoteReceived: uint, totalQueuedWithdrawals: uint, timestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2778.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawPartiallyProcessed(caller: address, beneficiary: address, withdrawalQueueId: uint, amountWithdrawn: uint, tokenPrice: uint, quoteReceived: uint, totalQueuedWithdrawals: uint, timestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2762.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawQueued(withdrawer: address, beneficiary: address, withdrawalQueueId: uint, amountWithdrawn: uint, totalQueuedWithdrawals: uint, timestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2745.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CircuitBreakerUpdated(newTimestamp: uint, ivVarianceThresholdCrossed: bool, skewVarianceThresholdCrossed: bool, liquidityThresholdCrossed: bool)</text>
<text text-anchor="start" x="6191.6639" y="-2728.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardSettlementCircuitBreakerUpdated(newTimestamp: uint)</text>
<text text-anchor="start" x="6191.6639" y="-2711.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CheckingCanProcess(entryId: uint, boardNotStale: bool, validEntry: bool, guardianBypass: bool, delaysExpired: bool)</text>
<text text-anchor="start" x="6191.6639" y="-2694.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="6191.6639" y="-2678.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="6191.6639" y="-2661.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="6191.6639" y="-2644.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="6191.6639" y="-2627.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTotalTokenSupply(): uint</text>
<text text-anchor="start" x="6191.6639" y="-2610.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTokenPrice(): uint</text>
<text text-anchor="start" x="6191.6639" y="-2594.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidity(spotPrice: uint): Liquidity</text>
<text text-anchor="start" x="6191.6639" y="-2577.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTotalPoolValueQuote(): uint</text>
<text text-anchor="start" x="6191.6639" y="-2560.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeBase()</text>
</g>
<!-- 1 -->
<g id="node7" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4310.4036,-7743.9 4310.4036,-8019.9 4727.2978,-8019.9 4727.2978,-7743.9 4310.4036,-7743.9"/>
<text text-anchor="middle" x="4518.8507" y="-8003.3" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityToken</text>
<polyline fill="none" stroke="#000000" points="4310.4036,-7995.1 4727.2978,-7995.1 "/>
<text text-anchor="start" x="4318.4036" y="-7978.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4318.4036" y="-7961.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: address</text>
<text text-anchor="start" x="4318.4036" y="-7944.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityTracker: ILiquidityTracker</text>
<polyline fill="none" stroke="#000000" points="4310.4036,-7936.7 4727.2978,-7936.7 "/>
<text text-anchor="start" x="4318.4036" y="-7920.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4318.4036" y="-7903.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_afterTokenTransfer(from: address, to: address, amount: uint)</text>
<text text-anchor="start" x="4318.4036" y="-7886.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4318.4036" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_liquidityPool: address)</text>
<text text-anchor="start" x="4318.4036" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLiquidityTracker(_liquidityTracker: ILiquidityTracker)</text>
<text text-anchor="start" x="4318.4036" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, tokenAmount: uint)</text>
<text text-anchor="start" x="4318.4036" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, tokenAmount: uint)</text>
<text text-anchor="start" x="4318.4036" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4318.4036" y="-7785.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidityTrackerSet(liquidityTracker: ILiquidityTracker)</text>
<text text-anchor="start" x="4318.4036" y="-7768.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
<text text-anchor="start" x="4318.4036" y="-7752.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge83" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M6183.5379,-4098.8185C6160.2851,-4113.1718 6136.7094,-4126.6806 6112.8507,-4139.2 6030.55,-4182.3858 5969.8275,-4106.8454 5906.8507,-4175.2 5710.016,-4388.8433 5924.8638,-5220.8462 5787.8507,-5477 5352.0601,-6291.7354 4569.0666,-5949.8547 4170.8507,-6783.6 4040.5586,-7056.3929 3987.5825,-7223.3738 4170.8507,-7463.8 4207.4549,-7511.8204 4254.1966,-7462.7202 4301.8507,-7499.8 4378.5218,-7559.4581 4432.6097,-7654.3104 4467.6102,-7734.582"/>
<polygon fill="#000000" stroke="#000000" points="4464.4062,-7735.9912 4471.5721,-7743.7951 4470.8369,-7733.2258 4464.4062,-7735.9912"/>
</g>
<!-- 2 -->
<g id="node8" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4594.9296,-4175.7 4594.9296,-5476.5 5778.7718,-5476.5 5778.7718,-4175.7 4594.9296,-4175.7"/>
<text text-anchor="middle" x="5186.8507" y="-5459.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionGreekCache</text>
<polyline fill="none" stroke="#000000" points="4594.9296,-5451.7 5778.7718,-5451.7 "/>
<text text-anchor="start" x="4602.9296" y="-5435.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4602.9296" y="-5418.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="4602.9296" y="-5401.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="4602.9296" y="-5384.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketPricer: address</text>
<text text-anchor="start" x="4602.9296" y="-5367.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCacheParams: GreekCacheParameters</text>
<text text-anchor="start" x="4602.9296" y="-5351.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;forceCloseParams: ForceCloseParameters</text>
<text text-anchor="start" x="4602.9296" y="-5334.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCollatParams: MinCollateralParameters</text>
<text text-anchor="start" x="4602.9296" y="-5317.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="4602.9296" y="-5300.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globalCache: GlobalCache</text>
<text text-anchor="start" x="4602.9296" y="-5283.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardCaches: mapping(uint=&gt;OptionBoardCache)</text>
<text text-anchor="start" x="4602.9296" y="-5267.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardIVGWAV: mapping(uint=&gt;GWAV.Params)</text>
<text text-anchor="start" x="4602.9296" y="-5250.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikeCaches: mapping(uint=&gt;StrikeCache)</text>
<text text-anchor="start" x="4602.9296" y="-5233.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikeSkewGWAV: mapping(uint=&gt;GWAV.Params)</text>
<polyline fill="none" stroke="#000000" points="4594.9296,-5225.3 5778.7718,-5225.3 "/>
<text text-anchor="start" x="4602.9296" y="-5208.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4602.9296" y="-5191.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addNewStrikeToStrikeCache(boardCache: OptionBoardCache, GWAVbaseIv: uint, strikeId: uint, strikePrice: uint, skew: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5175.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateStrikeExposureAndGetPrice(strikeCache: StrikeCache, boardCache: OptionBoardCache, trade: OptionMarket.TradeParameters, newCallExposure: int, newPutExposure: int): (pricing: TradePricing)</text>
<text text-anchor="start" x="4602.9296" y="-5158.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getGWAVVolWithOverride(boardId: uint, strikeId: uint, overrideIvPeriod: uint, overrideSkewPeriod: uint): (gwavVol: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5141.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardCachedGreeks(spotPrice: uint, boardId: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5124.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateStrikeCachedGreeks(strikeCache: StrikeCache, boardCache: OptionBoardCache, spotPrice: uint, navGWAVvol: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5107.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateGlobalLastUpdatedAt()</text>
<text text-anchor="start" x="4602.9296" y="-5091.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardIv(boardCache: OptionBoardCache, newIv: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5074.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateStrikeSkew(boardCache: OptionBoardCache, strikeCache: StrikeCache, newSkew: uint)</text>
<text text-anchor="start" x="4602.9296" y="-5057.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateMaxIvVariance()</text>
<text text-anchor="start" x="4602.9296" y="-5040.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateStrikeSkewVariance(strikeCache: StrikeCache)</text>
<text text-anchor="start" x="4602.9296" y="-5023.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardIvVariance(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="4602.9296" y="-5007.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateMaxSkewVariance(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="4602.9296" y="-4990.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isPriceMoveAcceptable(pastPrice: uint, currentPrice: uint): bool</text>
<text text-anchor="start" x="4602.9296" y="-4973.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isUpdatedAtTimeStale(updatedAt: uint): bool</text>
<text text-anchor="start" x="4602.9296" y="-4956.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getParity(strikePrice: uint, spot: uint, optionType: OptionMarket.OptionType): (parity: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4939.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_timeToMaturitySeconds(expiry: uint): uint</text>
<text text-anchor="start" x="4602.9296" y="-4923.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getSecondsTo(fromTime: uint, toTime: uint): uint</text>
<text text-anchor="start" x="4602.9296" y="-4906.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_min(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4602.9296" y="-4889.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_max(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4602.9296" y="-4872.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4602.9296" y="-4855.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _optionMarket: OptionMarket, _optionMarketPricer: address)</text>
<text text-anchor="start" x="4602.9296" y="-4839.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGreekCacheParameters(_greekCacheParams: GreekCacheParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4822.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setForceCloseParameters(_forceCloseParams: ForceCloseParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4805.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMinCollateralParameters(_minCollatParams: MinCollateralParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4788.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBoard(board: OptionMarket.OptionBoard, strikes: OptionMarket.Strike[])</text>
<text text-anchor="start" x="4602.9296" y="-4771.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeBoard(boardId: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4755.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addStrikeToBoard(boardId: uint, strikeId: uint, strikePrice: uint, skew: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4738.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardIv(boardId: uint, newBaseIv: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4721.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStrikeSkew(strikeId: uint, newSkew: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4704.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateStrikeExposureAndGetPrice(strike: OptionMarket.Strike, trade: OptionMarket.TradeParameters, iv: uint, skew: uint, isPostCutoff: bool): (pricing: TradePricing)</text>
<text text-anchor="start" x="4602.9296" y="-4687.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMinCollateral(optionType: OptionMarket.OptionType, strikePrice: uint, expiry: uint, spotPrice: uint, amount: uint): (minCollateral: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4671.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateBoardCachedGreeks(boardId: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4654.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isGlobalCacheStale(spotPrice: uint): bool</text>
<text text-anchor="start" x="4602.9296" y="-4637.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isBoardCacheStale(boardId: uint): bool</text>
<text text-anchor="start" x="4602.9296" y="-4620.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalNetDelta(): int</text>
<text text-anchor="start" x="4602.9296" y="-4603.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalOptionValue(): int</text>
<text text-anchor="start" x="4602.9296" y="-4587.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardGreeksView(boardId: uint): BoardGreeksView</text>
<text text-anchor="start" x="4602.9296" y="-4570.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrikeCache(strikeId: uint): StrikeCache</text>
<text text-anchor="start" x="4602.9296" y="-4553.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionBoardCache(boardId: uint): OptionBoardCache</text>
<text text-anchor="start" x="4602.9296" y="-4536.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalCache(): GlobalCache</text>
<text text-anchor="start" x="4602.9296" y="-4519.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getIvGWAV(boardId: uint, secondsAgo: uint): (ivGWAV: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4503.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSkewGWAV(strikeId: uint, secondsAgo: uint): (skewGWAV: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4486.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGreekCacheParams(): GreekCacheParameters</text>
<text text-anchor="start" x="4602.9296" y="-4469.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getForceCloseParams(): ForceCloseParameters</text>
<text text-anchor="start" x="4602.9296" y="-4452.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMinCollatParams(): MinCollateralParameters</text>
<text text-anchor="start" x="4602.9296" y="-4435.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4602.9296" y="-4419.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GreekCacheParametersSet(params: GreekCacheParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4402.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ForceCloseParametersSet(params: ForceCloseParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4385.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinCollateralParametersSet(params: MinCollateralParameters)</text>
<text text-anchor="start" x="4602.9296" y="-4368.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StrikeCacheUpdated(strikeCache: StrikeCache)</text>
<text text-anchor="start" x="4602.9296" y="-4351.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCacheUpdated(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="4602.9296" y="-4335.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalCacheUpdated(globalCache: GlobalCache)</text>
<text text-anchor="start" x="4602.9296" y="-4318.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCacheRemoved(boardId: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4301.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StrikeCacheRemoved(strikeId: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4284.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardIvUpdated(boardId: uint, newIv: uint, globalMaxIvVariance: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4267.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StrikeSkewUpdated(strikeId: uint, newSkew: uint, globalMaxSkewVariance: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4251.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="4602.9296" y="-4234.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarketPricer()</text>
<text text-anchor="start" x="4602.9296" y="-4217.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4602.9296" y="-4200.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPriceForForceClose(trade: OptionMarket.TradeParameters, strike: OptionMarket.Strike, expiry: uint, newVol: uint, isPostCutoff: bool): (optionPrice: uint, forceCloseVol: uint)</text>
<text text-anchor="start" x="4602.9296" y="-4183.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShockVol(timeToMaturity: uint): uint</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge84" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M6183.4037,-4088.5947C6154.0357,-4106.8403 6124.1576,-4123.8032 6093.8507,-4139.2 6003.5622,-4185.0692 5959.5794,-4130.2076 5868.8507,-4175.2 5841.3129,-4188.856 5814.1451,-4204.0113 5787.4413,-4220.3725"/>
<polygon fill="#000000" stroke="#000000" points="5785.4501,-4217.4887 5778.7876,-4225.7266 5789.1331,-4223.4415 5785.4501,-4217.4887"/>
</g>
<!-- 3 -->
<g id="node19" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6852.913,-5513.5 6852.913,-6747.1 8464.7884,-6747.1 8464.7884,-5513.5 6852.913,-5513.5"/>
<text text-anchor="middle" x="7658.8507" y="-6730.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarket</text>
<polyline fill="none" stroke="#000000" points="6852.913,-6722.3 8464.7884,-6722.3 "/>
<text text-anchor="start" x="6860.913" y="-6705.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6860.913" y="-6688.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="6860.913" y="-6672.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="6860.913" y="-6655.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="6860.913" y="-6638.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="6860.913" y="-6621.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="6860.913" y="-6604.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="6860.913" y="-6588.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="6860.913" y="-6571.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="6860.913" y="-6554.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextStrikeId: uint</text>
<text text-anchor="start" x="6860.913" y="-6537.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextBoardId: uint</text>
<text text-anchor="start" x="6860.913" y="-6520.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="6860.913" y="-6504.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketParams: OptionMarketParameters</text>
<text text-anchor="start" x="6860.913" y="-6487.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionBoards: mapping(uint=&gt;OptionBoard)</text>
<text text-anchor="start" x="6860.913" y="-6470.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikes: mapping(uint=&gt;Strike)</text>
<text text-anchor="start" x="6860.913" y="-6453.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;strikeToBaseReturnedRatio: mapping(uint=&gt;uint)</text>
<text text-anchor="start" x="6860.913" y="-6436.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6860.913" y="-6420.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardToPriceAtExpiry: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="6852.913,-6411.9 8464.7884,-6411.9 "/>
<text text-anchor="start" x="6860.913" y="-6395.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6860.913" y="-6378.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addStrikeToBoard(board: OptionBoard, strikePrice: uint, skew: uint): Strike</text>
<text text-anchor="start" x="6860.913" y="-6361.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkCostInBounds(totalCost: uint, minCost: uint, maxCost: uint)</text>
<text text-anchor="start" x="6860.913" y="-6344.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openPosition(params: TradeInputParameters): (result: Result)</text>
<text text-anchor="start" x="6860.913" y="-6328.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_closePosition(params: TradeInputParameters, forceClose: bool): (result: Result)</text>
<text text-anchor="start" x="6860.913" y="-6311.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_composeTrade(strikeId: uint, optionType: OptionType, amount: uint, _tradeDirection: TradeDirection, iterations: uint, isForceClose: bool): (trade: TradeParameters, strike: Strike, board: OptionBoard)</text>
<text text-anchor="start" x="6860.913" y="-6294.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLong(optionType: OptionType): bool</text>
<text text-anchor="start" x="6860.913" y="-6277.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doTrade(strike: Strike, board: OptionBoard, trade: TradeParameters, iterations: uint, expectedAmount: uint): (totalAmount: uint, totalCost: uint, totalFee: uint, tradeResults: OptionMarketPricer.TradeResult[])</text>
<text text-anchor="start" x="6860.913" y="-6260.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_routeLPFundsOnOpen(trade: TradeParameters, totalCost: uint, feePortion: uint)</text>
<text text-anchor="start" x="6860.913" y="-6244.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_routeLPFundsOnClose(trade: TradeParameters, totalCost: uint, reservedFee: uint)</text>
<text text-anchor="start" x="6860.913" y="-6227.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_routeUserCollateral(optionType: OptionType, pendingCollateral: int)</text>
<text text-anchor="start" x="6860.913" y="-6210.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateExposure(amount: uint, optionType: OptionType, strike: Strike, isOpen: bool)</text>
<text text-anchor="start" x="6860.913" y="-6193.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_clearAndSettleBoard(board: OptionBoard)</text>
<text text-anchor="start" x="6860.913" y="-6176.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_settleExpiredBoard(board: OptionBoard)</text>
<text text-anchor="start" x="6860.913" y="-6160.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transferFromQuote(from: address, to: address, amount: uint)</text>
<text text-anchor="start" x="6860.913" y="-6143.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6860.913" y="-6126.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _liquidityPool: LiquidityPool, _optionPricer: OptionMarketPricer, _greekCache: OptionGreekCache, _shortCollateral: ShortCollateral, _optionToken: OptionToken, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="6860.913" y="-6109.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOptionBoard(expiry: uint, baseIV: uint, strikePrices: uint[], skews: uint[], frozen: bool): (boardId: uint)</text>
<text text-anchor="start" x="6860.913" y="-6092.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="6860.913" y="-6076.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardBaseIv(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="6860.913" y="-6059.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStrikeSkew(strikeId: uint, skew: uint)</text>
<text text-anchor="start" x="6860.913" y="-6042.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addStrikeToBoard(boardId: uint, strikePrice: uint, skew: uint)</text>
<text text-anchor="start" x="6860.913" y="-6025.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;forceSettleBoard(boardId: uint)</text>
<text text-anchor="start" x="6860.913" y="-6008.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOptionMarketParams(_optionMarketParams: OptionMarketParameters)</text>
<text text-anchor="start" x="6860.913" y="-5992.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;smClaim()</text>
<text text-anchor="start" x="6860.913" y="-5975.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketParams(): OptionMarketParameters</text>
<text text-anchor="start" x="6860.913" y="-5958.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (_liveBoards: uint[])</text>
<text text-anchor="start" x="6860.913" y="-5941.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNumLiveBoards(): (numLiveBoards: uint)</text>
<text text-anchor="start" x="6860.913" y="-5924.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrikeAndExpiry(strikeId: uint): (strikePrice: uint, expiry: uint)</text>
<text text-anchor="start" x="6860.913" y="-5908.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardStrikes(boardId: uint): (strikeIds: uint[])</text>
<text text-anchor="start" x="6860.913" y="-5891.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrike(strikeId: uint): Strike</text>
<text text-anchor="start" x="6860.913" y="-5874.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionBoard(boardId: uint): OptionBoard</text>
<text text-anchor="start" x="6860.913" y="-5857.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrikeAndBoard(strikeId: uint): (Strike, OptionBoard)</text>
<text text-anchor="start" x="6860.913" y="-5840.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardAndStrikeDetails(boardId: uint): (OptionBoard, Strike[], uint[], uint)</text>
<text text-anchor="start" x="6860.913" y="-5824.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(params: TradeInputParameters): (result: Result)</text>
<text text-anchor="start" x="6860.913" y="-5807.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(params: TradeInputParameters): (result: Result)</text>
<text text-anchor="start" x="6860.913" y="-5790.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;forceClosePosition(params: TradeInputParameters): (result: Result)</text>
<text text-anchor="start" x="6860.913" y="-5773.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addCollateral(positionId: uint, amountCollateral: uint)</text>
<text text-anchor="start" x="6860.913" y="-5756.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidatePosition(positionId: uint, rewardBeneficiary: address)</text>
<text text-anchor="start" x="6860.913" y="-5740.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleExpiredBoard(boardId: uint)</text>
<text text-anchor="start" x="6860.913" y="-5723.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSettlementParameters(strikeId: uint): (strikePrice: uint, priceAtExpiry: uint, strikeToBaseReturned: uint)</text>
<text text-anchor="start" x="6860.913" y="-5706.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6860.913" y="-5689.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCreated(boardId: uint, expiry: uint, baseIv: uint, frozen: bool)</text>
<text text-anchor="start" x="6860.913" y="-5672.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="6860.913" y="-5656.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardBaseIvSet(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="6860.913" y="-5639.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StrikeSkewSet(strikeId: uint, skew: uint)</text>
<text text-anchor="start" x="6860.913" y="-5622.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StrikeAdded(boardId: uint, strikeId: uint, strikePrice: uint, skew: uint)</text>
<text text-anchor="start" x="6860.913" y="-5605.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionMarketParamsSet(optionMarketParams: OptionMarketParameters)</text>
<text text-anchor="start" x="6860.913" y="-5588.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SMClaimed(securityModule: address, quoteAmount: uint, baseAmount: uint)</text>
<text text-anchor="start" x="6860.913" y="-5572.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Trade(trader: address, strikeId: uint, positionId: uint, trade: TradeEventData, tradeResults: OptionMarketPricer.TradeResult[], liquidation: LiquidationEventData, timestamp: uint)</text>
<text text-anchor="start" x="6860.913" y="-5555.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardSettled(boardId: uint, spotPriceAtExpiry: uint, totalUserLongProfitQuote: uint, totalBoardLongCallCollateral: uint, totalBoardLongPutCollateral: uint, totalAMMShortCallProfitBase: uint, totalAMMShortCallProfitQuote: uint, totalAMMShortPutProfitQuote: uint)</text>
<text text-anchor="start" x="6860.913" y="-5538.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notGlobalPaused()</text>
<text text-anchor="start" x="6860.913" y="-5521.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge82" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6231.515,-4138.7386C6226.7082,-4150.841 6222.1476,-4162.997 6217.8507,-4175.2 6121.7698,-4448.0672 6019.7982,-5266.1369 6217.8507,-5477 6261.6,-5523.5791 6731.6733,-5491.4993 6791.8507,-5513 6809.074,-5519.1537 6826.2566,-5525.7638 6843.3763,-5532.7857"/>
<polygon fill="#000000" stroke="#000000" points="6842.3028,-5536.1295 6852.8806,-5536.7288 6844.9852,-5529.6638 6842.3028,-5536.1295"/>
</g>
<!-- 23 -->
<g id="node70" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3942.6929,-4646.1 3942.6929,-5006.1 4577.0085,-5006.1 4577.0085,-4646.1 3942.6929,-4646.1"/>
<text text-anchor="middle" x="4259.8507" y="-4989.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="4259.8507" y="-4972.7" font-family="Times,serif" font-size="14.00" fill="#000000">PoolHedger</text>
<polyline fill="none" stroke="#000000" points="3942.6929,-4964.5 4577.0085,-4964.5 "/>
<text text-anchor="start" x="3950.6929" y="-4947.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3950.6929" y="-4931.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="3950.6929" y="-4914.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolHedgerParams: PoolHedgerParameters</text>
<text text-anchor="start" x="3950.6929" y="-4897.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3950.6929" y="-4880.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastInteraction: uint</text>
<polyline fill="none" stroke="#000000" points="3942.6929,-4872.5 4577.0085,-4872.5 "/>
<text text-anchor="start" x="3950.6929" y="-4855.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3950.6929" y="-4839.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setPoolHedgerParams(_poolHedgerParams: PoolHedgerParameters)</text>
<text text-anchor="start" x="3950.6929" y="-4822.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3950.6929" y="-4805.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="3950.6929" y="-4788.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; getHedgingLiquidity(spotPrice: uint): (pendingDeltaLiquidity: uint, usedDeltaLiquidity: uint)</text>
<text text-anchor="start" x="3950.6929" y="-4771.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; hedgeDelta()</text>
<text text-anchor="start" x="3950.6929" y="-4755.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; updateCollateral()</text>
<text text-anchor="start" x="3950.6929" y="-4738.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;resetInteractionDelay()</text>
<text text-anchor="start" x="3950.6929" y="-4721.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolHedgerParams(): PoolHedgerParameters</text>
<text text-anchor="start" x="3950.6929" y="-4704.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3950.6929" y="-4687.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; getCappedExpectedHedge(): (cappedExpectedHedge: int)</text>
<text text-anchor="start" x="3950.6929" y="-4671.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolHedgerParametersSet(poolHedgerParams: PoolHedgerParameters)</text>
<text text-anchor="start" x="3950.6929" y="-4654.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
</g>
<!-- 0&#45;&gt;23 -->
<g id="edge85" class="edge">
<title>0&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M6183.4555,-4053.533C6128.6792,-4086.7158 6071.9873,-4115.8431 6013.8507,-4139.2 5865.6475,-4198.742 4711.6807,-4089.5826 4576.8507,-4175.2 4416.8589,-4276.7952 4332.4446,-4482.7095 4291.7721,-4635.8683"/>
<polygon fill="#000000" stroke="#000000" points="4288.2983,-4635.3186 4289.156,-4645.8787 4295.0708,-4637.0886 4288.2983,-4635.3186"/>
</g>
<!-- 24 -->
<g id="node72" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5439.7231,-8661.7 5439.7231,-8786.5 5615.9783,-8786.5 5615.9783,-8661.7 5439.7231,-8661.7"/>
<text text-anchor="middle" x="5527.8507" y="-8769.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="5527.8507" y="-8753.1" font-family="Times,serif" font-size="14.00" fill="#000000">SimpleInitializeable</text>
<polyline fill="none" stroke="#000000" points="5439.7231,-8744.9 5615.9783,-8744.9 "/>
<text text-anchor="start" x="5447.7231" y="-8728.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5447.7231" y="-8711.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="5439.7231,-8703.3 5615.9783,-8703.3 "/>
<text text-anchor="start" x="5447.7231" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5447.7231" y="-8669.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; initializer()</text>
</g>
<!-- 0&#45;&gt;24 -->
<g id="edge80" class="edge">
<title>0&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M6183.6404,-4035.8168C6155.7933,-4081.0492 6130.8541,-4127.6062 6109.8507,-4175.2 5878.4204,-4699.6225 6009.918,-6181.6621 5918.8507,-6747.6 5916.2306,-6763.883 5912.0647,-6767.2569 5909.8507,-6783.6 5887.7633,-6946.6483 5927.8756,-8108.5847 5873.8507,-8264 5821.7558,-8413.8634 5701.2209,-8554.788 5617.1587,-8640.2322"/>
<polygon fill="none" stroke="#000000" points="5609.6522,-8632.8894 5595.8381,-8661.515 5624.4883,-8647.7518 5609.6522,-8632.8894"/>
</g>
<!-- 34 -->
<g id="node114" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4218.1389,-9184.7 4218.1389,-9611.9 4617.5625,-9611.9 4617.5625,-9184.7 4218.1389,-9184.7"/>
<text text-anchor="middle" x="4417.8507" y="-9595.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="4417.8507" y="-9578.5" font-family="Times,serif" font-size="14.00" fill="#000000">DecimalMath</text>
<polyline fill="none" stroke="#000000" points="4218.1389,-9570.3 4617.5625,-9570.3 "/>
<text text-anchor="start" x="4226.1389" y="-9553.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4226.1389" y="-9536.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: uint</text>
<text text-anchor="start" x="4226.1389" y="-9520.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4226.1389" y="-9503.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="4226.1389" y="-9486.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="4226.1389" y="-9469.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: uint</text>
<text text-anchor="start" x="4226.1389" y="-9452.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<polyline fill="none" stroke="#000000" points="4218.1389,-9444.7 4617.5625,-9444.7 "/>
<text text-anchor="start" x="4226.1389" y="-9428.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4226.1389" y="-9411.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9394.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9377.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4226.1389" y="-9360.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9344.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9327.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9310.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9293.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9276.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9260.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9243.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: uint): uint</text>
<text text-anchor="start" x="4226.1389" y="-9226.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4226.1389" y="-9209.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): uint</text>
<text text-anchor="start" x="4226.1389" y="-9192.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): uint</text>
</g>
<!-- 0&#45;&gt;34 -->
<g id="edge81" class="edge">
<title>0&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6183.5138,-4096.4646C6160.2403,-4111.5564 6136.671,-4125.8497 6112.8507,-4139.2 6051.1569,-4173.7768 6003.848,-4121.4791 5957.8507,-4175.2 5769.1893,-4395.5407 5998.1693,-5220.9523 5861.8507,-5477 5834.2429,-5528.8558 4224.5317,-6730.7634 4198.8507,-6783.6 4132.7739,-6919.548 4095.6041,-7353.4001 4198.8507,-7463.8 4280.5442,-7551.1535 4653.8848,-7412.7022 4735.8507,-7499.8 4755.1355,-7520.2922 4751.7288,-9126.0193 4740.8507,-9148.2 4715.0201,-9200.8696 4672.1613,-9245.6132 4625.9748,-9282.0542"/>
<polygon fill="#000000" stroke="#000000" points="4623.6849,-9279.4008 4617.9281,-9288.2952 4627.9751,-9284.9321 4623.6849,-9279.4008"/>
</g>
<!-- 35 -->
<g id="node115" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9831.702,-8678.5 9831.702,-8769.7 9933.9994,-8769.7 9933.9994,-8678.5 9831.702,-8678.5"/>
<text text-anchor="middle" x="9882.8507" y="-8753.1" font-family="Times,serif" font-size="14.00" fill="#000000">Owned</text>
<polyline fill="none" stroke="#000000" points="9831.702,-8744.9 9933.9994,-8744.9 "/>
<text text-anchor="middle" x="9882.8507" y="-8728.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9831.702,-8720.1 9933.9994,-8720.1 "/>
<text text-anchor="start" x="9839.702" y="-8703.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9839.702" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 0&#45;&gt;35 -->
<g id="edge79" class="edge">
<title>0&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7604.3354,-3803.2644C7845.0502,-3935.8214 8121.5793,-4064.7476 8391.8507,-4139.2 8468.4323,-4160.2961 9049.5377,-4119.1766 9105.8507,-4175.2 9308.7907,-4377.0964 9046.9076,-6544.7064 9248.8507,-6747.6 9342.6097,-6841.8003 9753.2017,-6688.3078 9845.8507,-6783.6 9956.8542,-6897.7703 9865.3846,-7340.6001 9868.8507,-7499.8 9878.3099,-7934.2591 9881.5895,-8455.5898 9882.5269,-8647.9771"/>
<polygon fill="none" stroke="#000000" points="9872.0281,-8648.2832 9882.6679,-8678.2339 9893.0278,-8648.1853 9872.0281,-8648.2832"/>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6525.511,-2075.3 6525.511,-2158.5 6604.1904,-2158.5 6604.1904,-2075.3 6525.511,-2075.3"/>
<text text-anchor="middle" x="6564.8507" y="-2141.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6564.8507" y="-2125.1" font-family="Times,serif" font-size="14.00" fill="#000000">Collateral</text>
<polyline fill="none" stroke="#000000" points="6525.511,-2116.9 6604.1904,-2116.9 "/>
<text text-anchor="start" x="6533.511" y="-2100.3" font-family="Times,serif" font-size="14.00" fill="#000000">quote: uint</text>
<text text-anchor="start" x="6533.511" y="-2083.5" font-family="Times,serif" font-size="14.00" fill="#000000">base: uint</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6567.1847,-2158.726C6571.8876,-2231.8969 6584.6546,-2387.5575 6613.8507,-2515.8 6615.7144,-2523.9861 6617.628,-2532.2052 6619.5884,-2540.4519"/>
<polygon fill="#000000" stroke="#000000" points="6619.5904,-2540.4604 6624.8802,-2545.3612 6622.391,-2552.129 6617.1011,-2547.2283 6619.5904,-2540.4604"/>
</g>
<!-- 0struct1 -->
<g id="node3" class="node">
<title>0struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6622.4962,-2041.7 6622.4962,-2192.1 6795.2052,-2192.1 6795.2052,-2041.7 6622.4962,-2041.7"/>
<text text-anchor="middle" x="6708.8507" y="-2175.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6708.8507" y="-2158.7" font-family="Times,serif" font-size="14.00" fill="#000000">Liquidity</text>
<polyline fill="none" stroke="#000000" points="6622.4962,-2150.5 6795.2052,-2150.5 "/>
<text text-anchor="start" x="6630.4962" y="-2133.9" font-family="Times,serif" font-size="14.00" fill="#000000">freeLiquidity: uint</text>
<text text-anchor="start" x="6630.4962" y="-2117.1" font-family="Times,serif" font-size="14.00" fill="#000000">burnableLiquidity: uint</text>
<text text-anchor="start" x="6630.4962" y="-2100.3" font-family="Times,serif" font-size="14.00" fill="#000000">usedCollatLiquidity: uint</text>
<text text-anchor="start" x="6630.4962" y="-2083.5" font-family="Times,serif" font-size="14.00" fill="#000000">pendingDeltaLiquidity: uint</text>
<text text-anchor="start" x="6630.4962" y="-2066.7" font-family="Times,serif" font-size="14.00" fill="#000000">usedDeltaLiquidity: uint</text>
<text text-anchor="start" x="6630.4962" y="-2049.9" font-family="Times,serif" font-size="14.00" fill="#000000">NAV: uint</text>
</g>
<!-- 0struct1&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0struct1&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6720.2142,-2192.3655C6731.7698,-2269.1077 6751.0021,-2396.8307 6772.5507,-2539.9365"/>
<polygon fill="#000000" stroke="#000000" points="6772.5865,-2540.1752 6777.4354,-2545.5127 6774.3734,-2552.0414 6769.5245,-2546.7039 6772.5865,-2540.1752"/>
</g>
<!-- 0struct2 -->
<g id="node4" class="node">
<title>0struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6812.9443,-2050.1 6812.9443,-2183.7 6974.7571,-2183.7 6974.7571,-2050.1 6812.9443,-2050.1"/>
<text text-anchor="middle" x="6893.8507" y="-2167.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6893.8507" y="-2150.3" font-family="Times,serif" font-size="14.00" fill="#000000">QueuedDeposit</text>
<polyline fill="none" stroke="#000000" points="6812.9443,-2142.1 6974.7571,-2142.1 "/>
<text text-anchor="start" x="6820.9443" y="-2125.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="6820.9443" y="-2108.7" font-family="Times,serif" font-size="14.00" fill="#000000">beneficiary: address</text>
<text text-anchor="start" x="6820.9443" y="-2091.9" font-family="Times,serif" font-size="14.00" fill="#000000">amountLiquidity: uint</text>
<text text-anchor="start" x="6820.9443" y="-2075.1" font-family="Times,serif" font-size="14.00" fill="#000000">mintedTokens: uint</text>
<text text-anchor="start" x="6820.9443" y="-2058.3" font-family="Times,serif" font-size="14.00" fill="#000000">depositInitiatedTime: uint</text>
</g>
<!-- 0struct2&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0struct2&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6893.8507,-2183.8274C6893.8507,-2259.3963 6893.8507,-2391.3418 6893.8507,-2539.8642"/>
<polygon fill="#000000" stroke="#000000" points="6893.8508,-2539.9664 6897.8508,-2545.9665 6893.8507,-2551.9664 6889.8508,-2545.9664 6893.8508,-2539.9664"/>
</g>
<!-- 0struct3 -->
<g id="node5" class="node">
<title>0struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6992.7297,-2050.1 6992.7297,-2183.7 7166.9717,-2183.7 7166.9717,-2050.1 6992.7297,-2050.1"/>
<text text-anchor="middle" x="7079.8507" y="-2167.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7079.8507" y="-2150.3" font-family="Times,serif" font-size="14.00" fill="#000000">QueuedWithdrawal</text>
<polyline fill="none" stroke="#000000" points="6992.7297,-2142.1 7166.9717,-2142.1 "/>
<text text-anchor="start" x="7000.7297" y="-2125.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="7000.7297" y="-2108.7" font-family="Times,serif" font-size="14.00" fill="#000000">beneficiary: address</text>
<text text-anchor="start" x="7000.7297" y="-2091.9" font-family="Times,serif" font-size="14.00" fill="#000000">amountTokens: uint</text>
<text text-anchor="start" x="7000.7297" y="-2075.1" font-family="Times,serif" font-size="14.00" fill="#000000">quoteSent: uint</text>
<text text-anchor="start" x="7000.7297" y="-2058.3" font-family="Times,serif" font-size="14.00" fill="#000000">withdrawInitiatedTime: uint</text>
</g>
<!-- 0struct3&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0struct3&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M7069.7185,-2183.8274C7058.2779,-2259.3963 7038.3025,-2391.3418 7015.8174,-2539.8642"/>
<polygon fill="#000000" stroke="#000000" points="7015.7815,-2540.1016 7018.8383,-2546.6328 7013.9852,-2551.9664 7010.9284,-2545.4353 7015.7815,-2540.1016"/>
</g>
<!-- 0struct4 -->
<g id="node6" class="node">
<title>0struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7185.3314,-1974.5 7185.3314,-2259.3 7388.37,-2259.3 7388.37,-1974.5 7185.3314,-1974.5"/>
<text text-anchor="middle" x="7286.8507" y="-2242.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7286.8507" y="-2225.9" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityPoolParameters</text>
<polyline fill="none" stroke="#000000" points="7185.3314,-2217.7 7388.37,-2217.7 "/>
<text text-anchor="start" x="7193.3314" y="-2201.1" font-family="Times,serif" font-size="14.00" fill="#000000">minDepositWithdraw: uint</text>
<text text-anchor="start" x="7193.3314" y="-2184.3" font-family="Times,serif" font-size="14.00" fill="#000000">depositDelay: uint</text>
<text text-anchor="start" x="7193.3314" y="-2167.5" font-family="Times,serif" font-size="14.00" fill="#000000">withdrawalDelay: uint</text>
<text text-anchor="start" x="7193.3314" y="-2150.7" font-family="Times,serif" font-size="14.00" fill="#000000">withdrawalFee: uint</text>
<text text-anchor="start" x="7193.3314" y="-2133.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityCBThreshold: uint</text>
<text text-anchor="start" x="7193.3314" y="-2117.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityCBTimeout: uint</text>
<text text-anchor="start" x="7193.3314" y="-2100.3" font-family="Times,serif" font-size="14.00" fill="#000000">ivVarianceCBThreshold: uint</text>
<text text-anchor="start" x="7193.3314" y="-2083.5" font-family="Times,serif" font-size="14.00" fill="#000000">skewVarianceCBThreshold: uint</text>
<text text-anchor="start" x="7193.3314" y="-2066.7" font-family="Times,serif" font-size="14.00" fill="#000000">ivVarianceCBTimeout: uint</text>
<text text-anchor="start" x="7193.3314" y="-2049.9" font-family="Times,serif" font-size="14.00" fill="#000000">skewVarianceCBTimeout: uint</text>
<text text-anchor="start" x="7193.3314" y="-2033.1" font-family="Times,serif" font-size="14.00" fill="#000000">guardianMultisig: address</text>
<text text-anchor="start" x="7193.3314" y="-2016.3" font-family="Times,serif" font-size="14.00" fill="#000000">guardianDelay: uint</text>
<text text-anchor="start" x="7193.3314" y="-1999.5" font-family="Times,serif" font-size="14.00" fill="#000000">boardSettlementCBTimeout: uint</text>
<text text-anchor="start" x="7193.3314" y="-1982.7" font-family="Times,serif" font-size="14.00" fill="#000000">maxFeePaid: uint</text>
</g>
<!-- 0struct4&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>0struct4&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M7249.2253,-2259.6225C7228.5826,-2335.932 7201.9392,-2431.3183 7175.8507,-2515.8 7173.3336,-2523.9512 7170.7914,-2532.1434 7168.2265,-2540.3709"/>
<polygon fill="#000000" stroke="#000000" points="7168.1638,-2540.5717 7170.1926,-2547.4915 7164.5854,-2552.0257 7162.5566,-2545.1059 7168.1638,-2540.5717"/>
</g>
<!-- 16 -->
<g id="node58" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4445.7549,-8661.7 4445.7549,-8786.5 4731.9465,-8786.5 4731.9465,-8661.7 4445.7549,-8661.7"/>
<text text-anchor="middle" x="4588.8507" y="-8769.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4588.8507" y="-8753.1" font-family="Times,serif" font-size="14.00" fill="#000000">ILiquidityTracker</text>
<polyline fill="none" stroke="#000000" points="4445.7549,-8744.9 4731.9465,-8744.9 "/>
<text text-anchor="middle" x="4588.8507" y="-8728.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4445.7549,-8720.1 4731.9465,-8720.1 "/>
<text text-anchor="start" x="4453.7549" y="-8703.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4453.7549" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addTokens(trader: address, amount: uint)</text>
<text text-anchor="start" x="4453.7549" y="-8669.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeTokens(trader: address, amount: uint)</text>
</g>
<!-- 1&#45;&gt;16 -->
<g id="edge89" class="edge">
<title>1&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M4530.3314,-8020.0291C4545.3538,-8200.7701 4571.1351,-8510.9562 4582.8017,-8651.3216"/>
<polygon fill="#000000" stroke="#000000" points="4579.3343,-8651.8601 4583.6507,-8661.5358 4586.3102,-8651.2802 4579.3343,-8651.8601"/>
</g>
<!-- 1&#45;&gt;24 -->
<g id="edge87" class="edge">
<title>1&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M4577.6182,-8020.3423C4615.7885,-8098.5684 4671.3699,-8194.3308 4740.8507,-8264 4941.0093,-8464.701 5246.2885,-8609.7702 5411.6428,-8678.8181"/>
<polygon fill="none" stroke="#000000" points="5407.8791,-8688.6236 5439.6177,-8690.3303 5415.8707,-8669.2036 5407.8791,-8688.6236"/>
</g>
<!-- 1&#45;&gt;34 -->
<g id="edge88" class="edge">
<title>1&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4485.3272,-8020.3338C4467.3194,-8101.3201 4446.8194,-8205.8451 4436.8507,-8300 4404.939,-8601.4082 4405.3276,-8951.8871 4410.2102,-9174.3361"/>
<polygon fill="#000000" stroke="#000000" points="4406.7148,-9174.5825 4410.4385,-9184.5014 4413.713,-9174.4253 4406.7148,-9174.5825"/>
</g>
<!-- 1&#45;&gt;35 -->
<g id="edge86" class="edge">
<title>1&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M4608.347,-8019.9531C4673.9403,-8107.7148 4771.6045,-8213.9264 4887.8507,-8264 4974.2379,-8301.2116 8180.6353,-8287.4172 8273.8507,-8300 8874.5587,-8381.0872 9571.487,-8614.1669 9803.3364,-8695.6035"/>
<polygon fill="none" stroke="#000000" points="9799.9174,-8705.5316 9831.7017,-8705.628 9806.9148,-8685.7317 9799.9174,-8705.5316"/>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge97" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M5778.9288,-5456.5241C5793.0767,-5463.8053 5807.3875,-5470.6464 5821.8507,-5477 6019.3395,-5563.7548 6587.8124,-5443.0245 6791.8507,-5513 6809.0596,-5518.9018 6826.2224,-5525.2724 6843.3174,-5532.0664"/>
<polygon fill="#000000" stroke="#000000" points="6842.2238,-5535.399 6852.8075,-5535.8842 6844.8363,-5528.9048 6842.2238,-5535.399"/>
</g>
<!-- 8 -->
<g id="node48" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10485.895,-8300.5 10485.895,-9147.7 11475.8064,-9147.7 11475.8064,-8300.5 10485.895,-8300.5"/>
<text text-anchor="middle" x="10980.8507" y="-9131.1" font-family="Times,serif" font-size="14.00" fill="#000000">SynthetixAdapter</text>
<polyline fill="none" stroke="#000000" points="10485.895,-9122.9 11475.8064,-9122.9 "/>
<text text-anchor="start" x="10493.895" y="-9106.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="10493.895" y="-9089.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_SYNTHETIX: bytes32</text>
<text text-anchor="start" x="10493.895" y="-9072.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_EXCHANGER: bytes32</text>
<text text-anchor="start" x="10493.895" y="-9055.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_EXCHANGE_RATES: bytes32</text>
<text text-anchor="start" x="10493.895" y="-9039.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_DELEGATE_APPROVALS: bytes32</text>
<text text-anchor="start" x="10493.895" y="-9022.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10493.895" y="-9005.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isMarketPaused: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="10493.895" y="-8988.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isGlobalPaused: bool</text>
<text text-anchor="start" x="10493.895" y="-8971.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressResolver: IAddressResolver</text>
<text text-anchor="start" x="10493.895" y="-8955.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="10493.895" y="-8938.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchanger: IExchanger</text>
<text text-anchor="start" x="10493.895" y="-8921.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangeRates: IExchangeRates</text>
<text text-anchor="start" x="10493.895" y="-8904.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;delegateApprovals: IDelegateApprovals</text>
<text text-anchor="start" x="10493.895" y="-8887.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="10493.895" y="-8871.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="10493.895" y="-8854.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rewardAddress: mapping(address=&gt;address)</text>
<text text-anchor="start" x="10493.895" y="-8837.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;trackingCode: mapping(address=&gt;bytes32)</text>
<polyline fill="none" stroke="#000000" points="10485.895,-8829.3 11475.8064,-8829.3 "/>
<text text-anchor="start" x="10493.895" y="-8812.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="10493.895" y="-8795.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeQuoteForBase(optionMarket: address, amountQuote: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8779.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeBaseForQuote(optionMarket: address, amountBase: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8762.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="10493.895" y="-8745.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize()</text>
<text text-anchor="start" x="10493.895" y="-8728.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAddressResolver(_addressResolver: IAddressResolver)</text>
<text text-anchor="start" x="10493.895" y="-8711.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _quoteKey: bytes32, _baseKey: bytes32, _rewardAddress: address, _trackingCode: bytes32)</text>
<text text-anchor="start" x="10493.895" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMarketPaused(_contractAddress: address, _isPaused: bool)</text>
<text text-anchor="start" x="10493.895" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalPaused(_isPaused: bool)</text>
<text text-anchor="start" x="10493.895" y="-8661.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;requireNotGlobalPaused(optionMarket: address)</text>
<text text-anchor="start" x="10493.895" y="-8644.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactQuote(optionMarket: address, amountQuote: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8627.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactBase(exchangeParams: ExchangeParams, optionMarket: address, amountBase: uint): (quoteSpent: uint, baseReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8611.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactBase(optionMarket: address, amountBase: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8594.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactQuote(exchangeParams: ExchangeParams, optionMarket: address, amountQuote: uint): (baseSpent: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8577.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10493.895" y="-8560.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddressResolverSet(addressResolver: IAddressResolver)</text>
<text text-anchor="start" x="10493.895" y="-8543.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SynthetixAddressesUpdated(synthetix: ISynthetix, exchanger: IExchanger, exchangeRates: IExchangeRates, delegateApprovals: IDelegateApprovals)</text>
<text text-anchor="start" x="10493.895" y="-8527.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalsSetForContract(market: address, quoteKey: bytes32, baseKey: bytes32, rewardAddress: address, trackingCode: bytes32)</text>
<text text-anchor="start" x="10493.895" y="-8510.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalPausedSet(isPaused: bool)</text>
<text text-anchor="start" x="10493.895" y="-8493.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketPausedSet(contractAddress: address, isPaused: bool)</text>
<text text-anchor="start" x="10493.895" y="-8476.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSwappedForQuote(marketAddress: address, exchanger: address, baseSwapped: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8459.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteSwappedForBase(marketAddress: address, exchanger: address, quoteSwapped: uint, baseReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8443.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notPaused(_contractAddress: address)</text>
<text text-anchor="start" x="10493.895" y="-8426.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateSynthetixAddresses()</text>
<text text-anchor="start" x="10493.895" y="-8409.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): (spotPrice: uint)</text>
<text text-anchor="start" x="10493.895" y="-8392.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="10493.895" y="-8375.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeParams(optionMarket: address): (exchangeParams: ExchangeParams)</text>
<text text-anchor="start" x="10493.895" y="-8359.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactBaseWithLimit(exchangeParams: ExchangeParams, optionMarket: address, amountBase: uint, quoteLimit: uint): (quoteSpent: uint, baseReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8342.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;estimateExchangeToExactBase(exchangeParams: ExchangeParams, amountBase: uint): (quoteNeeded: uint)</text>
<text text-anchor="start" x="10493.895" y="-8325.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactQuoteWithLimit(exchangeParams: ExchangeParams, optionMarket: address, amountQuote: uint, baseLimit: uint): (baseSpent: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="10493.895" y="-8308.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;estimateExchangeToExactQuote(exchangeParams: ExchangeParams, amountQuote: uint): (baseNeeded: uint)</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge96" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M5778.8418,-5272.5133C5918.9313,-5356.0553 6072.6399,-5431.3808 6226.8507,-5477 6466.2922,-5547.8324 8242.1066,-5420.0263 8473.8507,-5513 9245.1907,-5822.4548 9268.064,-6186.1972 9845.8507,-6783.6 10123.8637,-7071.0516 10073.193,-7293.1444 10434.8507,-7463.8 10508.2276,-7498.4244 11838.1906,-7441.7255 11894.8507,-7499.8 11954.1473,-7560.5767 11952.206,-8201.388 11894.8507,-8264 11835.0617,-8329.2689 11586.1102,-8269.0752 11485.6771,-8300.259"/>
<polygon fill="#000000" stroke="#000000" points="11484.3753,-8297.0077 11476.1505,-8303.6863 11486.7449,-8303.5944 11484.3753,-8297.0077"/>
</g>
<!-- 20 -->
<g id="node63" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1403.1862,-5723.5 1403.1862,-6537.1 2028.5152,-6537.1 2028.5152,-5723.5 1403.1862,-5723.5"/>
<text text-anchor="middle" x="1715.8507" y="-6520.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1715.8507" y="-6503.7" font-family="Times,serif" font-size="14.00" fill="#000000">BlackScholes</text>
<polyline fill="none" stroke="#000000" points="1403.1862,-6495.5 2028.5152,-6495.5 "/>
<text text-anchor="start" x="1411.1862" y="-6478.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="1411.1862" y="-6462.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SECONDS_PER_YEAR: uint</text>
<text text-anchor="start" x="1411.1862" y="-6445.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<text text-anchor="start" x="1411.1862" y="-6428.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SQRT_TWOPI: uint</text>
<text text-anchor="start" x="1411.1862" y="-6411.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="1411.1862" y="-6394.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="1411.1862" y="-6378.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_T_ANNUALISED: uint</text>
<text text-anchor="start" x="1411.1862" y="-6361.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_VOLATILITY: uint</text>
<text text-anchor="start" x="1411.1862" y="-6344.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;VEGA_STANDARDISATION_MIN_DAYS: uint</text>
<text text-anchor="start" x="1411.1862" y="-6327.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SPLIT: uint</text>
<text text-anchor="start" x="1411.1862" y="-6310.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N0: uint</text>
<text text-anchor="start" x="1411.1862" y="-6294.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N1: uint</text>
<text text-anchor="start" x="1411.1862" y="-6277.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N2: uint</text>
<text text-anchor="start" x="1411.1862" y="-6260.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N3: uint</text>
<text text-anchor="start" x="1411.1862" y="-6243.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N4: uint</text>
<text text-anchor="start" x="1411.1862" y="-6226.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N5: uint</text>
<text text-anchor="start" x="1411.1862" y="-6210.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;N6: uint</text>
<text text-anchor="start" x="1411.1862" y="-6193.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M0: uint</text>
<text text-anchor="start" x="1411.1862" y="-6176.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M1: uint</text>
<text text-anchor="start" x="1411.1862" y="-6159.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M2: uint</text>
<text text-anchor="start" x="1411.1862" y="-6142.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M3: uint</text>
<text text-anchor="start" x="1411.1862" y="-6126.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M4: uint</text>
<text text-anchor="start" x="1411.1862" y="-6109.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M5: uint</text>
<text text-anchor="start" x="1411.1862" y="-6092.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M6: uint</text>
<text text-anchor="start" x="1411.1862" y="-6075.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;M7: uint</text>
<polyline fill="none" stroke="#000000" points="1403.1862,-6067.5 2028.5152,-6067.5 "/>
<text text-anchor="start" x="1411.1862" y="-6050.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1411.1862" y="-6034.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_d1d2(tAnnualised: uint, volatility: uint, spot: uint, strikePrice: uint, rate: int): (d1: int, d2: int)</text>
<text text-anchor="start" x="1411.1862" y="-6017.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_optionPrices(tAnnualised: uint, spot: uint, strikePrice: uint, rate: int, d1: int, d2: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="1411.1862" y="-6000.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_delta(d1: int): (callDelta: int, putDelta: int)</text>
<text text-anchor="start" x="1411.1862" y="-5983.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_vega(tAnnualised: uint, spot: uint, d1: int): uint</text>
<text text-anchor="start" x="1411.1862" y="-5966.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_standardVega(d1: int, spot: uint, timeToExpirySec: uint): (uint, uint)</text>
<text text-anchor="start" x="1411.1862" y="-5950.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getVegaNormalisationFactorPrecise(timeToExpirySec: uint): uint</text>
<text text-anchor="start" x="1411.1862" y="-5933.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_abs(val: int): uint</text>
<text text-anchor="start" x="1411.1862" y="-5916.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sqrt(x: uint): (result: uint)</text>
<text text-anchor="start" x="1411.1862" y="-5899.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sqrtPrecise(x: uint): uint</text>
<text text-anchor="start" x="1411.1862" y="-5882.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_stdNormal(x: int): uint</text>
<text text-anchor="start" x="1411.1862" y="-5866.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_stdNormalCDFNumerator(z: uint): uint</text>
<text text-anchor="start" x="1411.1862" y="-5849.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_stdNormalCDFDenom(z: uint): uint</text>
<text text-anchor="start" x="1411.1862" y="-5832.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_annualise(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="1411.1862" y="-5815.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1411.1862" y="-5798.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPrices(bsInput: BlackScholesInputs): (call: uint, put: uint)</text>
<text text-anchor="start" x="1411.1862" y="-5782.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pricesDeltaStdVega(bsInput: BlackScholesInputs): PricesDeltaStdVega</text>
<text text-anchor="start" x="1411.1862" y="-5765.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;delta(bsInput: BlackScholesInputs): (callDeltaDecimal: int, putDeltaDecimal: int)</text>
<text text-anchor="start" x="1411.1862" y="-5748.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;vega(bsInput: BlackScholesInputs): (vegaDecimal: uint)</text>
<text text-anchor="start" x="1411.1862" y="-5731.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_stdNormalCDF(x: int): uint</text>
</g>
<!-- 2&#45;&gt;20 -->
<g id="edge95" class="edge">
<title>2&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4594.7782,-5472.9318C4591.8106,-5474.3102 4588.8347,-5475.6665 4585.8507,-5477 4466.49,-5530.3415 2350.887,-5456.7884 2232.8507,-5513 2135.4958,-5559.3627 2049.871,-5633.831 1977.7464,-5715.2584"/>
<polygon fill="#000000" stroke="#000000" points="1974.7768,-5713.3357 1970.8088,-5723.1595 1980.0369,-5717.9544 1974.7768,-5713.3357"/>
</g>
<!-- 22 -->
<g id="node67" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="530.4831,-5983.9 530.4831,-6276.7 1271.2183,-6276.7 1271.2183,-5983.9 530.4831,-5983.9"/>
<text text-anchor="middle" x="900.8507" y="-6260.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="900.8507" y="-6243.3" font-family="Times,serif" font-size="14.00" fill="#000000">GWAV</text>
<polyline fill="none" stroke="#000000" points="530.4831,-6235.1 1271.2183,-6235.1 "/>
<text text-anchor="middle" x="900.8507" y="-6218.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="530.4831,-6210.3 1271.2183,-6210.3 "/>
<text text-anchor="start" x="538.4831" y="-6193.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="538.4831" y="-6176.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_queryFirstBefore(self: Params, target: uint): (beforeOrAt: Observation)</text>
<text text-anchor="start" x="538.4831" y="-6160.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transform(newQ: int, nextVal: uint, blockTimestamp: uint): Observation</text>
<text text-anchor="start" x="538.4831" y="-6143.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="538.4831" y="-6126.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(self: Params, newVal: uint, blockTimestamp: uint)</text>
<text text-anchor="start" x="538.4831" y="-6109.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_write(self: Params, nextVal: uint, blockTimestamp: uint)</text>
<text text-anchor="start" x="538.4831" y="-6092.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;queryFirstBefore(self: Params, currentBlockTimestamp: uint, secondsAgo: uint): (qCumulative: int, timestamp: uint)</text>
<text text-anchor="start" x="538.4831" y="-6076.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;queryFirstBeforeAndScale(self: Params, currentBlockTimestamp: uint, secondsAgo: uint): (qCumulative: int, timestamp: uint)</text>
<text text-anchor="start" x="538.4831" y="-6059.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_binarySearch(self: Params, target: uint): uint</text>
<text text-anchor="start" x="538.4831" y="-6042.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initializeWithManualQ(self: Params, qVal: int, nextVal: uint, blockTimestamp: uint)</text>
<text text-anchor="start" x="538.4831" y="-6025.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="538.4831" y="-6008.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGWAVForPeriod(self: Params, secondsAgoA: uint, secondsAgoB: uint): uint</text>
<text text-anchor="start" x="538.4831" y="-5992.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;observe(self: Params, currentBlockTimestamp: uint, secondsAgos: uint[]): (qCumulatives: int[], timestamps: uint[])</text>
</g>
<!-- 2&#45;&gt;22 -->
<g id="edge94" class="edge">
<title>2&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4594.7861,-5472.9495C4591.8159,-5474.3221 4588.8374,-5475.6725 4585.8507,-5477 4423.7935,-5549.0318 1553.224,-5435.21 1393.8507,-5513 1197.0199,-5609.073 1053.915,-5825.4954 974.1001,-5974.7333"/>
<polygon fill="#000000" stroke="#000000" points="971.0061,-5973.0972 969.4058,-5983.5705 977.1881,-5976.3811 971.0061,-5973.0972"/>
</g>
<!-- 2&#45;&gt;24 -->
<g id="edge91" class="edge">
<title>2&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M4594.8298,-5472.3691C4591.8442,-5473.9339 4588.8512,-5475.4777 4585.8507,-5477 4523.0192,-5508.8779 4319.3461,-5461.8903 4270.8507,-5513 4196.1935,-5591.6818 4118.5854,-7384.7482 4192.8507,-7463.8 4280.663,-7557.2719 4674.0877,-7413.3825 4768.8507,-7499.8 5022.8365,-7731.4179 4707.8946,-7971.1325 4887.8507,-8264 5012.6536,-8467.1091 5263.9632,-8606.8471 5411.8155,-8675.4082"/>
<polygon fill="none" stroke="#000000" points="5407.8375,-8685.1336 5439.4949,-8687.9722 5416.5173,-8666.0113 5407.8375,-8685.1336"/>
</g>
<!-- 2&#45;&gt;34 -->
<g id="edge92" class="edge">
<title>2&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4594.8786,-5472.4666C4591.877,-5473.9995 4588.8677,-5475.5108 4585.8507,-5477 4429.364,-5554.2438 4358.5489,-5452.5218 4194.8507,-5513 3278.0025,-5851.7291 2959.9318,-5982.5649 2399.8507,-6783.6 2220.3274,-7040.3565 2448.4616,-7255.0454 2214.8507,-7463.8 2136.717,-7533.6203 2050.0534,-7420.2503 1981.8507,-7499.8 1926.5833,-7564.2624 1922.7368,-8203.0456 1981.8507,-8264 2072.707,-8357.685 3062.9202,-8208.3721 3155.8507,-8300 3223.0276,-8366.2352 3132.5719,-9076.4731 3193.8507,-9148.2 3322.8116,-9299.1488 3893.2991,-9362.1057 4207.8582,-9385.7249"/>
<polygon fill="#000000" stroke="#000000" points="4207.7819,-9389.2289 4218.014,-9386.4805 4208.3013,-9382.2481 4207.7819,-9389.2289"/>
</g>
<!-- 2&#45;&gt;35 -->
<g id="edge90" class="edge">
<title>2&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M5545.0722,-5476.654C5831.5427,-5924.4905 6278.4012,-6484.3599 6843.8507,-6747.6 6917.9938,-6782.1167 9729.3243,-6726.475 9787.8507,-6783.6 9802.5745,-6797.9712 9840.5622,-8243.4656 9841.8507,-8264 9850.3589,-8399.5871 9865.5604,-8557.2036 9874.8711,-8648.3214"/>
<polygon fill="none" stroke="#000000" points="9864.456,-8649.6849 9877.9832,-8678.4472 9885.3448,-8647.527 9864.456,-8649.6849"/>
</g>
<!-- 37 -->
<g id="node117" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1364.6073,-6901.7 1364.6073,-7345.7 1753.0941,-7345.7 1753.0941,-6901.7 1364.6073,-6901.7"/>
<text text-anchor="middle" x="1558.8507" y="-7329.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1558.8507" y="-7312.3" font-family="Times,serif" font-size="14.00" fill="#000000">SignedDecimalMath</text>
<polyline fill="none" stroke="#000000" points="1364.6073,-7304.1 1753.0941,-7304.1 "/>
<text text-anchor="start" x="1372.6073" y="-7287.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="1372.6073" y="-7270.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: int</text>
<text text-anchor="start" x="1372.6073" y="-7253.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1372.6073" y="-7237.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="1372.6073" y="-7220.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="1372.6073" y="-7203.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: int</text>
<text text-anchor="start" x="1372.6073" y="-7186.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: int</text>
<polyline fill="none" stroke="#000000" points="1364.6073,-7178.5 1753.0941,-7178.5 "/>
<text text-anchor="start" x="1372.6073" y="-7161.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="1372.6073" y="-7145.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_roundDividingByTen(valueTimesTen: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7128.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7111.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7094.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1372.6073" y="-7077.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7061.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7044.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7027.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-7010.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-6993.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="1372.6073" y="-6977.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: int): int</text>
<text text-anchor="start" x="1372.6073" y="-6960.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: int): int</text>
<text text-anchor="start" x="1372.6073" y="-6943.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1372.6073" y="-6926.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): int</text>
<text text-anchor="start" x="1372.6073" y="-6909.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): int</text>
</g>
<!-- 2&#45;&gt;37 -->
<g id="edge93" class="edge">
<title>2&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4594.7777,-5472.9307C4591.8102,-5474.3095 4588.8345,-5475.6661 4585.8507,-5477 4468.4238,-5529.495 2369.2375,-5430.1455 2270.8507,-5513 1843.7315,-5872.6899 2327.7375,-6270.344 2037.8507,-6747.6 1971.2491,-6857.2498 1860.1729,-6947.4493 1761.7445,-7012.0031"/>
<polygon fill="#000000" stroke="#000000" points="1759.6443,-7009.194 1753.1719,-7017.582 1763.4624,-7015.061 1759.6443,-7009.194"/>
</g>
<!-- 2struct0 -->
<g id="node9" class="node">
<title>2struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4999.1939,-3236.7 4999.1939,-3454.3 5232.5075,-3454.3 5232.5075,-3236.7 4999.1939,-3236.7"/>
<text text-anchor="middle" x="5115.8507" y="-3437.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5115.8507" y="-3420.9" font-family="Times,serif" font-size="14.00" fill="#000000">GreekCacheParameters</text>
<polyline fill="none" stroke="#000000" points="4999.1939,-3412.7 5232.5075,-3412.7 "/>
<text text-anchor="start" x="5007.1939" y="-3396.1" font-family="Times,serif" font-size="14.00" fill="#000000">maxStrikesPerBoard: uint</text>
<text text-anchor="start" x="5007.1939" y="-3379.3" font-family="Times,serif" font-size="14.00" fill="#000000">acceptableSpotPricePercentMove: uint</text>
<text text-anchor="start" x="5007.1939" y="-3362.5" font-family="Times,serif" font-size="14.00" fill="#000000">staleUpdateDuration: uint</text>
<text text-anchor="start" x="5007.1939" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">varianceIvGWAVPeriod: uint</text>
<text text-anchor="start" x="5007.1939" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">varianceSkewGWAVPeriod: uint</text>
<text text-anchor="start" x="5007.1939" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionValueIvGWAVPeriod: uint</text>
<text text-anchor="start" x="5007.1939" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">optionValueSkewGWAVPeriod: uint</text>
<text text-anchor="start" x="5007.1939" y="-3278.5" font-family="Times,serif" font-size="14.00" fill="#000000">gwavSkewFloor: uint</text>
<text text-anchor="start" x="5007.1939" y="-3261.7" font-family="Times,serif" font-size="14.00" fill="#000000">gwavSkewCap: uint</text>
<text text-anchor="start" x="5007.1939" y="-3244.9" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
</g>
<!-- 2struct0&#45;&gt;2 -->
<g id="edge6" class="edge">
<title>2struct0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5121.0715,-3454.3721C5128.3253,-3605.6395 5142.035,-3891.5351 5155.0688,-4163.3349"/>
<polygon fill="#000000" stroke="#000000" points="5155.0747,-4163.4608 5159.3576,-4169.2623 5155.6496,-4175.447 5151.3668,-4169.6455 5155.0747,-4163.4608"/>
</g>
<!-- 2struct1 -->
<g id="node10" class="node">
<title>2struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5250.4387,-3236.7 5250.4387,-3454.3 5461.2627,-3454.3 5461.2627,-3236.7 5250.4387,-3236.7"/>
<text text-anchor="middle" x="5355.8507" y="-3437.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5355.8507" y="-3420.9" font-family="Times,serif" font-size="14.00" fill="#000000">ForceCloseParameters</text>
<polyline fill="none" stroke="#000000" points="5250.4387,-3412.7 5461.2627,-3412.7 "/>
<text text-anchor="start" x="5258.4387" y="-3396.1" font-family="Times,serif" font-size="14.00" fill="#000000">ivGWAVPeriod: uint</text>
<text text-anchor="start" x="5258.4387" y="-3379.3" font-family="Times,serif" font-size="14.00" fill="#000000">skewGWAVPeriod: uint</text>
<text text-anchor="start" x="5258.4387" y="-3362.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortPostCutoffVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">longVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">longPostCutoffVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidateVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3278.5" font-family="Times,serif" font-size="14.00" fill="#000000">liquidatePostCutoffVolShock: uint</text>
<text text-anchor="start" x="5258.4387" y="-3261.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortSpotMin: uint</text>
<text text-anchor="start" x="5258.4387" y="-3244.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidateSpotMin: uint</text>
</g>
<!-- 2struct1&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>2struct1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5343.4237,-3454.3721C5326.1576,-3605.6395 5293.5247,-3891.5351 5262.5007,-4163.3349"/>
<polygon fill="#000000" stroke="#000000" points="5262.4791,-4163.5244 5265.7728,-4169.9394 5261.1182,-4175.447 5257.8244,-4169.032 5262.4791,-4163.5244"/>
</g>
<!-- 2struct2 -->
<g id="node11" class="node">
<title>2struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5479.7248,-3253.5 5479.7248,-3437.5 5667.9766,-3437.5 5667.9766,-3253.5 5479.7248,-3253.5"/>
<text text-anchor="middle" x="5573.8507" y="-3420.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5573.8507" y="-3404.1" font-family="Times,serif" font-size="14.00" fill="#000000">MinCollateralParameters</text>
<polyline fill="none" stroke="#000000" points="5479.7248,-3395.9 5667.9766,-3395.9 "/>
<text text-anchor="start" x="5487.7248" y="-3379.3" font-family="Times,serif" font-size="14.00" fill="#000000">minStaticQuoteCollateral: uint</text>
<text text-anchor="start" x="5487.7248" y="-3362.5" font-family="Times,serif" font-size="14.00" fill="#000000">minStaticBaseCollateral: uint</text>
<text text-anchor="start" x="5487.7248" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">shockVolA: uint</text>
<text text-anchor="start" x="5487.7248" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">shockVolPointA: uint</text>
<text text-anchor="start" x="5487.7248" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">shockVolB: uint</text>
<text text-anchor="start" x="5487.7248" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">shockVolPointB: uint</text>
<text text-anchor="start" x="5487.7248" y="-3278.5" font-family="Times,serif" font-size="14.00" fill="#000000">callSpotPriceShock: uint</text>
<text text-anchor="start" x="5487.7248" y="-3261.7" font-family="Times,serif" font-size="14.00" fill="#000000">putSpotPriceShock: uint</text>
</g>
<!-- 2struct2&#45;&gt;2 -->
<g id="edge8" class="edge">
<title>2struct2&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5569.555,-3437.7663C5560.867,-3587.318 5536.0373,-3890.9451 5469.8507,-4139.2 5467.6771,-4147.353 5465.4297,-4155.5378 5463.1138,-4163.7476"/>
<polygon fill="#000000" stroke="#000000" points="5463.0899,-4163.8317 5465.2884,-4170.6994 5459.7945,-4175.3703 5457.596,-4168.5025 5463.0899,-4163.8317"/>
</g>
<!-- 2struct3 -->
<g id="node12" class="node">
<title>2struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5686.1189,-3270.3 5686.1189,-3420.7 5845.5825,-3420.7 5845.5825,-3270.3 5686.1189,-3270.3"/>
<text text-anchor="middle" x="5765.8507" y="-3404.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5765.8507" y="-3387.3" font-family="Times,serif" font-size="14.00" fill="#000000">GlobalCache</text>
<polyline fill="none" stroke="#000000" points="5686.1189,-3379.1 5845.5825,-3379.1 "/>
<text text-anchor="start" x="5694.1189" y="-3362.5" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="5694.1189" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="5694.1189" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="5694.1189" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">maxSkewVariance: uint</text>
<text text-anchor="start" x="5694.1189" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxIvVariance: uint</text>
<text text-anchor="start" x="5694.1189" y="-3278.5" font-family="Times,serif" font-size="14.00" fill="#000000">netGreeks: NetGreeks</text>
</g>
<!-- 2struct3&#45;&gt;2 -->
<g id="edge9" class="edge">
<title>2struct3&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5769.7277,-3420.9197C5774.5287,-3565.4934 5772.4744,-3889.4417 5676.8507,-4139.2 5673.6549,-4147.5471 5670.3331,-4155.8865 5666.8931,-4164.2138"/>
<polygon fill="#000000" stroke="#000000" points="5666.7744,-4164.4967 5668.1402,-4171.5773 5662.1296,-4175.5614 5660.7638,-4168.4808 5666.7744,-4164.4967"/>
</g>
<!-- 2struct4 -->
<g id="node13" class="node">
<title>2struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5863.4022,-3245.1 5863.4022,-3445.9 6014.2992,-3445.9 6014.2992,-3245.1 5863.4022,-3245.1"/>
<text text-anchor="middle" x="5938.8507" y="-3429.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5938.8507" y="-3412.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoardCache</text>
<polyline fill="none" stroke="#000000" points="5863.4022,-3404.3 6014.2992,-3404.3 "/>
<text text-anchor="start" x="5871.4022" y="-3387.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="5871.4022" y="-3370.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikes: uint[]</text>
<text text-anchor="start" x="5871.4022" y="-3354.1" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5871.4022" y="-3337.3" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="5871.4022" y="-3320.5" font-family="Times,serif" font-size="14.00" fill="#000000">netGreeks: NetGreeks</text>
<text text-anchor="start" x="5871.4022" y="-3303.7" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAt: uint</text>
<text text-anchor="start" x="5871.4022" y="-3286.9" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAtPrice: uint</text>
<text text-anchor="start" x="5871.4022" y="-3270.1" font-family="Times,serif" font-size="14.00" fill="#000000">maxSkewVariance: uint</text>
<text text-anchor="start" x="5871.4022" y="-3253.3" font-family="Times,serif" font-size="14.00" fill="#000000">ivVariance: uint</text>
</g>
<!-- 2struct4&#45;&gt;2 -->
<g id="edge10" class="edge">
<title>2struct4&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5955.3517,-3446.1266C5976.1301,-3606.6769 5993.9956,-3924.5255 5854.8507,-4139.2 5837.5197,-4165.9385 5817.7552,-4155.3235 5792.8507,-4175.2 5791.3894,-4176.3663 5789.9284,-4177.5361 5788.4676,-4178.7094"/>
<polygon fill="#000000" stroke="#000000" points="5788.1618,-4178.9567 5786.0119,-4185.8399 5778.8313,-4186.5028 5780.9812,-4179.6196 5788.1618,-4178.9567"/>
</g>
<!-- 2struct5 -->
<g id="node14" class="node">
<title>2struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4183.3482,-3253.5 4183.3482,-3437.5 4316.3532,-3437.5 4316.3532,-3253.5 4183.3482,-3253.5"/>
<text text-anchor="middle" x="4249.8507" y="-3420.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4249.8507" y="-3404.1" font-family="Times,serif" font-size="14.00" fill="#000000">StrikeCache</text>
<polyline fill="none" stroke="#000000" points="4183.3482,-3395.9 4316.3532,-3395.9 "/>
<text text-anchor="start" x="4191.3482" y="-3379.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="4191.3482" y="-3362.5" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="4191.3482" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="4191.3482" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="4191.3482" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">greeks: StrikeGreeks</text>
<text text-anchor="start" x="4191.3482" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">callExposure: int</text>
<text text-anchor="start" x="4191.3482" y="-3278.5" font-family="Times,serif" font-size="14.00" fill="#000000">putExposure: int</text>
<text text-anchor="start" x="4191.3482" y="-3261.7" font-family="Times,serif" font-size="14.00" fill="#000000">skewVariance: uint</text>
</g>
<!-- 2struct5&#45;&gt;2 -->
<g id="edge11" class="edge">
<title>2struct5&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4226.3189,-3437.7297C4190.3178,-3602.7415 4143.4745,-3948.9749 4325.8507,-4139.2 4403.9042,-4220.6126 4477.4084,-4127.7666 4583.7063,-4174.6033"/>
<polygon fill="#000000" stroke="#000000" points="4583.9648,-4174.7278 4591.1063,-4173.7282 4594.7758,-4179.9359 4587.6343,-4180.9355 4583.9648,-4174.7278"/>
</g>
<!-- 2struct6 -->
<g id="node15" class="node">
<title>2struct6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4334.7781,-3278.7 4334.7781,-3412.3 4428.9233,-3412.3 4428.9233,-3278.7 4334.7781,-3278.7"/>
<text text-anchor="middle" x="4381.8507" y="-3395.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4381.8507" y="-3378.9" font-family="Times,serif" font-size="14.00" fill="#000000">StrikeGreeks</text>
<polyline fill="none" stroke="#000000" points="4334.7781,-3370.7 4428.9233,-3370.7 "/>
<text text-anchor="start" x="4342.7781" y="-3354.1" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="4342.7781" y="-3337.3" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="4342.7781" y="-3320.5" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
<text text-anchor="start" x="4342.7781" y="-3303.7" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="4342.7781" y="-3286.9" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
</g>
<!-- 2struct6&#45;&gt;2 -->
<g id="edge12" class="edge">
<title>2struct6&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4376.8985,-3412.3758C4365.705,-3583.343 4346.1032,-4030.5633 4437.8507,-4139.2 4479.1408,-4188.0909 4522.4862,-4146.0356 4583.9313,-4174.7906"/>
<polygon fill="#000000" stroke="#000000" points="4584.1704,-4174.9169 4591.3441,-4174.1836 4594.7801,-4180.5235 4587.6064,-4181.2568 4584.1704,-4174.9169"/>
</g>
<!-- 2struct7 -->
<g id="node16" class="node">
<title>2struct7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4447.0551,-3295.5 4447.0551,-3395.5 4574.6463,-3395.5 4574.6463,-3295.5 4447.0551,-3295.5"/>
<text text-anchor="middle" x="4510.8507" y="-3378.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4510.8507" y="-3362.1" font-family="Times,serif" font-size="14.00" fill="#000000">NetGreeks</text>
<polyline fill="none" stroke="#000000" points="4447.0551,-3353.9 4574.6463,-3353.9 "/>
<text text-anchor="start" x="4455.0551" y="-3337.3" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="4455.0551" y="-3320.5" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
<text text-anchor="start" x="4455.0551" y="-3303.7" font-family="Times,serif" font-size="14.00" fill="#000000">netOptionValue: int</text>
</g>
<!-- 2struct7&#45;&gt;2 -->
<g id="edge13" class="edge">
<title>2struct7&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4505.0927,-3395.9473C4492.4433,-3525.5463 4471.6601,-3878.2793 4583.8507,-4139.2 4587.5009,-4147.6891 4591.297,-4156.1474 4595.2305,-4164.572"/>
<polygon fill="#000000" stroke="#000000" points="4595.3326,-4164.7873 4601.5196,-4168.4915 4600.48,-4175.6273 4594.293,-4171.923 4595.3326,-4164.7873"/>
</g>
<!-- 2struct8 -->
<g id="node17" class="node">
<title>2struct8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4592.6217,-3261.9 4592.6217,-3429.1 4787.0797,-3429.1 4787.0797,-3261.9 4592.6217,-3261.9"/>
<text text-anchor="middle" x="4689.8507" y="-3412.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4689.8507" y="-3395.7" font-family="Times,serif" font-size="14.00" fill="#000000">TradePricing</text>
<polyline fill="none" stroke="#000000" points="4592.6217,-3387.5 4787.0797,-3387.5 "/>
<text text-anchor="start" x="4600.6217" y="-3370.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionPrice: uint</text>
<text text-anchor="start" x="4600.6217" y="-3354.1" font-family="Times,serif" font-size="14.00" fill="#000000">preTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4600.6217" y="-3337.3" font-family="Times,serif" font-size="14.00" fill="#000000">postTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4600.6217" y="-3320.5" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="4600.6217" y="-3303.7" font-family="Times,serif" font-size="14.00" fill="#000000">volTraded: uint</text>
<text text-anchor="start" x="4600.6217" y="-3286.9" font-family="Times,serif" font-size="14.00" fill="#000000">ivVariance: uint</text>
<text text-anchor="start" x="4600.6217" y="-3270.1" font-family="Times,serif" font-size="14.00" fill="#000000">vega: uint</text>
</g>
<!-- 2struct8&#45;&gt;2 -->
<g id="edge14" class="edge">
<title>2struct8&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4690.5929,-3429.2699C4694.167,-3576.6762 4711.9784,-3890.3845 4795.8507,-4139.2 4798.6381,-4147.4692 4801.5284,-4155.7514 4804.5146,-4164.0409"/>
<polygon fill="#000000" stroke="#000000" points="4804.5278,-4164.0773 4810.3438,-4168.3405 4808.6455,-4175.3488 4802.8295,-4171.0856 4804.5278,-4164.0773"/>
</g>
<!-- 2struct9 -->
<g id="node18" class="node">
<title>2struct9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4804.5838,-3287.1 4804.5838,-3403.9 4981.1176,-3403.9 4981.1176,-3287.1 4804.5838,-3287.1"/>
<text text-anchor="middle" x="4892.8507" y="-3387.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4892.8507" y="-3370.5" font-family="Times,serif" font-size="14.00" fill="#000000">BoardGreeksView</text>
<polyline fill="none" stroke="#000000" points="4804.5838,-3362.3 4981.1176,-3362.3 "/>
<text text-anchor="start" x="4812.5838" y="-3345.7" font-family="Times,serif" font-size="14.00" fill="#000000">boardGreeks: NetGreeks</text>
<text text-anchor="start" x="4812.5838" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">ivGWAV: uint</text>
<text text-anchor="start" x="4812.5838" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">strikeGreeks: StrikeGreeks[]</text>
<text text-anchor="start" x="4812.5838" y="-3295.3" font-family="Times,serif" font-size="14.00" fill="#000000">skewGWAVs: uint[]</text>
</g>
<!-- 2struct9&#45;&gt;2 -->
<g id="edge15" class="edge">
<title>2struct9&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4896.8451,-3404.2604C4906.5309,-3536.5568 4934.6375,-3867.4588 4989.8507,-4139.2 4991.4897,-4147.2663 4993.176,-4155.3759 4994.9061,-4163.5212"/>
<polygon fill="#000000" stroke="#000000" points="4994.9544,-4163.7465 5000.1241,-4168.7738 4997.4719,-4175.4795 4992.3021,-4170.4521 4994.9544,-4163.7465"/>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge101" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6852.846,-5529.3234C6838.5515,-5523.5821 6824.2152,-5518.1323 6809.8507,-5513 6749.6733,-5491.4993 6279.6,-5523.5791 6235.8507,-5477 6037.7982,-5266.1369 6139.7698,-4448.0672 6235.8507,-4175.2 6239.0398,-4166.1431 6242.3741,-4157.1121 6245.8465,-4148.1097"/>
<polygon fill="#000000" stroke="#000000" points="6249.1287,-4149.3264 6249.5147,-4138.7386 6242.6103,-4146.7748 6249.1287,-4149.3264"/>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge104" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M6852.703,-5528.6813C6838.4596,-5523.147 6824.1711,-5517.9112 6809.8507,-5513 6605.8124,-5443.0245 6037.3395,-5563.7548 5839.8507,-5477 5822.267,-5469.2756 5804.9086,-5460.8307 5787.7924,-5451.7503"/>
<polygon fill="#000000" stroke="#000000" points="5789.3283,-5448.6022 5778.864,-5446.9443 5786.0105,-5454.766 5789.3283,-5448.6022"/>
</g>
<!-- 4 -->
<g id="node31" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4896.6183,-7601.1 4896.6183,-8162.7 5865.0831,-8162.7 5865.0831,-7601.1 4896.6183,-7601.1"/>
<text text-anchor="middle" x="5380.8507" y="-8146.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketPricer</text>
<polyline fill="none" stroke="#000000" points="4896.6183,-8137.9 5865.0831,-8137.9 "/>
<text text-anchor="start" x="4904.6183" y="-8121.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4904.6183" y="-8104.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<text text-anchor="start" x="4904.6183" y="-8087.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="4904.6183" y="-8070.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4904.6183" y="-8054.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pricingParams: PricingParameters</text>
<text text-anchor="start" x="4904.6183" y="-8037.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradeLimitParams: TradeLimitParameters</text>
<text text-anchor="start" x="4904.6183" y="-8020.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;varianceFeeParams: VarianceFeeParameters</text>
<polyline fill="none" stroke="#000000" points="4896.6183,-8012.3 5865.0831,-8012.3 "/>
<text text-anchor="start" x="4904.6183" y="-7995.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4904.6183" y="-7978.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_min(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4904.6183" y="-7962.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_max(x: uint, y: uint): uint</text>
<text text-anchor="start" x="4904.6183" y="-7945.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_abs(val: int): uint</text>
<text text-anchor="start" x="4904.6183" y="-7928.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4904.6183" y="-7911.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address, _greekCache: OptionGreekCache)</text>
<text text-anchor="start" x="4904.6183" y="-7894.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCacheAndGetTradeResult(strike: OptionMarket.Strike, trade: OptionMarket.TradeParameters, boardBaseIv: uint, boardExpiry: uint): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="4904.6183" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricingParams(): (pricingParameters: PricingParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTradeLimitParams(): (tradeLimitParameters: TradeLimitParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVarianceFeeParams(): (varianceFeeParameters: VarianceFeeParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4904.6183" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PricingParametersSet(pricingParams: PricingParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradeLimitParametersSet(tradeLimitParams: TradeLimitParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7777.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VarianceFeeParametersSet(varianceFeeParams: VarianceFeeParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7760.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="4904.6183" y="-7743.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4904.6183" y="-7726.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPricingParams(_pricingParams: PricingParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7710.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTradeLimitParams(_tradeLimitParams: TradeLimitParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7693.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVarianceFeeParams(_varianceFeeParams: VarianceFeeParameters)</text>
<text text-anchor="start" x="4904.6183" y="-7676.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ivImpactForTrade(trade: OptionMarket.TradeParameters, boardBaseIv: uint, strikeSkew: uint): (newBaseIv: uint, newSkew: uint)</text>
<text text-anchor="start" x="4904.6183" y="-7659.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTradeResult(trade: OptionMarket.TradeParameters, pricing: OptionGreekCache.TradePricing, newBaseIv: uint, newSkew: uint): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="4904.6183" y="-7642.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTimeWeightedFee(expiry: uint, pointA: uint, pointB: uint, coefficient: uint): (timeWeightedFee: uint)</text>
<text text-anchor="start" x="4904.6183" y="-7626.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVegaUtilFee(trade: OptionMarket.TradeParameters, pricing: OptionGreekCache.TradePricing): (vegaUtilFeeComponents: VegaUtilFeeComponents)</text>
<text text-anchor="start" x="4904.6183" y="-7609.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVarianceFee(trade: OptionMarket.TradeParameters, pricing: OptionGreekCache.TradePricing, skew: uint): (varianceFeeComponents: VarianceFeeComponents)</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge103" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M6852.7873,-6739.1245C6845.1556,-6742.0456 6837.5094,-6744.8722 6829.8507,-6747.6 6733.2712,-6781.9986 5986.1315,-6717.3959 5907.8507,-6783.6 5672.0456,-6983.0266 5908.6718,-7189.9804 5765.8507,-7463.8 5742.4512,-7508.6621 5712.8534,-7552.1625 5680.5028,-7593.0793"/>
<polygon fill="#000000" stroke="#000000" points="5677.7171,-7590.9588 5674.2145,-7600.958 5683.1882,-7595.3255 5677.7171,-7590.9588"/>
</g>
<!-- 5 -->
<g id="node39" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7305.0602,-7500.3 7305.0602,-8263.5 8364.6412,-8263.5 8364.6412,-7500.3 7305.0602,-7500.3"/>
<text text-anchor="middle" x="7834.8507" y="-8246.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionToken</text>
<polyline fill="none" stroke="#000000" points="7305.0602,-8238.7 8364.6412,-8238.7 "/>
<text text-anchor="start" x="7313.0602" y="-8222.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7313.0602" y="-8205.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="7313.0602" y="-8188.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="7313.0602" y="-8171.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: address</text>
<text text-anchor="start" x="7313.0602" y="-8154.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="7313.0602" y="-8138.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7313.0602" y="-8121.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;positions: mapping(uint=&gt;OptionPosition)</text>
<text text-anchor="start" x="7313.0602" y="-8104.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextId: uint</text>
<text text-anchor="start" x="7313.0602" y="-8087.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;partialCollatParams: PartialCollateralParameters</text>
<text text-anchor="start" x="7313.0602" y="-8070.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseURI: string</text>
<polyline fill="none" stroke="#000000" points="7305.0602,-8062.7 8364.6412,-8062.7 "/>
<text text-anchor="start" x="7313.0602" y="-8046.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7313.0602" y="-8029.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_baseURI(): string</text>
<text text-anchor="start" x="7313.0602" y="-8012.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isShort(optionType: OptionMarket.OptionType): (shortPosition: bool)</text>
<text text-anchor="start" x="7313.0602" y="-7995.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPositionWithOwner(positionId: uint): PositionWithOwner</text>
<text text-anchor="start" x="7313.0602" y="-7978.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_requireStrikeNotExpired(strikeId: uint)</text>
<text text-anchor="start" x="7313.0602" y="-7962.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="7313.0602" y="-7945.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7313.0602" y="-7928.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _greekCache: OptionGreekCache, _shortCollateral: address, _synthetixAdapter: SynthetixAdapter)</text>
<text text-anchor="start" x="7313.0602" y="-7911.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPartialCollateralParams(_partialCollatParams: PartialCollateralParameters)</text>
<text text-anchor="start" x="7313.0602" y="-7894.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setURI(newURI: string)</text>
<text text-anchor="start" x="7313.0602" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;adjustPosition(trade: OptionMarket.TradeParameters, strikeId: uint, trader: address, positionId: uint, optionCost: uint, setCollateralTo: uint, isOpen: bool): (uint, pendingCollateral: int)</text>
<text text-anchor="start" x="7313.0602" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addCollateral(positionId: uint, amountCollateral: uint): (optionType: OptionMarket.OptionType)</text>
<text text-anchor="start" x="7313.0602" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settlePositions(positionIds: uint[])</text>
<text text-anchor="start" x="7313.0602" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidate(positionId: uint, trade: OptionMarket.TradeParameters, totalCost: uint): (liquidationFees: LiquidationFees)</text>
<text text-anchor="start" x="7313.0602" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;split(positionId: uint, newAmount: uint, newCollateral: uint, recipient: address): (newPositionId: uint)</text>
<text text-anchor="start" x="7313.0602" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;merge(positionIds: uint[])</text>
<text text-anchor="start" x="7313.0602" y="-7777.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPositionState(positionId: uint): PositionState</text>
<text text-anchor="start" x="7313.0602" y="-7760.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionPosition(positionId: uint): OptionPosition</text>
<text text-anchor="start" x="7313.0602" y="-7743.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionPositions(positionIds: uint[]): OptionPosition[]</text>
<text text-anchor="start" x="7313.0602" y="-7726.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPositionWithOwner(positionId: uint): PositionWithOwner</text>
<text text-anchor="start" x="7313.0602" y="-7710.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPositionsWithOwner(positionIds: uint[]): PositionWithOwner[]</text>
<text text-anchor="start" x="7313.0602" y="-7693.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwnerPositions(target: address): OptionPosition[]</text>
<text text-anchor="start" x="7313.0602" y="-7676.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPartialCollatParams(): PartialCollateralParameters</text>
<text text-anchor="start" x="7313.0602" y="-7659.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7313.0602" y="-7642.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; URISet(URI: string)</text>
<text text-anchor="start" x="7313.0602" y="-7626.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PartialCollateralParamsSet(partialCollateralParams: PartialCollateralParameters)</text>
<text text-anchor="start" x="7313.0602" y="-7609.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionUpdated(positionId: uint, owner: address, updatedType: PositionUpdatedType, position: OptionPosition, timestamp: uint)</text>
<text text-anchor="start" x="7313.0602" y="-7592.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="7313.0602" y="-7575.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="7313.0602" y="-7558.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notGlobalPaused()</text>
<text text-anchor="start" x="7313.0602" y="-7542.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
<text text-anchor="start" x="7313.0602" y="-7525.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;canLiquidate(position: OptionPosition, expiry: uint, strikePrice: uint, spotPrice: uint): bool</text>
<text text-anchor="start" x="7313.0602" y="-7508.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidationFees(gwavPremium: uint, userPositionCollateral: uint, convertedMinLiquidationFee: uint, insolvencyMultiplier: uint): (liquidationFees: LiquidationFees)</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge106" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6852.8404,-6737.4241C6845.1846,-6740.899 6837.5207,-6744.2924 6829.8507,-6747.6 6742.4943,-6785.2713 6680.2028,-6710.8937 6618.8507,-6783.6 6570.11,-6841.361 6566.867,-7408.9393 6618.8507,-7463.8 6669.9761,-7517.7549 7216.6591,-7475.3444 7286.8507,-7499.8 7289.6433,-7500.773 7292.4343,-7501.7651 7295.2235,-7502.7759"/>
<polygon fill="#000000" stroke="#000000" points="7294.1062,-7506.0943 7304.6993,-7506.2838 7296.5364,-7499.5297 7294.1062,-7506.0943"/>
</g>
<!-- 6 -->
<g id="node46" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6637.2903,-6784.1 6637.2903,-7463.3 7926.4111,-7463.3 7926.4111,-6784.1 6637.2903,-6784.1"/>
<text text-anchor="middle" x="7281.8507" y="-7446.7" font-family="Times,serif" font-size="14.00" fill="#000000">ShortCollateral</text>
<polyline fill="none" stroke="#000000" points="6637.2903,-7438.5 7926.4111,-7438.5 "/>
<text text-anchor="start" x="6645.2903" y="-7421.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6645.2903" y="-7405.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="6645.2903" y="-7388.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="6645.2903" y="-7371.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="6645.2903" y="-7354.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="6645.2903" y="-7337.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ERC20</text>
<text text-anchor="start" x="6645.2903" y="-7321.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: ERC20</text>
<text text-anchor="start" x="6645.2903" y="-7304.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6645.2903" y="-7287.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LPBaseExcess: uint</text>
<text text-anchor="start" x="6645.2903" y="-7270.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LPQuoteExcess: uint</text>
<polyline fill="none" stroke="#000000" points="6637.2903,-7262.5 7926.4111,-7262.5 "/>
<text text-anchor="start" x="6645.2903" y="-7245.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6645.2903" y="-7229.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_reclaimInsolvency(baseInsolventAmount: uint, quoteInsolventAmount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7212.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendLongCallProceeds(account: address, amount: uint, strikePrice: uint, priceAtExpiry: uint): (settlementAmount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7195.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendLongPutProceeds(account: address, amount: uint, strikePrice: uint, priceAtExpiry: uint): (settlementAmount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7178.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendShortCallBaseProceeds(account: address, userCollateral: uint, amount: uint, strikeToBaseReturnedRatio: uint): (settlementAmount: uint, insolvency: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7161.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendShortCallQuoteProceeds(account: address, userCollateral: uint, amount: uint, strikePrice: uint, priceAtExpiry: uint): (settlementAmount: uint, insolvency: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7145.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendShortPutQuoteProceeds(account: address, userCollateral: uint, amount: uint, strikePrice: uint, priceAtExpiry: uint): (settlementAmount: uint, insolvency: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7128.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getInsolvency(userCollateral: uint, ammProfit: uint): (returnCollateral: uint, insolvency: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7111.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7094.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7077.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeAndSendBaseCollateral(recipient: address, amountBase: uint)</text>
<text text-anchor="start" x="6645.2903" y="-7061.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6645.2903" y="-7044.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _liquidityPool: LiquidityPool, _optionToken: OptionToken, _synthetixAdapter: SynthetixAdapter, _quoteAsset: ERC20, _baseAsset: ERC20)</text>
<text text-anchor="start" x="6645.2903" y="-7027.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateDelegateApproval()</text>
<text text-anchor="start" x="6645.2903" y="-7010.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6993.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6977.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;routeLiquidationFunds(trader: address, liquidator: address, optionType: OptionMarket.OptionType, liquidationFees: OptionToken.LiquidationFees)</text>
<text text-anchor="start" x="6645.2903" y="-6960.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;boardSettlement(amountBase: uint, amountQuote: uint): (lpBaseInsolvency: uint, lpQuoteInsolvency: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6943.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleOptions(positionIds: uint[])</text>
<text text-anchor="start" x="6645.2903" y="-6926.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6645.2903" y="-6909.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardSettlementCollateralSent(amountBaseSent: uint, amountQuoteSent: uint, lpBaseInsolvency: uint, lpQuoteInsolvency: uint, LPBaseExcess: uint, LPQuoteExcess: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6893.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionSettled(positionId: uint, settler: address, optionOwner: address, strikePrice: uint, priceAtExpiry: uint, optionType: OptionMarket.OptionType, amount: uint, settlementAmount: uint, insolventAmount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6876.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6859.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6842.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseExchangedAndQuoteSent(recipient: address, amountBase: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="6645.2903" y="-6825.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="6645.2903" y="-6809.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notGlobalPaused()</text>
<text text-anchor="start" x="6645.2903" y="-6792.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge105" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M7418.0765,-6747.4299C7414.6898,-6756.4259 7411.3275,-6765.3658 7407.9945,-6774.2367"/>
<polygon fill="#000000" stroke="#000000" points="7404.6291,-6773.2429 7404.3895,-6783.8351 7411.1821,-6775.7042 7404.6291,-6773.2429"/>
</g>
<!-- 3&#45;&gt;8 -->
<g id="edge102" class="edge">
<title>3&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M8464.9608,-6263.2869C8897.8823,-6360.3973 9427.0644,-6522.1041 9845.8507,-6783.6 10194.6,-7001.3638 10098.0634,-7294.7391 10472.8507,-7463.8 10557.8977,-7502.1634 12086.5892,-7433.1241 12151.8507,-7499.8 12181.5478,-7530.1407 12181.0512,-8233.181 12151.8507,-8264 12102.5485,-8316.0349 11590.6742,-8275.6696 11485.6727,-8300.6389"/>
<polygon fill="#000000" stroke="#000000" points="11484.6472,-8297.2924 11476.0921,-8303.5423 11486.6774,-8303.9915 11484.6472,-8297.2924"/>
</g>
<!-- 3&#45;&gt;24 -->
<g id="edge99" class="edge">
<title>3&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M6852.6726,-6742.5254C6848.07,-6744.2519 6843.4626,-6745.9438 6838.8507,-6747.6 6753.75,-6778.161 6091.9365,-6721.8846 6025.8507,-6783.6 5784.6384,-7008.8605 6026.0026,-7956.22 5906.8507,-8264 5847.6085,-8417.028 5716.3551,-8557.0012 5625.0234,-8641.3842"/>
<polygon fill="none" stroke="#000000" points="5617.8912,-8633.6775 5602.7317,-8661.6139 5632.0038,-8649.2286 5617.8912,-8633.6775"/>
</g>
<!-- 3&#45;&gt;34 -->
<g id="edge100" class="edge">
<title>3&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6852.8772,-6476.5221C6563.7807,-6584.4504 6231.8537,-6690.1774 5918.8507,-6747.6 5874.0595,-6755.8173 4311.696,-6751.0476 4279.8507,-6783.6 4174.1477,-6891.6503 4176.4216,-7353.571 4279.8507,-7463.8 4365.9371,-7555.5461 4758.7644,-7408.0539 4844.8507,-7499.8 4876.182,-7533.1912 4867.6211,-9108.4743 4844.8507,-9148.2 4797.1887,-9231.3521 4709.9775,-9289.5273 4626.7379,-9328.7035"/>
<polygon fill="#000000" stroke="#000000" points="4625.2592,-9325.5312 4617.6568,-9332.9105 4628.2017,-9331.8827 4625.2592,-9325.5312"/>
</g>
<!-- 3&#45;&gt;35 -->
<g id="edge98" class="edge">
<title>3&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M8465.0358,-6511.9652C8695.005,-6605.0241 8949.1273,-6693.3247 9191.8507,-6747.6 9260.1669,-6762.8761 9771.9793,-6733.4797 9820.8507,-6783.6 9822.9232,-6785.7254 9869.4353,-8289.2516 9880.5028,-8647.9366"/>
<polygon fill="none" stroke="#000000" points="9870.0133,-8648.4397 9881.4333,-8678.1017 9891.0033,-8647.7922 9870.0133,-8648.4397"/>
</g>
<!-- 3struct0 -->
<g id="node20" class="node">
<title>3struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7839.4948,-4725.7 7839.4948,-4926.5 7970.2066,-4926.5 7970.2066,-4725.7 7839.4948,-4725.7"/>
<text text-anchor="middle" x="7904.8507" y="-4909.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7904.8507" y="-4893.1" font-family="Times,serif" font-size="14.00" fill="#000000">Strike</text>
<polyline fill="none" stroke="#000000" points="7839.4948,-4884.9 7970.2066,-4884.9 "/>
<text text-anchor="start" x="7847.4948" y="-4868.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="7847.4948" y="-4851.5" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="7847.4948" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="7847.4948" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="7847.4948" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCallBase: uint</text>
<text text-anchor="start" x="7847.4948" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortCallQuote: uint</text>
<text text-anchor="start" x="7847.4948" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="7847.4948" y="-4750.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
<text text-anchor="start" x="7847.4948" y="-4733.9" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
</g>
<!-- 3struct0&#45;&gt;3 -->
<g id="edge16" class="edge">
<title>3struct0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M7897.9488,-4926.5686C7888.0928,-5055.0103 7867.0526,-5283.8931 7830.8507,-5477 7829.3443,-5485.0356 7827.7923,-5493.118 7826.1985,-5501.2387"/>
<polygon fill="#000000" stroke="#000000" points="7826.1682,-5501.392 7828.9246,-5508.0555 7823.8338,-5513.1627 7821.0774,-5506.4992 7826.1682,-5501.392"/>
</g>
<!-- 3struct1 -->
<g id="node21" class="node">
<title>3struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7988.5011,-4759.3 7988.5011,-4892.9 8091.2003,-4892.9 8091.2003,-4759.3 7988.5011,-4759.3"/>
<text text-anchor="middle" x="8039.8507" y="-4876.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8039.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoard</text>
<polyline fill="none" stroke="#000000" points="7988.5011,-4851.3 8091.2003,-4851.3 "/>
<text text-anchor="start" x="7996.5011" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="7996.5011" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="7996.5011" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="7996.5011" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">frozen: bool</text>
<text text-anchor="start" x="7996.5011" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">strikeIds: uint[]</text>
</g>
<!-- 3struct1&#45;&gt;3 -->
<g id="edge17" class="edge">
<title>3struct1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8041.441,-4893.136C8042.56,-5012.7828 8037.1427,-5269.97 7978.8507,-5477 7976.5533,-5485.1596 7974.1564,-5493.3404 7971.6667,-5501.5357"/>
<polygon fill="#000000" stroke="#000000" points="7971.6267,-5501.6654 7973.6782,-5508.5785 7968.0858,-5513.1311 7966.0344,-5506.2179 7971.6267,-5501.6654"/>
</g>
<!-- 3struct2 -->
<g id="node22" class="node">
<title>3struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8108.8412,-4767.7 8108.8412,-4884.5 8290.8602,-4884.5 8290.8602,-4767.7 8108.8412,-4767.7"/>
<text text-anchor="middle" x="8199.8507" y="-4867.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8199.8507" y="-4851.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketParameters</text>
<polyline fill="none" stroke="#000000" points="8108.8412,-4842.9 8290.8602,-4842.9 "/>
<text text-anchor="start" x="8116.8412" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxBoardExpiry: uint</text>
<text text-anchor="start" x="8116.8412" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">securityModule: address</text>
<text text-anchor="start" x="8116.8412" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">feePortionReserved: uint</text>
<text text-anchor="start" x="8116.8412" y="-4775.9" font-family="Times,serif" font-size="14.00" fill="#000000">staticBaseSettlementFee: uint</text>
</g>
<!-- 3struct2&#45;&gt;3 -->
<g id="edge18" class="edge">
<title>3struct2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8199.3438,-4884.8946C8196.5202,-5001.7807 8180.9072,-5269.9288 8099.8507,-5477 8096.5559,-5485.4172 8093.1374,-5493.835 8089.604,-5502.2477"/>
<polygon fill="#000000" stroke="#000000" points="8089.5971,-5502.264 8090.9252,-5509.3518 8084.8934,-5513.3038 8083.5654,-5506.216 8089.5971,-5502.264"/>
</g>
<!-- 3struct3 -->
<g id="node23" class="node">
<title>3struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8309.0537,-4734.1 8309.0537,-4918.1 8464.6477,-4918.1 8464.6477,-4734.1 8309.0537,-4734.1"/>
<text text-anchor="middle" x="8386.8507" y="-4901.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8386.8507" y="-4884.7" font-family="Times,serif" font-size="14.00" fill="#000000">TradeInputParameters</text>
<polyline fill="none" stroke="#000000" points="8309.0537,-4876.5 8464.6477,-4876.5 "/>
<text text-anchor="start" x="8317.0537" y="-4859.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="8317.0537" y="-4843.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="8317.0537" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">iterations: uint</text>
<text text-anchor="start" x="8317.0537" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="8317.0537" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="8317.0537" y="-4775.9" font-family="Times,serif" font-size="14.00" fill="#000000">setCollateralTo: uint</text>
<text text-anchor="start" x="8317.0537" y="-4759.1" font-family="Times,serif" font-size="14.00" fill="#000000">minTotalCost: uint</text>
<text text-anchor="start" x="8317.0537" y="-4742.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxTotalCost: uint</text>
</g>
<!-- 3struct3&#45;&gt;3 -->
<g id="edge19" class="edge">
<title>3struct3&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8392.2998,-4918.1172C8396.2486,-5049.148 8389.2961,-5293.8882 8299.8507,-5477 8295.6519,-5485.5957 8291.2961,-5494.1485 8286.7929,-5502.6556"/>
<polygon fill="#000000" stroke="#000000" points="8286.6949,-5502.838 8287.3757,-5510.0169 8281.0109,-5513.4065 8280.33,-5506.2276 8286.6949,-5502.838"/>
</g>
<!-- 3struct4 -->
<g id="node24" class="node">
<title>3struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8482.7924,-4725.7 8482.7924,-4926.5 8798.909,-4926.5 8798.909,-4725.7 8482.7924,-4725.7"/>
<text text-anchor="middle" x="8640.8507" y="-4909.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8640.8507" y="-4893.1" font-family="Times,serif" font-size="14.00" fill="#000000">TradeParameters</text>
<polyline fill="none" stroke="#000000" points="8482.7924,-4884.9 8798.909,-4884.9 "/>
<text text-anchor="start" x="8490.7924" y="-4868.3" font-family="Times,serif" font-size="14.00" fill="#000000">isBuy: bool</text>
<text text-anchor="start" x="8490.7924" y="-4851.5" font-family="Times,serif" font-size="14.00" fill="#000000">isForceClose: bool</text>
<text text-anchor="start" x="8490.7924" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">tradeDirection: TradeDirection</text>
<text text-anchor="start" x="8490.7924" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="8490.7924" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="8490.7924" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="8490.7924" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="8490.7924" y="-4750.7" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: LiquidityPool.Liquidity</text>
<text text-anchor="start" x="8490.7924" y="-4733.9" font-family="Times,serif" font-size="14.00" fill="#000000">exchangeParams: SynthetixAdapter.ExchangeParams</text>
</g>
<!-- 3struct4&#45;&gt;3 -->
<g id="edge20" class="edge">
<title>3struct4&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8634.7369,-4926.5228C8622.3717,-5061.5234 8585.1905,-5304.4805 8473.8507,-5477 8468.0905,-5485.9254 8462.1671,-5494.7844 8456.0911,-5503.5754"/>
<polygon fill="#000000" stroke="#000000" points="8456.0463,-5503.6394 8455.884,-5510.8487 8449.1668,-5513.4717 8449.3292,-5506.2624 8456.0463,-5503.6394"/>
</g>
<!-- 3struct5 -->
<g id="node25" class="node">
<title>3struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8816.9758,-4717.3 8816.9758,-4934.9 9006.7256,-4934.9 9006.7256,-4717.3 8816.9758,-4717.3"/>
<text text-anchor="middle" x="8911.8507" y="-4918.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8911.8507" y="-4901.5" font-family="Times,serif" font-size="14.00" fill="#000000">TradeEventData</text>
<polyline fill="none" stroke="#000000" points="8816.9758,-4893.3 9006.7256,-4893.3 "/>
<text text-anchor="start" x="8824.9758" y="-4876.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="8824.9758" y="-4859.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="8824.9758" y="-4843.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="8824.9758" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">tradeDirection: TradeDirection</text>
<text text-anchor="start" x="8824.9758" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="8824.9758" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">setCollateralTo: uint</text>
<text text-anchor="start" x="8824.9758" y="-4775.9" font-family="Times,serif" font-size="14.00" fill="#000000">isForceClose: bool</text>
<text text-anchor="start" x="8824.9758" y="-4759.1" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="8824.9758" y="-4742.3" font-family="Times,serif" font-size="14.00" fill="#000000">reservedFee: uint</text>
<text text-anchor="start" x="8824.9758" y="-4725.5" font-family="Times,serif" font-size="14.00" fill="#000000">totalCost: uint</text>
</g>
<!-- 3struct5&#45;&gt;3 -->
<g id="edge21" class="edge">
<title>3struct5&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8921.68,-4935.0857C8928.5008,-5073.546 8920.797,-5314.0556 8807.8507,-5477 8721.454,-5601.6422 8603.0858,-5705.4699 8475.0125,-5790.923"/>
<polygon fill="#000000" stroke="#000000" points="8474.9886,-5790.9388 8472.1945,-5797.5866 8464.9834,-5797.5643 8467.7775,-5790.9165 8474.9886,-5790.9388"/>
</g>
<!-- 3struct6 -->
<g id="node26" class="node">
<title>3struct6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6236.0887,-4734.1 6236.0887,-4918.1 6405.6127,-4918.1 6405.6127,-4734.1 6236.0887,-4734.1"/>
<text text-anchor="middle" x="6320.8507" y="-4901.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6320.8507" y="-4884.7" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidationEventData</text>
<polyline fill="none" stroke="#000000" points="6236.0887,-4876.5 6405.6127,-4876.5 "/>
<text text-anchor="start" x="6244.0887" y="-4859.9" font-family="Times,serif" font-size="14.00" fill="#000000">rewardBeneficiary: address</text>
<text text-anchor="start" x="6244.0887" y="-4843.1" font-family="Times,serif" font-size="14.00" fill="#000000">caller: address</text>
<text text-anchor="start" x="6244.0887" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">returnCollateral: uint</text>
<text text-anchor="start" x="6244.0887" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">lpPremiums: uint</text>
<text text-anchor="start" x="6244.0887" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">lpFee: uint</text>
<text text-anchor="start" x="6244.0887" y="-4775.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidatorFee: uint</text>
<text text-anchor="start" x="6244.0887" y="-4759.1" font-family="Times,serif" font-size="14.00" fill="#000000">smFee: uint</text>
<text text-anchor="start" x="6244.0887" y="-4742.3" font-family="Times,serif" font-size="14.00" fill="#000000">insolventAmount: uint</text>
</g>
<!-- 3struct6&#45;&gt;3 -->
<g id="edge22" class="edge">
<title>3struct6&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6302.5664,-4918.2697C6280.2391,-5060.786 6262.3139,-5333.1673 6414.8507,-5477 6483.6497,-5541.8732 6750.5188,-5479.2466 6838.8507,-5513 6839.7285,-5513.3354 6840.6061,-5513.6721 6841.4836,-5514.01"/>
<polygon fill="#000000" stroke="#000000" points="6841.7083,-5514.0978 6848.7535,-5512.5597 6852.883,-5518.4713 6845.8379,-5520.0095 6841.7083,-5514.0978"/>
</g>
<!-- 3struct7 -->
<g id="node27" class="node">
<title>3struct7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6423.8763,-4776.1 6423.8763,-4876.1 6525.8251,-4876.1 6525.8251,-4776.1 6423.8763,-4776.1"/>
<text text-anchor="middle" x="6474.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6474.8507" y="-4842.7" font-family="Times,serif" font-size="14.00" fill="#000000">Result</text>
<polyline fill="none" stroke="#000000" points="6423.8763,-4834.5 6525.8251,-4834.5 "/>
<text text-anchor="start" x="6431.8763" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="6431.8763" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">totalCost: uint</text>
<text text-anchor="start" x="6431.8763" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">totalFee: uint</text>
</g>
<!-- 3struct7&#45;&gt;3 -->
<g id="edge23" class="edge">
<title>3struct7&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6461.0517,-4876.1278C6430.834,-4997.855 6373.6862,-5311.5978 6534.8507,-5477 6582.3253,-5525.7229 6775.7159,-5487.6672 6838.8507,-5513 6839.7228,-5513.3499 6840.5948,-5513.701 6841.4667,-5514.0533"/>
<polygon fill="#000000" stroke="#000000" points="6841.6913,-5514.1454 6848.7604,-5512.721 6852.7941,-5518.6984 6845.725,-5520.1228 6841.6913,-5514.1454"/>
</g>
<!-- 3enum0 -->
<g id="node28" class="node">
<title>3enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6543.9527,-4776.1 6543.9527,-4876.1 6649.7487,-4876.1 6649.7487,-4776.1 6543.9527,-4776.1"/>
<text text-anchor="middle" x="6596.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6596.8507" y="-4842.7" font-family="Times,serif" font-size="14.00" fill="#000000">TradeDirection</text>
<polyline fill="none" stroke="#000000" points="6543.9527,-4834.5 6649.7487,-4834.5 "/>
<text text-anchor="start" x="6551.9527" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">OPEN: 0</text>
<text text-anchor="start" x="6551.9527" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">CLOSE: 1</text>
<text text-anchor="start" x="6551.9527" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">LIQUIDATE: 2</text>
</g>
<!-- 3enum0&#45;&gt;3 -->
<g id="edge24" class="edge">
<title>3enum0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6583.8707,-4876.2474C6555.9391,-4996.8807 6504.4634,-5305.9298 6658.8507,-5477 6713.5107,-5537.5664 6764.4018,-5479.633 6838.8507,-5513 6839.8734,-5513.4583 6840.8959,-5513.9181 6841.9184,-5514.3794"/>
<polygon fill="#000000" stroke="#000000" points="6841.9532,-5514.3952 6849.0724,-5513.2472 6852.8702,-5519.3772 6845.7511,-5520.5252 6841.9532,-5514.3952"/>
</g>
<!-- 3enum1 -->
<g id="node29" class="node">
<title>3enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6667.7262,-4759.3 6667.7262,-4892.9 6841.9752,-4892.9 6841.9752,-4759.3 6667.7262,-4759.3"/>
<text text-anchor="middle" x="6754.8507" y="-4876.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6754.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionType</text>
<polyline fill="none" stroke="#000000" points="6667.7262,-4851.3 6841.9752,-4851.3 "/>
<text text-anchor="start" x="6675.7262" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_CALL: 0</text>
<text text-anchor="start" x="6675.7262" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_PUT: 1</text>
<text text-anchor="start" x="6675.7262" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL_BASE: 2</text>
<text text-anchor="start" x="6675.7262" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL_QUOTE: 3</text>
<text text-anchor="start" x="6675.7262" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_PUT_QUOTE: 4</text>
</g>
<!-- 3enum1&#45;&gt;3 -->
<g id="edge25" class="edge">
<title>3enum1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6749.4122,-4893.0579C6742.4917,-5017.0434 6742.418,-5287.0245 6850.8507,-5477 6855.8175,-5485.7018 6860.949,-5494.3335 6866.2359,-5502.8941"/>
<polygon fill="#000000" stroke="#000000" points="6866.3863,-5503.134 6872.9626,-5506.0924 6872.7611,-5513.3007 6866.1848,-5510.3423 6866.3863,-5503.134"/>
</g>
<!-- 3enum2 -->
<g id="node30" class="node">
<title>3enum2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6859.8251,-4759.3 6859.8251,-4892.9 6985.8763,-4892.9 6985.8763,-4759.3 6859.8251,-4759.3"/>
<text text-anchor="middle" x="6922.8507" y="-4876.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6922.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">NonZeroValues</text>
<polyline fill="none" stroke="#000000" points="6859.8251,-4851.3 6985.8763,-4851.3 "/>
<text text-anchor="start" x="6867.8251" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">BASE_IV: 0</text>
<text text-anchor="start" x="6867.8251" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">SKEW: 1</text>
<text text-anchor="start" x="6867.8251" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">STRIKE_PRICE: 2</text>
<text text-anchor="start" x="6867.8251" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">ITERATIONS: 3</text>
<text text-anchor="start" x="6867.8251" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">STRIKE_ID: 4</text>
</g>
<!-- 3enum2&#45;&gt;3 -->
<g id="edge26" class="edge">
<title>3enum2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M6916.044,-4893.3767C6906.6064,-5016.1629 6900.1602,-5281.8954 6994.8507,-5477 6999.0088,-5485.5674 7003.3268,-5494.0863 7007.7954,-5502.5545"/>
<polygon fill="#000000" stroke="#000000" points="7007.8622,-5502.6792 7014.2236,-5506.0753 7013.5353,-5513.2535 7007.174,-5509.8574 7007.8622,-5502.6792"/>
</g>
<!-- 4&#45;&gt;2 -->
<g id="edge110" class="edge">
<title>4&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5018.5507,-7600.8879C4951.2506,-7560.537 4879.2468,-7524.4166 4806.8507,-7499.8 4751.2832,-7480.9056 4319.9131,-7506.6924 4279.8507,-7463.8 4008.1455,-7172.9011 4459.4585,-6167.8325 4817.2185,-5485.8194"/>
<polygon fill="#000000" stroke="#000000" points="4820.4004,-5487.2881 4821.9503,-5476.8073 4814.2027,-5484.034 4820.4004,-5487.2881"/>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge111" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5692.0456,-7600.958C5727.0125,-7557.764 5758.9431,-7511.5534 5783.8507,-7463.8 5926.6718,-7189.9804 5690.0456,-6983.0266 5925.8507,-6783.6 6001.991,-6719.2061 6710.9121,-6778.5634 6843.1282,-6748.5409"/>
<polygon fill="#000000" stroke="#000000" points="6844.2086,-6751.8728 6852.8848,-6745.7922 6842.3103,-6745.1351 6844.2086,-6751.8728"/>
</g>
<!-- 4&#45;&gt;24 -->
<g id="edge108" class="edge">
<title>4&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M5429.9018,-8162.9257C5458.2996,-8325.6244 5492.1929,-8519.8071 5511.7482,-8631.8446"/>
<polygon fill="none" stroke="#000000" points="5501.4236,-8633.7595 5516.9256,-8661.5073 5522.1108,-8630.1486 5501.4236,-8633.7595"/>
</g>
<!-- 4&#45;&gt;34 -->
<g id="edge109" class="edge">
<title>4&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5329.2175,-8162.9922C5265.6852,-8441.2256 5133.8825,-8865.43 4882.8507,-9148.2 4814.1566,-9225.5792 4715.6338,-9283.3456 4626.9435,-9323.7507"/>
<polygon fill="#000000" stroke="#000000" points="4625.246,-9320.6766 4617.5661,-9327.9753 4628.1213,-9327.0588 4625.246,-9320.6766"/>
</g>
<!-- 4&#45;&gt;35 -->
<g id="edge107" class="edge">
<title>4&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M5808.9109,-8162.8252C5890.5873,-8204.252 5977.5915,-8240.7595 6063.8507,-8264 6300.9829,-8327.8895 8030.5638,-8266.4588 8273.8507,-8300 8874.327,-8382.7858 9571.4034,-8614.7796 9803.3137,-8695.7693"/>
<polygon fill="none" stroke="#000000" points="9799.9023,-8705.6998 9831.6867,-8705.7377 9806.8633,-8685.8871 9799.9023,-8705.6998"/>
</g>
<!-- 4struct0 -->
<g id="node32" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5072.4001,-7023.3 5072.4001,-7224.1 5265.3013,-7224.1 5265.3013,-7023.3 5072.4001,-7023.3"/>
<text text-anchor="middle" x="5168.8507" y="-7207.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5168.8507" y="-7190.7" font-family="Times,serif" font-size="14.00" fill="#000000">PricingParameters</text>
<polyline fill="none" stroke="#000000" points="5072.4001,-7182.5 5265.3013,-7182.5 "/>
<text text-anchor="start" x="5080.4001" y="-7165.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="5080.4001" y="-7149.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFee1xPoint: uint</text>
<text text-anchor="start" x="5080.4001" y="-7132.3" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFee2xPoint: uint</text>
<text text-anchor="start" x="5080.4001" y="-7115.5" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="5080.4001" y="-7098.7" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFee1xPoint: uint</text>
<text text-anchor="start" x="5080.4001" y="-7081.9" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFee2xPoint: uint</text>
<text text-anchor="start" x="5080.4001" y="-7065.1" font-family="Times,serif" font-size="14.00" fill="#000000">vegaFeeCoefficient: uint</text>
<text text-anchor="start" x="5080.4001" y="-7048.3" font-family="Times,serif" font-size="14.00" fill="#000000">standardSize: uint</text>
<text text-anchor="start" x="5080.4001" y="-7031.5" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentFactor: uint</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge27" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5197.0027,-7224.3831C5223.024,-7317.4462 5262.9946,-7460.3977 5299.0279,-7589.2677"/>
<polygon fill="#000000" stroke="#000000" points="5299.0478,-7589.339 5304.5158,-7594.0403 5302.2792,-7600.8958 5296.8113,-7596.1946 5299.0478,-7589.339"/>
</g>
<!-- 4struct1 -->
<g id="node33" class="node">
<title>4struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5282.8363,-6998.1 5282.8363,-7249.3 5436.8651,-7249.3 5436.8651,-6998.1 5282.8363,-6998.1"/>
<text text-anchor="middle" x="5359.8507" y="-7232.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5359.8507" y="-7215.9" font-family="Times,serif" font-size="14.00" fill="#000000">TradeLimitParameters</text>
<polyline fill="none" stroke="#000000" points="5282.8363,-7207.7 5436.8651,-7207.7 "/>
<text text-anchor="start" x="5290.8363" y="-7191.1" font-family="Times,serif" font-size="14.00" fill="#000000">minDelta: int</text>
<text text-anchor="start" x="5290.8363" y="-7174.3" font-family="Times,serif" font-size="14.00" fill="#000000">minForceCloseDelta: int</text>
<text text-anchor="start" x="5290.8363" y="-7157.5" font-family="Times,serif" font-size="14.00" fill="#000000">tradingCutoff: uint</text>
<text text-anchor="start" x="5290.8363" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">minBaseIV: uint</text>
<text text-anchor="start" x="5290.8363" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">maxBaseIV: uint</text>
<text text-anchor="start" x="5290.8363" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">minSkew: uint</text>
<text text-anchor="start" x="5290.8363" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxSkew: uint</text>
<text text-anchor="start" x="5290.8363" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">minVol: uint</text>
<text text-anchor="start" x="5290.8363" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">maxVol: uint</text>
<text text-anchor="start" x="5290.8363" y="-7039.9" font-family="Times,serif" font-size="14.00" fill="#000000">absMinSkew: uint</text>
<text text-anchor="start" x="5290.8363" y="-7023.1" font-family="Times,serif" font-size="14.00" fill="#000000">absMaxSkew: uint</text>
<text text-anchor="start" x="5290.8363" y="-7006.3" font-family="Times,serif" font-size="14.00" fill="#000000">capSkewsToAbs: bool</text>
</g>
<!-- 4struct1&#45;&gt;4 -->
<g id="edge28" class="edge">
<title>4struct1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5363.3302,-7249.3266C5365.8883,-7341.6871 5369.4725,-7471.0924 5372.7331,-7588.8153"/>
<polygon fill="#000000" stroke="#000000" points="5372.7355,-7588.9056 5376.9001,-7594.7926 5373.0678,-7600.901 5368.9032,-7595.0141 5372.7355,-7588.9056"/>
</g>
<!-- 4struct2 -->
<g id="node34" class="node">
<title>4struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5455.0957,-7023.3 5455.0957,-7224.1 5694.6057,-7224.1 5694.6057,-7023.3 5455.0957,-7023.3"/>
<text text-anchor="middle" x="5574.8507" y="-7207.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5574.8507" y="-7190.7" font-family="Times,serif" font-size="14.00" fill="#000000">VarianceFeeParameters</text>
<polyline fill="none" stroke="#000000" points="5455.0957,-7182.5 5694.6057,-7182.5 "/>
<text text-anchor="start" x="5463.0957" y="-7165.9" font-family="Times,serif" font-size="14.00" fill="#000000">defaultVarianceFeeCoefficient: uint</text>
<text text-anchor="start" x="5463.0957" y="-7149.1" font-family="Times,serif" font-size="14.00" fill="#000000">forceCloseVarianceFeeCoefficient: uint</text>
<text text-anchor="start" x="5463.0957" y="-7132.3" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentCoefficient: uint</text>
<text text-anchor="start" x="5463.0957" y="-7115.5" font-family="Times,serif" font-size="14.00" fill="#000000">referenceSkew: uint</text>
<text text-anchor="start" x="5463.0957" y="-7098.7" font-family="Times,serif" font-size="14.00" fill="#000000">minimumStaticSkewAdjustment: uint</text>
<text text-anchor="start" x="5463.0957" y="-7081.9" font-family="Times,serif" font-size="14.00" fill="#000000">vegaCoefficient: uint</text>
<text text-anchor="start" x="5463.0957" y="-7065.1" font-family="Times,serif" font-size="14.00" fill="#000000">minimumStaticVega: uint</text>
<text text-anchor="start" x="5463.0957" y="-7048.3" font-family="Times,serif" font-size="14.00" fill="#000000">ivVarianceCoefficient: uint</text>
<text text-anchor="start" x="5463.0957" y="-7031.5" font-family="Times,serif" font-size="14.00" fill="#000000">minimumStaticIvVariance: uint</text>
</g>
<!-- 4struct2&#45;&gt;4 -->
<g id="edge29" class="edge">
<title>4struct2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5549.089,-7224.3831C5525.2771,-7317.4462 5488.7002,-7460.3977 5455.7263,-7589.2677"/>
<polygon fill="#000000" stroke="#000000" points="5455.7257,-7589.2703 5458.1135,-7596.0746 5452.751,-7600.8958 5450.3632,-7594.0915 5455.7257,-7589.2703"/>
</g>
<!-- 4struct3 -->
<g id="node35" class="node">
<title>4struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4288.7942,-7006.5 4288.7942,-7240.9 4522.9072,-7240.9 4522.9072,-7006.5 4288.7942,-7006.5"/>
<text text-anchor="middle" x="4405.8507" y="-7224.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4405.8507" y="-7207.5" font-family="Times,serif" font-size="14.00" fill="#000000">TradeResult</text>
<polyline fill="none" stroke="#000000" points="4288.7942,-7199.3 4522.9072,-7199.3 "/>
<text text-anchor="start" x="4296.7942" y="-7182.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="4296.7942" y="-7165.9" font-family="Times,serif" font-size="14.00" fill="#000000">premium: uint</text>
<text text-anchor="start" x="4296.7942" y="-7149.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFee: uint</text>
<text text-anchor="start" x="4296.7942" y="-7132.3" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFee: uint</text>
<text text-anchor="start" x="4296.7942" y="-7115.5" font-family="Times,serif" font-size="14.00" fill="#000000">vegaUtilFee: VegaUtilFeeComponents</text>
<text text-anchor="start" x="4296.7942" y="-7098.7" font-family="Times,serif" font-size="14.00" fill="#000000">varianceFee: VarianceFeeComponents</text>
<text text-anchor="start" x="4296.7942" y="-7081.9" font-family="Times,serif" font-size="14.00" fill="#000000">totalFee: uint</text>
<text text-anchor="start" x="4296.7942" y="-7065.1" font-family="Times,serif" font-size="14.00" fill="#000000">totalCost: uint</text>
<text text-anchor="start" x="4296.7942" y="-7048.3" font-family="Times,serif" font-size="14.00" fill="#000000">volTraded: uint</text>
<text text-anchor="start" x="4296.7942" y="-7031.5" font-family="Times,serif" font-size="14.00" fill="#000000">newBaseIv: uint</text>
<text text-anchor="start" x="4296.7942" y="-7014.7" font-family="Times,serif" font-size="14.00" fill="#000000">newSkew: uint</text>
</g>
<!-- 4struct3&#45;&gt;4 -->
<g id="edge30" class="edge">
<title>4struct3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4417.9314,-7241.1846C4432.2502,-7316.9414 4463.5302,-7410.8745 4531.8507,-7463.8 4593.8366,-7511.8183 4809.9865,-7470.8378 4882.8507,-7499.8 4942.9118,-7523.6732 5001.8727,-7556.9932 5057.0197,-7594.1016"/>
<polygon fill="#000000" stroke="#000000" points="5057.3488,-7594.3253 5064.5596,-7594.3916 5067.2719,-7601.0732 5060.0611,-7601.007 5057.3488,-7594.3253"/>
</g>
<!-- 4struct4 -->
<g id="node36" class="node">
<title>4struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4540.6217,-7048.5 4540.6217,-7198.9 4735.0797,-7198.9 4735.0797,-7048.5 4540.6217,-7048.5"/>
<text text-anchor="middle" x="4637.8507" y="-7182.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4637.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">VegaUtilFeeComponents</text>
<polyline fill="none" stroke="#000000" points="4540.6217,-7157.3 4735.0797,-7157.3 "/>
<text text-anchor="start" x="4548.6217" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">preTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4548.6217" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">postTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4548.6217" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">vegaUtil: uint</text>
<text text-anchor="start" x="4548.6217" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">volTraded: uint</text>
<text text-anchor="start" x="4548.6217" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">NAV: uint</text>
<text text-anchor="start" x="4548.6217" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">vegaUtilFee: uint</text>
</g>
<!-- 4struct4&#45;&gt;4 -->
<g id="edge31" class="edge">
<title>4struct4&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4640.8185,-7198.9259C4647.9812,-7276.1334 4671.0767,-7394.4869 4743.8507,-7463.8 4790.061,-7507.8126 4825.4976,-7471.8158 4882.8507,-7499.8 4936.906,-7526.1751 4990.801,-7558.9382 5042.0923,-7594.1088"/>
<polygon fill="#000000" stroke="#000000" points="5042.1035,-7594.1166 5049.3137,-7594.2364 5051.9762,-7600.9379 5044.7661,-7600.8182 5042.1035,-7594.1166"/>
</g>
<!-- 4struct5 -->
<g id="node37" class="node">
<title>4struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4752.9674,-7031.7 4752.9674,-7215.7 4928.734,-7215.7 4928.734,-7031.7 4752.9674,-7031.7"/>
<text text-anchor="middle" x="4840.8507" y="-7199.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4840.8507" y="-7182.3" font-family="Times,serif" font-size="14.00" fill="#000000">VarianceFeeComponents</text>
<polyline fill="none" stroke="#000000" points="4752.9674,-7174.1 4928.734,-7174.1 "/>
<text text-anchor="start" x="4760.9674" y="-7157.5" font-family="Times,serif" font-size="14.00" fill="#000000">varianceFeeCoefficient: uint</text>
<text text-anchor="start" x="4760.9674" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">vega: uint</text>
<text text-anchor="start" x="4760.9674" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">vegaCoefficient: uint</text>
<text text-anchor="start" x="4760.9674" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="4760.9674" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">skewCoefficient: uint</text>
<text text-anchor="start" x="4760.9674" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">ivVariance: uint</text>
<text text-anchor="start" x="4760.9674" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">ivVarianceCoefficient: uint</text>
<text text-anchor="start" x="4760.9674" y="-7039.9" font-family="Times,serif" font-size="14.00" fill="#000000">varianceFee: uint</text>
</g>
<!-- 4struct5&#45;&gt;4 -->
<g id="edge32" class="edge">
<title>4struct5&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4853.4676,-7216.0528C4866.3785,-7287.6881 4891.3756,-7387.3243 4937.8507,-7463.8 4964.9763,-7508.4357 4998.1244,-7551.4106 5033.9614,-7591.7043"/>
<polygon fill="#000000" stroke="#000000" points="5034.1153,-7591.8754 5041.1011,-7593.6638 5042.1372,-7600.8001 5035.1514,-7599.0117 5034.1153,-7591.8754"/>
</g>
<!-- 4struct6 -->
<g id="node38" class="node">
<title>4struct6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4946.9636,-7073.7 4946.9636,-7173.7 5054.7378,-7173.7 5054.7378,-7073.7 4946.9636,-7073.7"/>
<text text-anchor="middle" x="5000.8507" y="-7157.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5000.8507" y="-7140.3" font-family="Times,serif" font-size="14.00" fill="#000000">VolComponents</text>
<polyline fill="none" stroke="#000000" points="4946.9636,-7132.1 5054.7378,-7132.1 "/>
<text text-anchor="start" x="4954.9636" y="-7115.5" font-family="Times,serif" font-size="14.00" fill="#000000">vol: uint</text>
<text text-anchor="start" x="4954.9636" y="-7098.7" font-family="Times,serif" font-size="14.00" fill="#000000">baseIv: uint</text>
<text text-anchor="start" x="4954.9636" y="-7081.9" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
</g>
<!-- 4struct6&#45;&gt;4 -->
<g id="edge33" class="edge">
<title>4struct6&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5002.933,-7173.9666C5007.3448,-7242.2734 5021.0868,-7366.9867 5063.8507,-7463.8 5082.977,-7507.0999 5107.4003,-7550.0487 5134.1821,-7591.0047"/>
<polygon fill="#000000" stroke="#000000" points="5134.2346,-7591.0842 5140.8805,-7593.8829 5140.8532,-7601.0939 5134.2073,-7598.2953 5134.2346,-7591.0842"/>
</g>
<!-- 5&#45;&gt;2 -->
<g id="edge116" class="edge">
<title>5&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M7304.8205,-7502.8634C7301.8328,-7501.82 7298.8428,-7500.7987 7295.8507,-7499.8 7227.1595,-7476.8725 6050.4596,-7507.6791 5992.8507,-7463.8 5911.4797,-7401.822 5579.5788,-6247.1851 5367.8887,-5486.3076"/>
<polygon fill="#000000" stroke="#000000" points="5371.2223,-5485.2315 5365.1704,-5476.5352 5364.4783,-5487.1074 5371.2223,-5485.2315"/>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge115" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M7306.0692,-7500.2258C7305.6631,-7500.0835 7305.2569,-7499.9415 7304.8507,-7499.8 7234.6591,-7475.3444 6687.9761,-7517.7549 6636.8507,-7463.8 6584.867,-7408.9393 6588.11,-6841.361 6636.8507,-6783.6 6696.1058,-6713.3788 6756.2372,-6780.3587 6843.4018,-6749.1628"/>
<polygon fill="#000000" stroke="#000000" points="6844.7408,-6752.3971 6852.7586,-6745.4715 6842.1719,-6745.8855 6844.7408,-6752.3971"/>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge117" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M8364.6668,-8178.0273C8446.6744,-8212.9226 8532.0234,-8243.3915 8615.8507,-8264 8902.3181,-8334.4266 9654.1813,-8239.2266 9942.8507,-8300 10122.3314,-8337.786 10310.3015,-8405.2047 10476.2004,-8475.3257"/>
<polygon fill="#000000" stroke="#000000" points="10475.0129,-8478.6238 10485.5857,-8479.3054 10477.7456,-8472.1792 10475.0129,-8478.6238"/>
</g>
<!-- 5&#45;&gt;24 -->
<g id="edge113" class="edge">
<title>5&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M7304.7959,-8260.8639C7301.8163,-8261.931 7298.8344,-8262.9765 7295.8507,-8264 7124.5806,-8322.748 6658.0964,-8258.4999 6481.8507,-8300 6162.0296,-8375.3073 5816.7934,-8556.6136 5642.4985,-8656.0414"/>
<polygon fill="none" stroke="#000000" points="5637.0482,-8647.0632 5616.2757,-8671.1206 5647.5167,-8665.2679 5637.0482,-8647.0632"/>
</g>
<!-- 5&#45;&gt;34 -->
<g id="edge114" class="edge">
<title>5&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7304.7262,-8260.668C7301.7693,-8261.799 7298.8107,-8262.9098 7295.8507,-8264 7211.479,-8295.0743 6955.6498,-8235.6535 6892.8507,-8300 6760.9244,-8435.1773 6968.8352,-9012.1099 6837.8507,-9148.2 6761.4599,-9227.5685 5202.0836,-9343.6941 4627.7925,-9383.9401"/>
<polygon fill="#000000" stroke="#000000" points="4627.4723,-9380.4538 4617.7412,-9384.6437 4627.9612,-9387.4367 4627.4723,-9380.4538"/>
</g>
<!-- 5&#45;&gt;35 -->
<g id="edge112" class="edge">
<title>5&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M8364.8972,-8150.6124C8448.2087,-8190.1169 8533.8797,-8229.1817 8615.8507,-8264 9056.1097,-8451.0058 9601.0322,-8632.6973 9802.8283,-8698.3475"/>
<polygon fill="none" stroke="#000000" points="9799.6241,-8708.3467 9831.4,-8707.6121 9806.1015,-8688.3706 9799.6241,-8708.3467"/>
</g>
<!-- 5struct0 -->
<g id="node40" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6324.6473,-7048.5 6324.6473,-7198.9 6563.0541,-7198.9 6563.0541,-7048.5 6324.6473,-7048.5"/>
<text text-anchor="middle" x="6443.8507" y="-7182.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6443.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionPosition</text>
<polyline fill="none" stroke="#000000" points="6324.6473,-7157.3 6563.0541,-7157.3 "/>
<text text-anchor="start" x="6332.6473" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="6332.6473" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="6332.6473" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionMarket.OptionType</text>
<text text-anchor="start" x="6332.6473" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="6332.6473" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="6332.6473" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">state: PositionState</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge34" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6450.1388,-7198.9006C6461.2456,-7279.0604 6491.9569,-7402.6764 6576.8507,-7463.8 6639.2922,-7508.7579 7176.9446,-7476.3168 7293.0358,-7499.8899"/>
<polygon fill="#000000" stroke="#000000" points="7293.1772,-7499.9267 7299.9937,-7497.5742 7304.7871,-7502.9616 7297.9705,-7505.3141 7293.1772,-7499.9267"/>
</g>
<!-- 5struct1 -->
<g id="node41" class="node">
<title>5struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7944.8829,-7065.3 7944.8829,-7182.1 8114.8185,-7182.1 8114.8185,-7065.3 7944.8829,-7065.3"/>
<text text-anchor="middle" x="8029.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8029.8507" y="-7148.7" font-family="Times,serif" font-size="14.00" fill="#000000">PartialCollateralParameters</text>
<polyline fill="none" stroke="#000000" points="7944.8829,-7140.5 8114.8185,-7140.5 "/>
<text text-anchor="start" x="7952.8829" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">penaltyRatio: uint</text>
<text text-anchor="start" x="7952.8829" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidatorFeeRatio: uint</text>
<text text-anchor="start" x="7952.8829" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">smFeeRatio: uint</text>
<text text-anchor="start" x="7952.8829" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">minLiquidationFee: uint</text>
</g>
<!-- 5struct1&#45;&gt;5 -->
<g id="edge35" class="edge">
<title>5struct1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M8014.7925,-7182.2494C7997.311,-7250.2213 7966.9068,-7368.439 7936.0117,-7488.5653"/>
<polygon fill="#000000" stroke="#000000" points="7936.0098,-7488.573 7938.3892,-7495.3802 7933.0208,-7500.1948 7930.6414,-7493.3875 7936.0098,-7488.573"/>
</g>
<!-- 5struct2 -->
<g id="node42" class="node">
<title>5struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8132.6473,-7040.1 8132.6473,-7207.3 8371.0541,-7207.3 8371.0541,-7040.1 8132.6473,-7040.1"/>
<text text-anchor="middle" x="8251.8507" y="-7190.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8251.8507" y="-7173.9" font-family="Times,serif" font-size="14.00" fill="#000000">PositionWithOwner</text>
<polyline fill="none" stroke="#000000" points="8132.6473,-7165.7 8371.0541,-7165.7 "/>
<text text-anchor="start" x="8140.6473" y="-7149.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="8140.6473" y="-7132.3" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="8140.6473" y="-7115.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionMarket.OptionType</text>
<text text-anchor="start" x="8140.6473" y="-7098.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="8140.6473" y="-7081.9" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="8140.6473" y="-7065.1" font-family="Times,serif" font-size="14.00" fill="#000000">state: PositionState</text>
<text text-anchor="start" x="8140.6473" y="-7048.3" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
</g>
<!-- 5struct2&#45;&gt;5 -->
<g id="edge36" class="edge">
<title>5struct2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M8226.6545,-7207.5733C8204.029,-7277.9519 8167.6772,-7380.1055 8123.8507,-7463.8 8119.34,-7472.414 8114.6821,-7481.0612 8109.8981,-7489.7226"/>
<polygon fill="#000000" stroke="#000000" points="8109.8474,-7489.8137 8110.4177,-7497.0022 8104.0015,-7500.2935 8103.4312,-7493.105 8109.8474,-7489.8137"/>
</g>
<!-- 5struct3 -->
<g id="node43" class="node">
<title>5struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8388.6554,-7048.5 8388.6554,-7198.9 8531.046,-7198.9 8531.046,-7048.5 8388.6554,-7048.5"/>
<text text-anchor="middle" x="8459.8507" y="-7182.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8459.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidationFees</text>
<polyline fill="none" stroke="#000000" points="8388.6554,-7157.3 8531.046,-7157.3 "/>
<text text-anchor="start" x="8396.6554" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">returnCollateral: uint</text>
<text text-anchor="start" x="8396.6554" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">lpPremiums: uint</text>
<text text-anchor="start" x="8396.6554" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">lpFee: uint</text>
<text text-anchor="start" x="8396.6554" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidatorFee: uint</text>
<text text-anchor="start" x="8396.6554" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">smFee: uint</text>
<text text-anchor="start" x="8396.6554" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">insolventAmount: uint</text>
</g>
<!-- 5struct3&#45;&gt;5 -->
<g id="edge37" class="edge">
<title>5struct3&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M8456.5842,-7198.9824C8450.2648,-7271.9207 8432.0317,-7383.0523 8379.8507,-7463.8 8374.0899,-7472.7146 8368.0709,-7481.5148 8361.8185,-7490.1976"/>
<polygon fill="#000000" stroke="#000000" points="8361.761,-7490.276 8361.4363,-7497.4798 8354.6617,-7499.9508 8354.9864,-7492.747 8361.761,-7490.276"/>
</g>
<!-- 5enum0 -->
<g id="node44" class="node">
<title>5enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6034.8994,-7048.5 6034.8994,-7198.9 6150.802,-7198.9 6150.802,-7048.5 6034.8994,-7048.5"/>
<text text-anchor="middle" x="6092.8507" y="-7182.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6092.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">PositionState</text>
<polyline fill="none" stroke="#000000" points="6034.8994,-7157.3 6150.802,-7157.3 "/>
<text text-anchor="start" x="6042.8994" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">EMPTY: 0</text>
<text text-anchor="start" x="6042.8994" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">ACTIVE: 1</text>
<text text-anchor="start" x="6042.8994" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">CLOSED: 2</text>
<text text-anchor="start" x="6042.8994" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">LIQUIDATED: 3</text>
<text text-anchor="start" x="6042.8994" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">SETTLED: 4</text>
<text text-anchor="start" x="6042.8994" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">MERGED: 5</text>
</g>
<!-- 5enum0&#45;&gt;5 -->
<g id="edge38" class="edge">
<title>5enum0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6083.4417,-7199.1508C6078.2806,-7278.3081 6084.6183,-7399.9187 6159.8507,-7463.8 6206.1495,-7503.1132 7159.1125,-7481.4946 7292.8846,-7500.4344"/>
<polygon fill="#000000" stroke="#000000" points="7293.0592,-7500.4702 7299.7405,-7497.7573 7304.8145,-7502.8812 7298.1332,-7505.5941 7293.0592,-7500.4702"/>
</g>
<!-- 5enum1 -->
<g id="node45" class="node">
<title>5enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6168.8044,-7014.9 6168.8044,-7232.5 6306.897,-7232.5 6306.897,-7014.9 6168.8044,-7014.9"/>
<text text-anchor="middle" x="6237.8507" y="-7215.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6237.8507" y="-7199.1" font-family="Times,serif" font-size="14.00" fill="#000000">PositionUpdatedType</text>
<polyline fill="none" stroke="#000000" points="6168.8044,-7190.9 6306.897,-7190.9 "/>
<text text-anchor="start" x="6176.8044" y="-7174.3" font-family="Times,serif" font-size="14.00" fill="#000000">OPENED: 0</text>
<text text-anchor="start" x="6176.8044" y="-7157.5" font-family="Times,serif" font-size="14.00" fill="#000000">ADJUSTED: 1</text>
<text text-anchor="start" x="6176.8044" y="-7140.7" font-family="Times,serif" font-size="14.00" fill="#000000">CLOSED: 2</text>
<text text-anchor="start" x="6176.8044" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">SPLIT_FROM: 3</text>
<text text-anchor="start" x="6176.8044" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">SPLIT_INTO: 4</text>
<text text-anchor="start" x="6176.8044" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">MERGED: 5</text>
<text text-anchor="start" x="6176.8044" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">MERGED_INTO: 6</text>
<text text-anchor="start" x="6176.8044" y="-7056.7" font-family="Times,serif" font-size="14.00" fill="#000000">SETTLED: 7</text>
<text text-anchor="start" x="6176.8044" y="-7039.9" font-family="Times,serif" font-size="14.00" fill="#000000">LIQUIDATED: 8</text>
<text text-anchor="start" x="6176.8044" y="-7023.1" font-family="Times,serif" font-size="14.00" fill="#000000">TRANSFER: 9</text>
</g>
<!-- 5enum1&#45;&gt;5 -->
<g id="edge39" class="edge">
<title>5enum1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6231.0251,-7232.5346C6232.698,-7309.6357 6249.3307,-7408.7829 6315.8507,-7463.8 6397.2738,-7531.1431 7145.2976,-7468.848 7292.7881,-7499.7317"/>
<polygon fill="#000000" stroke="#000000" points="7293.2042,-7499.8414 7300.0263,-7497.5048 7304.807,-7502.9033 7297.985,-7505.24 7293.2042,-7499.8414"/>
</g>
<!-- 6&#45;&gt;0 -->
<g id="edge122" class="edge">
<title>6&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M7926.6021,-6786.2359C7929.687,-6785.3419 7932.7699,-6784.4632 7935.8507,-6783.6 8051.2304,-6751.2725 8376.1353,-6816.9486 8473.8507,-6747.6 8950.2614,-6409.4919 9416.8666,-4600.0182 9015.8507,-4175.2 8968.1783,-4124.698 8458.7381,-4157.8868 8391.8507,-4139.2 8124.9719,-4064.6402 7851.7816,-3937.5705 7613.0189,-3806.6987"/>
<polygon fill="#000000" stroke="#000000" points="7614.6328,-3803.5919 7604.1829,-3801.8451 7611.2626,-3809.7273 7614.6328,-3803.5919"/>
</g>
<!-- 6&#45;&gt;3 -->
<g id="edge121" class="edge">
<title>6&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M7417.2726,-6783.8351C7420.6915,-6774.9218 7424.1356,-6765.9334 7427.6,-6756.8831"/>
<polygon fill="#000000" stroke="#000000" points="7430.9123,-6758.0204 7431.2175,-6747.4299 7424.3746,-6755.5186 7430.9123,-6758.0204"/>
</g>
<!-- 6&#45;&gt;5 -->
<g id="edge123" class="edge">
<title>6&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M7529.6397,-7463.4353C7536.5295,-7472.8816 7543.4433,-7482.3609 7550.3637,-7491.8493"/>
<polygon fill="#000000" stroke="#000000" points="7547.7261,-7494.1725 7556.4466,-7500.1894 7553.3816,-7490.0475 7547.7261,-7494.1725"/>
</g>
<!-- 6&#45;&gt;8 -->
<g id="edge124" class="edge">
<title>6&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M7926.5327,-7461.4264C7929.6402,-7462.2347 7932.7463,-7463.026 7935.8507,-7463.8 7988.8688,-7477.0189 11831.3908,-7460.9865 11869.8507,-7499.8 11899.7337,-7529.9577 11898.4397,-8232.613 11869.8507,-8264 11813.9652,-8325.355 11580.8393,-8270.8291 11485.726,-8300.2613"/>
<polygon fill="#000000" stroke="#000000" points="11484.3805,-8297.0258 11476.1606,-8303.7104 11486.7549,-8303.6108 11484.3805,-8297.0258"/>
</g>
<!-- 6&#45;&gt;24 -->
<g id="edge119" class="edge">
<title>6&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M6637.0955,-7444.8745C6615.2823,-7451.7757 6593.4987,-7458.1203 6571.8507,-7463.8 6513.5789,-7479.0885 6074.4102,-7458.1837 6030.8507,-7499.8 5907.2856,-7617.8529 6015.1865,-8108.2512 5944.8507,-8264 5874.5815,-8419.6014 5731.6613,-8558.7686 5632.8736,-8642.2837"/>
<polygon fill="none" stroke="#000000" points="5626.0757,-8634.2805 5609.7146,-8661.5305 5639.4981,-8650.4311 5626.0757,-8634.2805"/>
</g>
<!-- 6&#45;&gt;34 -->
<g id="edge120" class="edge">
<title>6&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6637.0632,-7444.7521C6615.2593,-7451.6886 6593.4865,-7458.0738 6571.8507,-7463.8 6517.1482,-7478.2779 6103.4276,-7459.3569 6063.8507,-7499.8 5935.5951,-7630.8627 6105.2364,-9011.6398 5982.8507,-9148.2 5893.4174,-9247.9913 5033.8554,-9340.732 4628.0338,-9379.3667"/>
<polygon fill="#000000" stroke="#000000" points="4627.5636,-9375.8955 4617.9394,-9380.3255 4628.2256,-9382.8642 4627.5636,-9375.8955"/>
</g>
<!-- 6&#45;&gt;35 -->
<g id="edge118" class="edge">
<title>6&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7926.545,-7461.3776C7929.6485,-7462.2018 7932.7505,-7463.0094 7935.8507,-7463.8 8033.5224,-7488.7078 9677.2919,-7429.833 9749.8507,-7499.8 9811.0704,-7558.8329 9782.2739,-8179.6148 9792.8507,-8264 9810.0136,-8400.9309 9843.9213,-8558.3062 9864.8646,-8648.9789"/>
<polygon fill="none" stroke="#000000" points="9854.6888,-8651.577 9871.7471,-8678.3962 9875.1367,-8646.793 9854.6888,-8651.577"/>
</g>
<!-- 7 -->
<g id="node47" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3588.5511,-1718.5 3588.5511,-2515.3 4683.1503,-2515.3 4683.1503,-1718.5 3588.5511,-1718.5"/>
<text text-anchor="middle" x="4135.8507" y="-2498.7" font-family="Times,serif" font-size="14.00" fill="#000000">ShortPoolHedger</text>
<polyline fill="none" stroke="#000000" points="3588.5511,-2490.5 4683.1503,-2490.5 "/>
<text text-anchor="start" x="3596.5511" y="-2473.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3596.5511" y="-2457.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_COLLATERAL_SHORT: bytes32</text>
<text text-anchor="start" x="3596.5511" y="-2440.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3596.5511" y="-2423.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="3596.5511" y="-2406.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="3596.5511" y="-2389.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionGreekCache: OptionGreekCache</text>
<text text-anchor="start" x="3596.5511" y="-2373.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ERC20</text>
<text text-anchor="start" x="3596.5511" y="-2356.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: ERC20</text>
<text text-anchor="start" x="3596.5511" y="-2339.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3596.5511" y="-2322.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralShort: ICollateralShort</text>
<text text-anchor="start" x="3596.5511" y="-2305.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortId: uint</text>
<text text-anchor="start" x="3596.5511" y="-2289.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortBuffer: uint</text>
<polyline fill="none" stroke="#000000" points="3588.5511,-2280.9 4683.1503,-2280.9 "/>
<text text-anchor="start" x="3596.5511" y="-2264.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3596.5511" y="-2247.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openShortAccount(exchangeParams: SynthetixAdapter.ExchangeParams)</text>
<text text-anchor="start" x="3596.5511" y="-2230.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_hedgeDelta(expectedHedge: int)</text>
<text text-anchor="start" x="3596.5511" y="-2213.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updatePosition(exchangeParams: SynthetixAdapter.ExchangeParams, longBalance: uint, shortBalance: uint, collateral: uint, expectedHedge: int): int</text>
<text text-anchor="start" x="3596.5511" y="-2197.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_increaseLong(exchangeParams: SynthetixAdapter.ExchangeParams, amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="3596.5511" y="-2180.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_decreaseLong(amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="3596.5511" y="-2163.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setShortTo(spotPrice: uint, desiredShort: uint, startShort: uint, startCollateral: uint): (newShort: uint)</text>
<text text-anchor="start" x="3596.5511" y="-2146.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateCollateral(spotPrice: uint, shortBalance: uint, startCollateral: uint): (newCollateral: uint)</text>
<text text-anchor="start" x="3596.5511" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendAllQuoteToLP()</text>
<text text-anchor="start" x="3596.5511" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_abs(val: int): uint</text>
<text text-anchor="start" x="3596.5511" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3596.5511" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _optionMarket: OptionMarket, _optionGreekCache: OptionGreekCache, _liquidityPool: LiquidityPool, _quoteAsset: ERC20, _baseAsset: ERC20)</text>
<text text-anchor="start" x="3596.5511" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolHedgerParams(_poolHedgerParams: PoolHedgerParameters)</text>
<text text-anchor="start" x="3596.5511" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortBuffer(_shortBuffer: uint)</text>
<text text-anchor="start" x="3596.5511" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCollateralShortAddress()</text>
<text text-anchor="start" x="3596.5511" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateDelegateApproval()</text>
<text text-anchor="start" x="3596.5511" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openShortAccount()</text>
<text text-anchor="start" x="3596.5511" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="3596.5511" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getHedgingLiquidity(spotPrice: uint): (pendingDeltaLiquidity: uint, usedDeltaLiquidity: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDelta()</text>
<text text-anchor="start" x="3596.5511" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCollateral()</text>
<text text-anchor="start" x="3596.5511" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolHedgerSettings(): (PoolHedgerParameters, _shortBuffer: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3596.5511" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortCollateralSet(collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="3596.5511" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortBufferSet(newShortBuffer: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OpenedShortAccount(shortId: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionUpdated(oldNetDelta: int, currentNetDelta: int, expectedNetDelta: int)</text>
<text text-anchor="start" x="3596.5511" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongSetTo(oldAmount: uint, newAmount: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortSetTo(oldShort: uint, newShort: uint, oldCollateral: uint, newCollateral: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReturnedToLP(amountQuote: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3596.5511" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortPosition(): (shortBalance: uint, collateral: uint)</text>
<text text-anchor="start" x="3596.5511" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCappedExpectedHedge(): (cappedExpectedHedge: int)</text>
</g>
<!-- 7&#45;&gt;0 -->
<g id="edge133" class="edge">
<title>7&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4683.3724,-2195.357C5196.5283,-2275.754 5920.8554,-2408.9149 6169.8507,-2551.8 6171.4147,-2552.6975 6172.9772,-2553.5995 6174.5382,-2554.506"/>
<polygon fill="#000000" stroke="#000000" points="6173.0665,-2557.7007 6183.4619,-2559.7467 6176.6114,-2551.6646 6173.0665,-2557.7007"/>
</g>
<!-- 7&#45;&gt;2 -->
<g id="edge131" class="edge">
<title>7&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4140.0452,-2515.5595C4146.6574,-3100.5857 4160.1655,-4124.5456 4173.8507,-4139.2 4236.5779,-4206.3694 4503.345,-4134.7127 4585.8507,-4175.2 4585.9451,-4175.2463 4586.0395,-4175.2927 4586.1339,-4175.339"/>
<polygon fill="#000000" stroke="#000000" points="4584.3788,-4178.3746 4594.8888,-4179.7127 4587.5072,-4172.1126 4584.3788,-4178.3746"/>
</g>
<!-- 7&#45;&gt;3 -->
<g id="edge130" class="edge">
<title>7&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M4683.3831,-2160.3641C5210.3225,-2214.9088 5952.8499,-2329.5977 6131.8507,-2551.8 6187.1751,-2620.4768 6155.7366,-4054.3074 6131.8507,-4139.2 6126.772,-4157.2502 6114.9294,-4157.1498 6109.8507,-4175.2 5953.1436,-4732.1516 5711.5193,-5057.376 6109.8507,-5477 6162.7813,-5532.76 6728.3153,-5487.516 6800.8507,-5513 6814.9176,-5517.9421 6828.9558,-5523.1924 6842.953,-5528.7262"/>
<polygon fill="#000000" stroke="#000000" points="6842.0522,-5532.1355 6852.6367,-5532.6023 6844.6535,-5525.6368 6842.0522,-5532.1355"/>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge129" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M4683.313,-2233.6408C5163.9022,-2330.1096 5883.147,-2459.958 6516.8507,-2515.8 6567.7116,-2520.2819 10154.8007,-2517.7542 10192.8507,-2551.8 10734.4879,-3036.4374 10309.6834,-3452.8307 10389.8507,-4175.2 10471.7763,-4913.4122 10413.6648,-6991.4368 10986.8507,-7463.8 11067.8538,-7530.5547 11858.0571,-7424.1775 11930.8507,-7499.8 11989.7368,-7560.9745 11988.426,-8201.5902 11930.8507,-8264 11865.4695,-8334.8713 11593.969,-8266.5924 11485.7817,-8300.2032"/>
<polygon fill="#000000" stroke="#000000" points="11484.3729,-8296.99 11476.1381,-8303.6562 11486.7327,-8303.5802 11484.3729,-8296.99"/>
</g>
<!-- 10 -->
<g id="node51" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3202.6234,-8586.1 3202.6234,-8862.1 3675.078,-8862.1 3675.078,-8586.1 3202.6234,-8586.1"/>
<text text-anchor="middle" x="3438.8507" y="-8845.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3438.8507" y="-8828.7" font-family="Times,serif" font-size="14.00" fill="#000000">ICollateralShort</text>
<polyline fill="none" stroke="#000000" points="3202.6234,-8820.5 3675.078,-8820.5 "/>
<text text-anchor="middle" x="3438.8507" y="-8803.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3202.6234,-8795.7 3675.078,-8795.7 "/>
<text text-anchor="start" x="3210.6234" y="-8779.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3210.6234" y="-8762.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;loans(id: uint): (uint, address, uint, bytes32, uint, bool, uint, uint, uint)</text>
<text text-anchor="start" x="3210.6234" y="-8745.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCratio(): uint</text>
<text text-anchor="start" x="3210.6234" y="-8728.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCollateral(): uint</text>
<text text-anchor="start" x="3210.6234" y="-8711.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;issueFeeRate(): uint</text>
<text text-anchor="start" x="3210.6234" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repay(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8661.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repayWithCollateral(id: uint, repayAmount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8644.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;draw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8627.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8611.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="3210.6234" y="-8594.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (short: uint, collateral: uint)</text>
</g>
<!-- 7&#45;&gt;10 -->
<g id="edge132" class="edge">
<title>7&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M3917.4927,-2515.3222C3911.7705,-2527.5631 3906.2086,-2539.7417 3900.8507,-2551.8 3090.531,-4375.4852 2995.6971,-4879.0232 2399.8507,-6783.6 2306.308,-7082.6021 2389.5081,-7203.709 2214.8507,-7463.8 2200.1818,-7485.6442 2179.4986,-7476.2061 2167.8507,-7499.8 2130.2627,-7575.9383 2108.8768,-8202.9101 2167.8507,-8264 2246.691,-8345.6692 3091.2956,-8241.96 3188.8507,-8300 3290.5915,-8360.5303 3355.4233,-8479.7147 3393.5018,-8576.3615"/>
<polygon fill="#000000" stroke="#000000" points="3390.3372,-8577.8814 3397.2171,-8585.9385 3396.8633,-8575.3496 3390.3372,-8577.8814"/>
</g>
<!-- 7&#45;&gt;23 -->
<g id="edge125" class="edge">
<title>7&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M4117.0271,-2515.4189C4102.3762,-2923.9309 4091.8269,-3577.1685 4140.8507,-4139.2 4154.933,-4300.6451 4186.8394,-4481.1231 4214.0718,-4616.5566"/>
<polygon fill="none" stroke="#000000" points="4203.8018,-4618.7451 4220.0712,-4646.0501 4224.3804,-4614.5591 4203.8018,-4618.7451"/>
</g>
<!-- 7&#45;&gt;24 -->
<g id="edge127" class="edge">
<title>7&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M3942.9268,-2515.3829C3939.5646,-2527.5529 3936.5219,-2539.708 3933.8507,-2551.8 3698.1509,-3618.7766 3366.9504,-6710.8807 4158.8507,-7463.8 4251.9565,-7552.3226 4645.8818,-7408.091 4735.8507,-7499.8 4795.3696,-7560.47 4725.5561,-8190.8637 4768.8507,-8264 4911.8761,-8505.6082 5235.8082,-8636.3689 5410.6692,-8691.6773"/>
<polygon fill="none" stroke="#000000" points="5407.6955,-8701.748 5439.4564,-8700.5256 5413.8654,-8681.6748 5407.6955,-8701.748"/>
</g>
<!-- 7&#45;&gt;34 -->
<g id="edge128" class="edge">
<title>7&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3588.3102,-2304.9465C3464.9039,-2367.8982 3343.4875,-2449.0364 3251.8507,-2551.8 2321.8053,-3594.7749 2503.4625,-4150.084 2194.8507,-5513 2073.0317,-6050.987 2178.2196,-6207.1478 2067.8507,-6747.6 1997.8241,-7090.5052 1888.2989,-7153.9229 1834.8507,-7499.8 1806.8797,-7680.808 1706.7259,-9012.603 1829.8507,-9148.2 1988.7222,-9323.1647 3619.5861,-9379.2383 4207.7836,-9393.8509"/>
<polygon fill="#000000" stroke="#000000" points="4207.9914,-9397.357 4218.0748,-9394.105 4208.1643,-9390.3591 4207.9914,-9397.357"/>
</g>
<!-- 7&#45;&gt;35 -->
<g id="edge126" class="edge">
<title>7&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M4683.3202,-2233.5585C5163.9141,-2329.975 5883.1616,-2459.7926 6516.8507,-2515.8 6565.1373,-2520.0677 9969.3191,-2521.1213 10006.8507,-2551.8 10292.4756,-2785.2719 10315.0805,-3808.3382 10353.8507,-4175.2 10414.6567,-4750.5737 10406.9424,-4900.8633 10353.8507,-5477 10269.9411,-6387.5637 10087.3146,-6591.9538 9977.8507,-7499.8 9937.1281,-7837.5355 9963.5195,-7925.0285 9934.8507,-8264 9923.3617,-8399.8432 9904.2743,-8557.6215 9892.6978,-8648.6574"/>
<polygon fill="none" stroke="#000000" points="9882.2759,-8647.3785 9888.8708,-8678.4712 9903.105,-8650.0522 9882.2759,-8647.3785"/>
</g>
<!-- 9 -->
<g id="node50" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10339.6371,-9344.3 10339.6371,-9452.3 10576.0643,-9452.3 10576.0643,-9344.3 10339.6371,-9344.3"/>
<text text-anchor="middle" x="10457.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="10457.8507" y="-9418.9" font-family="Times,serif" font-size="14.00" fill="#000000">IAddressResolver</text>
<polyline fill="none" stroke="#000000" points="10339.6371,-9410.7 10576.0643,-9410.7 "/>
<text text-anchor="middle" x="10457.8507" y="-9394.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="10339.6371,-9385.9 10576.0643,-9385.9 "/>
<text text-anchor="start" x="10347.6371" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="10347.6371" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAddress(name: bytes32): address</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge136" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M10652.2249,-9147.7319C10595.0046,-9221.4948 10542.3834,-9289.3288 10506.3644,-9335.761"/>
<polygon fill="#000000" stroke="#000000" points="10503.4225,-9333.8431 10500.0586,-9343.8898 10508.9535,-9338.1337 10503.4225,-9333.8431"/>
</g>
<!-- 12 -->
<g id="node54" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11876.0806,-9344.3 11876.0806,-9452.3 12169.6208,-9452.3 12169.6208,-9344.3 11876.0806,-9344.3"/>
<text text-anchor="middle" x="12022.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12022.8507" y="-9418.9" font-family="Times,serif" font-size="14.00" fill="#000000">IDelegateApprovals</text>
<polyline fill="none" stroke="#000000" points="11876.0806,-9410.7 12169.6208,-9410.7 "/>
<text text-anchor="middle" x="12022.8507" y="-9394.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="11876.0806,-9385.9 12169.6208,-9385.9 "/>
<text text-anchor="start" x="11884.0806" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="11884.0806" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approveExchangeOnBehalf(delegate: address)</text>
</g>
<!-- 8&#45;&gt;12 -->
<g id="edge140" class="edge">
<title>8&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M11476.1673,-9142.6247C11479.0629,-9144.4977 11481.9575,-9146.3564 11484.8507,-9148.2 11608.0822,-9226.725 11759.9504,-9295.0234 11870.8728,-9340.3149"/>
<polygon fill="#000000" stroke="#000000" points="11869.8837,-9343.6909 11880.4655,-9344.2161 11872.5208,-9337.2066 11869.8837,-9343.6909"/>
</g>
<!-- 13 -->
<g id="node55" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="12187.8867,-9344.3 12187.8867,-9452.3 12593.8147,-9452.3 12593.8147,-9344.3 12187.8867,-9344.3"/>
<text text-anchor="middle" x="12390.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12390.8507" y="-9418.9" font-family="Times,serif" font-size="14.00" fill="#000000">IExchangeRates</text>
<polyline fill="none" stroke="#000000" points="12187.8867,-9410.7 12593.8147,-9410.7 "/>
<text text-anchor="middle" x="12390.8507" y="-9394.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="12187.8867,-9385.9 12593.8147,-9385.9 "/>
<text text-anchor="start" x="12195.8867" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="12195.8867" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, isInvalid: bool)</text>
</g>
<!-- 8&#45;&gt;13 -->
<g id="edge139" class="edge">
<title>8&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M11476.0886,-9144.6667C11479.0044,-9145.8682 11481.9252,-9147.0462 11484.8507,-9148.2 11628.5105,-9204.8601 12037.9107,-9121.0779 12178.8507,-9184.2 12250.7546,-9216.4032 12311.4332,-9284.8231 12349.206,-9335.6972"/>
<polygon fill="#000000" stroke="#000000" points="12346.5684,-9338.0196 12355.2994,-9344.0213 12352.2168,-9333.8848 12346.5684,-9338.0196"/>
</g>
<!-- 14 -->
<g id="node56" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="12611.6082,-9344.3 12611.6082,-9452.3 13274.0932,-9452.3 13274.0932,-9344.3 12611.6082,-9344.3"/>
<text text-anchor="middle" x="12942.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12942.8507" y="-9418.9" font-family="Times,serif" font-size="14.00" fill="#000000">IExchanger</text>
<polyline fill="none" stroke="#000000" points="12611.6082,-9410.7 13274.0932,-9410.7 "/>
<text text-anchor="middle" x="12942.8507" y="-9394.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="12611.6082,-9385.9 13274.0932,-9385.9 "/>
<text text-anchor="start" x="12619.6082" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="12619.6082" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
</g>
<!-- 8&#45;&gt;14 -->
<g id="edge138" class="edge">
<title>8&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M11476.0557,-9144.7512C11478.9823,-9145.9251 11481.914,-9147.075 11484.8507,-9148.2 11716.973,-9237.1264 12365.1664,-9111.4347 12602.8507,-9184.2 12705.0341,-9215.4827 12806.6783,-9285.9973 12871.835,-9337.5859"/>
<polygon fill="#000000" stroke="#000000" points="12869.9932,-9340.594 12879.9922,-9344.0968 12874.36,-9335.1231 12869.9932,-9340.594"/>
</g>
<!-- 19 -->
<g id="node62" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8535.9201,-9335.9 8535.9201,-9460.7 9829.7813,-9460.7 9829.7813,-9335.9 8535.9201,-9335.9"/>
<text text-anchor="middle" x="9182.8507" y="-9444.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9182.8507" y="-9427.3" font-family="Times,serif" font-size="14.00" fill="#000000">ISynthetix</text>
<polyline fill="none" stroke="#000000" points="8535.9201,-9419.1 9829.7813,-9419.1 "/>
<text text-anchor="middle" x="9182.8507" y="-9402.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8535.9201,-9394.3 9829.7813,-9394.3 "/>
<text text-anchor="start" x="8543.9201" y="-9377.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8543.9201" y="-9360.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="8543.9201" y="-9344.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeOnBehalfWithTracking(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32, rewardAddress: address, trackingCode: bytes32): (amountReceived: uint)</text>
</g>
<!-- 8&#45;&gt;19 -->
<g id="edge137" class="edge">
<title>8&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M10485.6674,-8934.6616C10314.7046,-9005.1558 10121.2995,-9082.4748 9942.8507,-9148.2 9759.4816,-9215.7375 9548.1391,-9284.5731 9394.942,-9332.8851"/>
<polygon fill="#000000" stroke="#000000" points="9393.8827,-9329.5491 9385.3967,-9335.8924 9395.9863,-9336.2256 9393.8827,-9329.5491"/>
</g>
<!-- 8&#45;&gt;34 -->
<g id="edge135" class="edge">
<title>8&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10485.6074,-8970.7306C10317.5356,-9042.3345 10125.9041,-9111.1712 9942.8507,-9148.2 9769.4624,-9183.2737 6935.5186,-9175.137 6758.8507,-9184.2 5970.6596,-9224.6337 5037.4328,-9326.1509 4628.049,-9373.3947"/>
<polygon fill="#000000" stroke="#000000" points="4627.4118,-9369.945 4617.8795,-9374.5696 4628.2152,-9376.8987 4627.4118,-9369.945"/>
</g>
<!-- 36 -->
<g id="node116" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10916.0877,-9352.7 10916.0877,-9443.9 11045.6137,-9443.9 11045.6137,-9352.7 10916.0877,-9352.7"/>
<text text-anchor="middle" x="10980.8507" y="-9427.3" font-family="Times,serif" font-size="14.00" fill="#000000">OwnedUpgradeable</text>
<polyline fill="none" stroke="#000000" points="10916.0877,-9419.1 11045.6137,-9419.1 "/>
<text text-anchor="middle" x="10980.8507" y="-9402.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="10916.0877,-9394.3 11045.6137,-9394.3 "/>
<text text-anchor="start" x="10924.0877" y="-9377.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="10924.0877" y="-9360.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__Ownable_init()</text>
</g>
<!-- 8&#45;&gt;36 -->
<g id="edge134" class="edge">
<title>8&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M10980.8507,-9147.7319C10980.8507,-9214.6906 10980.8507,-9276.7637 10980.8507,-9322.3775"/>
<polygon fill="none" stroke="#000000" points="10970.3508,-9322.5169 10980.8507,-9352.5169 10991.3508,-9322.5169 10970.3508,-9322.5169"/>
</g>
<!-- 8struct0 -->
<g id="node49" class="node">
<title>8struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11992.7879,-7815.1 11992.7879,-7948.7 12142.9135,-7948.7 12142.9135,-7815.1 11992.7879,-7815.1"/>
<text text-anchor="middle" x="12067.8507" y="-7932.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="12067.8507" y="-7915.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeParams</text>
<polyline fill="none" stroke="#000000" points="11992.7879,-7907.1 12142.9135,-7907.1 "/>
<text text-anchor="start" x="12000.7879" y="-7890.5" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="12000.7879" y="-7873.7" font-family="Times,serif" font-size="14.00" fill="#000000">quoteKey: bytes32</text>
<text text-anchor="start" x="12000.7879" y="-7856.9" font-family="Times,serif" font-size="14.00" fill="#000000">baseKey: bytes32</text>
<text text-anchor="start" x="12000.7879" y="-7840.1" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="12000.7879" y="-7823.3" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 8struct0&#45;&gt;8 -->
<g id="edge40" class="edge">
<title>8struct0&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M12073.9533,-7948.8156C12077.7969,-8035.9999 12069.5802,-8186.4326 11978.8507,-8264 11897.9666,-8333.1503 11607.0457,-8263.4952 11487.7887,-8299.5267"/>
<polygon fill="#000000" stroke="#000000" points="11487.4466,-8299.6468 11483.1109,-8305.4089 11476.1245,-8303.6229 11480.4602,-8297.8608 11487.4466,-8299.6468"/>
</g>
<!-- 10struct0 -->
<g id="node52" class="node">
<title>10struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1990.5172,-7781.5 1990.5172,-7982.3 2121.1842,-7982.3 2121.1842,-7781.5 1990.5172,-7781.5"/>
<text text-anchor="middle" x="2055.8507" y="-7965.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2055.8507" y="-7948.9" font-family="Times,serif" font-size="14.00" fill="#000000">Loan</text>
<polyline fill="none" stroke="#000000" points="1990.5172,-7940.7 2121.1842,-7940.7 "/>
<text text-anchor="start" x="1998.5172" y="-7924.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="1998.5172" y="-7907.3" font-family="Times,serif" font-size="14.00" fill="#000000">account: address</text>
<text text-anchor="start" x="1998.5172" y="-7890.5" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="1998.5172" y="-7873.7" font-family="Times,serif" font-size="14.00" fill="#000000">currency: bytes32</text>
<text text-anchor="start" x="1998.5172" y="-7856.9" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="1998.5172" y="-7840.1" font-family="Times,serif" font-size="14.00" fill="#000000">short: bool</text>
<text text-anchor="start" x="1998.5172" y="-7823.3" font-family="Times,serif" font-size="14.00" fill="#000000">accruedInterest: uint</text>
<text text-anchor="start" x="1998.5172" y="-7806.5" font-family="Times,serif" font-size="14.00" fill="#000000">interestIndex: uint</text>
<text text-anchor="start" x="1998.5172" y="-7789.7" font-family="Times,serif" font-size="14.00" fill="#000000">lastInteraction: uint</text>
</g>
<!-- 10struct0&#45;&gt;10 -->
<g id="edge41" class="edge">
<title>10struct0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M2045.5262,-7982.6513C2042.6301,-8071.3297 2054.8396,-8196.5351 2134.8507,-8264 2224.4345,-8339.5365 3088.1134,-8240.1419 3188.8507,-8300 3290.0086,-8360.108 3354.6675,-8478.2221 3392.8284,-8574.5679"/>
<polygon fill="#000000" stroke="#000000" points="3392.8878,-8574.7206 3398.7905,-8578.8628 3397.2372,-8585.9047 3391.3345,-8581.7625 3392.8878,-8574.7206"/>
</g>
<!-- 11 -->
<g id="node53" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2408.6787,-8653.3 2408.6787,-8794.9 3147.0227,-8794.9 3147.0227,-8653.3 2408.6787,-8653.3"/>
<text text-anchor="middle" x="2777.8507" y="-8778.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2777.8507" y="-8761.5" font-family="Times,serif" font-size="14.00" fill="#000000">ICurve</text>
<polyline fill="none" stroke="#000000" points="2408.6787,-8753.3 3147.0227,-8753.3 "/>
<text text-anchor="middle" x="2777.8507" y="-8736.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2408.6787,-8728.5 3147.0227,-8728.5 "/>
<text text-anchor="start" x="2416.6787" y="-8711.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2416.6787" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange_with_best_rate(_from: address, _to: address, _amount: uint, _expected: uint, _receiver: address): (amountOut: uint)</text>
<text text-anchor="start" x="2416.6787" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange_underlying(_from: int128, _to: int128, _amount: uint, _expected: uint): (amountOut: uint)</text>
<text text-anchor="start" x="2416.6787" y="-8661.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;get_best_rate(_from: address, _to: address, _amount: uint): (pool: address, amountOut: uint)</text>
</g>
<!-- 15 -->
<g id="node57" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1838.6346,-8670.1 1838.6346,-8778.1 2353.0668,-8778.1 2353.0668,-8670.1 1838.6346,-8670.1"/>
<text text-anchor="middle" x="2095.8507" y="-8761.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2095.8507" y="-8744.7" font-family="Times,serif" font-size="14.00" fill="#000000">IFeeCounter</text>
<polyline fill="none" stroke="#000000" points="1838.6346,-8736.5 2353.0668,-8736.5 "/>
<text text-anchor="middle" x="2095.8507" y="-8719.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1838.6346,-8711.7 2353.0668,-8711.7 "/>
<text text-anchor="start" x="1846.6346" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1846.6346" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;trackFee(market: address, trader: address, amount: uint, totalCost: uint, totalFee: uint)</text>
</g>
<!-- 17 -->
<g id="node59" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="65.5112,-9344.3 65.5112,-9452.3 530.1902,-9452.3 530.1902,-9344.3 65.5112,-9344.3"/>
<text text-anchor="middle" x="297.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="297.8507" y="-9418.9" font-family="Times,serif" font-size="14.00" fill="#000000">IUniswapV3SwapCallback</text>
<polyline fill="none" stroke="#000000" points="65.5112,-9410.7 530.1902,-9410.7 "/>
<text text-anchor="middle" x="297.8507" y="-9394.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="65.5112,-9385.9 530.1902,-9385.9 "/>
<text text-anchor="start" x="73.5112" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="73.5112" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;uniswapV3SwapCallback(amount0Delta: int, amount1Delta: int, data: bytes)</text>
</g>
<!-- 18 -->
<g id="node60" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="117.2356,-8670.1 117.2356,-8778.1 478.4658,-8778.1 478.4658,-8670.1 117.2356,-8670.1"/>
<text text-anchor="middle" x="297.8507" y="-8761.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="297.8507" y="-8744.7" font-family="Times,serif" font-size="14.00" fill="#000000">ISwapRouter</text>
<polyline fill="none" stroke="#000000" points="117.2356,-8736.5 478.4658,-8736.5 "/>
<text text-anchor="middle" x="297.8507" y="-8719.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="117.2356,-8711.7 478.4658,-8711.7 "/>
<text text-anchor="start" x="125.2356" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="125.2356" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exactInput(params: ExactInputParams): (amountOut: uint)</text>
</g>
<!-- 18&#45;&gt;17 -->
<g id="edge141" class="edge">
<title>18&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M297.8507,-8778.1329C297.8507,-8895.2485 297.8507,-9173.2345 297.8507,-9313.8034"/>
<polygon fill="none" stroke="#000000" points="287.3508,-9314.0097 297.8507,-9344.0097 308.3508,-9314.0098 287.3508,-9314.0097"/>
</g>
<!-- 18struct0 -->
<g id="node61" class="node">
<title>18struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="215.7648,-7815.1 215.7648,-7948.7 379.9366,-7948.7 379.9366,-7815.1 215.7648,-7815.1"/>
<text text-anchor="middle" x="297.8507" y="-7932.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="297.8507" y="-7915.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExactInputParams</text>
<polyline fill="none" stroke="#000000" points="215.7648,-7907.1 379.9366,-7907.1 "/>
<text text-anchor="start" x="223.7648" y="-7890.5" font-family="Times,serif" font-size="14.00" fill="#000000">path: bytes</text>
<text text-anchor="start" x="223.7648" y="-7873.7" font-family="Times,serif" font-size="14.00" fill="#000000">recipient: address</text>
<text text-anchor="start" x="223.7648" y="-7856.9" font-family="Times,serif" font-size="14.00" fill="#000000">deadline: uint</text>
<text text-anchor="start" x="223.7648" y="-7840.1" font-family="Times,serif" font-size="14.00" fill="#000000">amountIn: uint</text>
<text text-anchor="start" x="223.7648" y="-7823.3" font-family="Times,serif" font-size="14.00" fill="#000000">amountOutMinimum: uint</text>
</g>
<!-- 18struct0&#45;&gt;18 -->
<g id="edge42" class="edge">
<title>18struct0&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M297.8507,-7949.0432C297.8507,-8106.9777 297.8507,-8500.5009 297.8507,-8657.6968"/>
<polygon fill="#000000" stroke="#000000" points="297.8508,-8657.9386 301.8508,-8663.9386 297.8507,-8669.9386 293.8508,-8663.9386 297.8508,-8657.9386"/>
</g>
<!-- 21 -->
<g id="node66" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1129.0137,-7036.1 1129.0137,-7211.3 1308.6877,-7211.3 1308.6877,-7036.1 1129.0137,-7036.1"/>
<text text-anchor="middle" x="1218.8507" y="-7194.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1218.8507" y="-7177.9" font-family="Times,serif" font-size="14.00" fill="#000000">FixedPointMathLib</text>
<polyline fill="none" stroke="#000000" points="1129.0137,-7169.7 1308.6877,-7169.7 "/>
<text text-anchor="middle" x="1218.8507" y="-7153.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1129.0137,-7144.9 1308.6877,-7144.9 "/>
<text text-anchor="start" x="1137.0137" y="-7128.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1137.0137" y="-7111.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lnPrecise(x: int): (r: int)</text>
<text text-anchor="start" x="1137.0137" y="-7094.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;expPrecise(x: int): (r: uint)</text>
<text text-anchor="start" x="1137.0137" y="-7077.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln(x: int): (r: int)</text>
<text text-anchor="start" x="1137.0137" y="-7061.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ilog2(x: uint): (r: uint)</text>
<text text-anchor="start" x="1137.0137" y="-7044.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: int): (r: uint)</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge144" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1481.7987,-6537.1543C1438.1543,-6617.908 1394.2461,-6702.7351 1355.8507,-6783.6 1317.7791,-6863.7829 1280.5356,-6957.5201 1254.5135,-7026.2563"/>
<polygon fill="#000000" stroke="#000000" points="1251.1737,-7025.1935 1250.9173,-7035.7853 1257.7228,-7027.6652 1251.1737,-7025.1935"/>
</g>
<!-- 20&#45;&gt;34 -->
<g id="edge142" class="edge">
<title>20&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1748.9555,-6537.3706C1754.3304,-6618.8671 1759.0489,-6703.9165 1761.8507,-6783.6 1772.4741,-7085.7244 1774.4144,-7161.7501 1761.8507,-7463.8 1761.1835,-7479.8416 1759.518,-7483.7584 1758.8507,-7499.8 1744.7356,-7839.151 1751.5574,-7924.4339 1758.8507,-8264 1767.2971,-8657.2498 1526.0678,-8862.9048 1796.8507,-9148.2 1961.7971,-9321.9864 3614.7261,-9378.8696 4207.6005,-9393.7666"/>
<polygon fill="#000000" stroke="#000000" points="4207.8882,-9397.2748 4217.9725,-9394.0256 4208.0631,-9390.2769 4207.8882,-9397.2748"/>
</g>
<!-- 20&#45;&gt;37 -->
<g id="edge143" class="edge">
<title>20&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1651.5398,-6537.2201C1632.4663,-6657.9056 1612.2367,-6785.9059 1595.5594,-6891.4301"/>
<polygon fill="#000000" stroke="#000000" points="1592.0607,-6891.1471 1593.9567,-6901.5709 1598.9749,-6892.2399 1592.0607,-6891.1471"/>
</g>
<!-- 20struct0 -->
<g id="node64" class="node">
<title>20struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1697.4839,-4750.9 1697.4839,-4901.3 1826.2175,-4901.3 1826.2175,-4750.9 1697.4839,-4750.9"/>
<text text-anchor="middle" x="1761.8507" y="-4884.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1761.8507" y="-4867.9" font-family="Times,serif" font-size="14.00" fill="#000000">PricesDeltaStdVega</text>
<polyline fill="none" stroke="#000000" points="1697.4839,-4859.7 1826.2175,-4859.7 "/>
<text text-anchor="start" x="1705.4839" y="-4843.1" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="1705.4839" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="1705.4839" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="1705.4839" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="1705.4839" y="-4775.9" font-family="Times,serif" font-size="14.00" fill="#000000">vega: uint</text>
<text text-anchor="start" x="1705.4839" y="-4759.1" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
</g>
<!-- 20struct0&#45;&gt;20 -->
<g id="edge43" class="edge">
<title>20struct0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M1759.1956,-4901.3795C1753.7418,-5056.0062 1740.9257,-5419.3704 1730.6354,-5711.1214"/>
<polygon fill="#000000" stroke="#000000" points="1730.6321,-5711.2191 1734.4181,-5717.3564 1730.209,-5723.2116 1726.423,-5717.0743 1730.6321,-5711.2191"/>
</g>
<!-- 20struct1 -->
<g id="node65" class="node">
<title>20struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1844.6217,-4759.3 1844.6217,-4892.9 1997.0797,-4892.9 1997.0797,-4759.3 1844.6217,-4759.3"/>
<text text-anchor="middle" x="1920.8507" y="-4876.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1920.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">BlackScholesInputs</text>
<polyline fill="none" stroke="#000000" points="1844.6217,-4851.3 1997.0797,-4851.3 "/>
<text text-anchor="start" x="1852.6217" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">timeToExpirySec: uint</text>
<text text-anchor="start" x="1852.6217" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">volatilityDecimal: uint</text>
<text text-anchor="start" x="1852.6217" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">spotDecimal: uint</text>
<text text-anchor="start" x="1852.6217" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">strikePriceDecimal: uint</text>
<text text-anchor="start" x="1852.6217" y="-4767.5" font-family="Times,serif" font-size="14.00" fill="#000000">rateDecimal: int</text>
</g>
<!-- 20struct1&#45;&gt;20 -->
<g id="edge44" class="edge">
<title>20struct1&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M1913.0747,-4893.2521C1899.1385,-5011.4909 1868.229,-5264.4572 1834.8507,-5477 1822.9421,-5552.8306 1809.1783,-5633.4086 1795.3298,-5711.1349"/>
<polygon fill="#000000" stroke="#000000" points="1795.3061,-5711.2684 1798.1891,-5717.8781 1793.1967,-5723.0815 1790.3137,-5716.4718 1795.3061,-5711.2684"/>
</g>
<!-- 22&#45;&gt;21 -->
<g id="edge147" class="edge">
<title>22&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M949.8087,-6276.9538C993.7319,-6409.183 1059.5917,-6609.0865 1114.8507,-6783.6 1140.6547,-6865.0916 1168.9646,-6957.9064 1189.5237,-7025.9653"/>
<polygon fill="#000000" stroke="#000000" points="1186.2588,-7027.2611 1192.4996,-7035.8228 1192.9601,-7025.238 1186.2588,-7027.2611"/>
</g>
<!-- 22&#45;&gt;34 -->
<g id="edge145" class="edge">
<title>22&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M949.4238,-6276.9918C990.6825,-6408.1972 1047.7082,-6606.5564 1076.8507,-6783.6 1162.6579,-7304.8876 942.0151,-8782.0471 1322.8507,-9148.2 1530.3218,-9347.6722 3545.4362,-9388.387 4207.9368,-9396.4046"/>
<polygon fill="#000000" stroke="#000000" points="4208.0297,-9399.9059 4218.0709,-9396.526 4208.1136,-9392.9064 4208.0297,-9399.9059"/>
</g>
<!-- 22&#45;&gt;37 -->
<g id="edge146" class="edge">
<title>22&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.9409,-6276.8796C1105.4655,-6439.2124 1280.2317,-6703.0615 1406.1287,-6893.1315"/>
<polygon fill="#000000" stroke="#000000" points="1403.2705,-6895.1546 1411.7107,-6901.5588 1409.1064,-6891.289 1403.2705,-6895.1546"/>
</g>
<!-- 22struct0 -->
<g id="node68" class="node">
<title>22struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="869.9036,-4784.5 869.9036,-4867.7 1041.7978,-4867.7 1041.7978,-4784.5 869.9036,-4784.5"/>
<text text-anchor="middle" x="955.8507" y="-4851.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="955.8507" y="-4834.3" font-family="Times,serif" font-size="14.00" fill="#000000">Params</text>
<polyline fill="none" stroke="#000000" points="869.9036,-4826.1 1041.7978,-4826.1 "/>
<text text-anchor="start" x="877.9036" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">observations: Observation[]</text>
<text text-anchor="start" x="877.9036" y="-4792.7" font-family="Times,serif" font-size="14.00" fill="#000000">index: uint</text>
</g>
<!-- 22struct0&#45;&gt;22 -->
<g id="edge45" class="edge">
<title>22struct0&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M954.0831,-4868.0159C946.9672,-5036.7537 920.1943,-5671.612 907.5467,-5971.5196"/>
<polygon fill="#000000" stroke="#000000" points="907.5347,-5971.8064 911.2783,-5977.9697 907.029,-5983.7958 903.2854,-5977.6325 907.5347,-5971.8064"/>
</g>
<!-- 22struct1 -->
<g id="node69" class="node">
<title>22struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="308.2178,-4776.1 308.2178,-4876.1 447.4836,-4876.1 447.4836,-4776.1 308.2178,-4776.1"/>
<text text-anchor="middle" x="377.8507" y="-4859.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="377.8507" y="-4842.7" font-family="Times,serif" font-size="14.00" fill="#000000">Observation</text>
<polyline fill="none" stroke="#000000" points="308.2178,-4834.5 447.4836,-4834.5 "/>
<text text-anchor="start" x="316.2178" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">q: int</text>
<text text-anchor="start" x="316.2178" y="-4801.1" font-family="Times,serif" font-size="14.00" fill="#000000">nextVal: uint</text>
<text text-anchor="start" x="316.2178" y="-4784.3" font-family="Times,serif" font-size="14.00" fill="#000000">blockTimestamp: uint</text>
</g>
<!-- 22struct1&#45;&gt;22 -->
<g id="edge46" class="edge">
<title>22struct1&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M370.0347,-4876.3105C354.691,-4992.5399 332.1533,-5284.8229 456.8507,-5477 473.7782,-5503.0878 494.6849,-5491.1875 516.8507,-5513 653.2699,-5647.2449 762.8118,-5839.0503 829.4507,-5973.1187"/>
<polygon fill="#000000" stroke="#000000" points="829.4531,-5973.1238 835.6975,-5976.7304 834.77,-5983.8816 828.5256,-5980.275 829.4531,-5973.1238"/>
</g>
<!-- 23&#45;&gt;0 -->
<g id="edge148" class="edge">
<title>23&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M4303.2945,-4645.8787C4346.7742,-4491.8019 4431.3461,-4279.0259 4594.8507,-4175.2 4729.6807,-4089.5826 5883.6475,-4198.742 6031.8507,-4139.2 6080.6611,-4119.59 6128.4531,-4095.9125 6174.9298,-4069.1824"/>
<polygon fill="#000000" stroke="#000000" points="6176.6996,-4072.202 6183.5926,-4064.156 6173.1866,-4066.1473 6176.6996,-4072.202"/>
</g>
<!-- 23struct0 -->
<g id="node71" class="node">
<title>23struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3943.3219,-3303.9 3943.3219,-3387.1 4088.3795,-3387.1 4088.3795,-3303.9 3943.3219,-3303.9"/>
<text text-anchor="middle" x="4015.8507" y="-3370.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4015.8507" y="-3353.7" font-family="Times,serif" font-size="14.00" fill="#000000">PoolHedgerParameters</text>
<polyline fill="none" stroke="#000000" points="3943.3219,-3345.5 4088.3795,-3345.5 "/>
<text text-anchor="start" x="3951.3219" y="-3328.9" font-family="Times,serif" font-size="14.00" fill="#000000">interactionDelay: uint</text>
<text text-anchor="start" x="3951.3219" y="-3312.1" font-family="Times,serif" font-size="14.00" fill="#000000">hedgeCap: uint</text>
</g>
<!-- 23struct0&#45;&gt;23 -->
<g id="edge47" class="edge">
<title>23struct0&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M4018.7339,-3387.472C4027.2526,-3506.1153 4054.7672,-3853.8526 4102.8507,-4139.2 4131.2678,-4307.8386 4175.4686,-4497.1392 4209.7397,-4634.2434"/>
<polygon fill="#000000" stroke="#000000" points="4209.793,-4634.4565 4215.1317,-4639.3041 4212.7103,-4646.0966 4207.3717,-4641.249 4209.793,-4634.4565"/>
</g>
<!-- 25 -->
<g id="node73" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3057.0522,-7785.9 3057.0522,-7977.9 3460.6492,-7977.9 3460.6492,-7785.9 3057.0522,-7785.9"/>
<text text-anchor="middle" x="3258.8507" y="-7961.3" font-family="Times,serif" font-size="14.00" fill="#000000">BasicFeeCounter</text>
<polyline fill="none" stroke="#000000" points="3057.0522,-7953.1 3460.6492,-7953.1 "/>
<text text-anchor="start" x="3065.0522" y="-7936.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3065.0522" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;trustedCounter: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="3065.0522" y="-7902.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalFeesPerMarket: mapping(address=&gt;mapping(address=&gt;uint))</text>
<polyline fill="none" stroke="#000000" points="3057.0522,-7894.7 3460.6492,-7894.7 "/>
<text text-anchor="start" x="3065.0522" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3065.0522" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTrustedCounter(counter: address, isTrusted: bool)</text>
<text text-anchor="start" x="3065.0522" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;trackFee(market: address, trader: address, uint, uint, totalFee: uint)</text>
<text text-anchor="start" x="3065.0522" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3065.0522" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyTrustedCounter()</text>
<text text-anchor="start" x="3065.0522" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 25&#45;&gt;15 -->
<g id="edge149" class="edge">
<title>25&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3234.6043,-7978.1544C3206.2071,-8068.8614 3149.5584,-8200.11 3047.8507,-8264 2925.7251,-8340.716 2526.2659,-8230.5796 2399.8507,-8300 2262.8964,-8375.2079 2172.4934,-8541.5798 2128.0808,-8642.1385"/>
<polygon fill="none" stroke="#000000" points="2118.3763,-8638.128 2116.2725,-8669.8427 2137.6947,-8646.3621 2118.3763,-8638.128"/>
</g>
<!-- 25&#45;&gt;35 -->
<g id="edge150" class="edge">
<title>25&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M3282.0484,-7977.9284C3309.817,-8069.4856 3366.1506,-8202.2787 3469.8507,-8264 3527.1875,-8298.1263 8207.7124,-8291.1779 8273.8507,-8300 8874.3426,-8380.0989 9570.7381,-8613.5605 9802.9518,-8695.3717"/>
<polygon fill="none" stroke="#000000" points="9799.5875,-8705.3192 9831.3717,-8705.4464 9806.6041,-8685.5261 9799.5875,-8705.3192"/>
</g>
<!-- 26 -->
<g id="node74" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9986.5049,-7777.5 9986.5049,-7986.3 10269.1965,-7986.3 10269.1965,-7777.5 9986.5049,-7777.5"/>
<text text-anchor="middle" x="10127.8507" y="-7969.7" font-family="Times,serif" font-size="14.00" fill="#000000">BasicLiquidityCounter</text>
<polyline fill="none" stroke="#000000" points="9986.5049,-7961.5 10269.1965,-7961.5 "/>
<text text-anchor="start" x="9994.5049" y="-7944.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9994.5049" y="-7928.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityToken: address</text>
<text text-anchor="start" x="9994.5049" y="-7911.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;userLiquidity: mapping(address=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="9986.5049,-7903.1 10269.1965,-7903.1 "/>
<text text-anchor="start" x="9994.5049" y="-7886.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9994.5049" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLiquidityToken(lpToken: address)</text>
<text text-anchor="start" x="9994.5049" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addTokens(trader: address, amount: uint)</text>
<text text-anchor="start" x="9994.5049" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeTokens(trader: address, amount: uint)</text>
<text text-anchor="start" x="9994.5049" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9994.5049" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityToken()</text>
<text text-anchor="start" x="9994.5049" y="-7785.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 26&#45;&gt;35 -->
<g id="edge151" class="edge">
<title>26&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M10097.44,-7986.4383C10047.3104,-8158.7615 9948.5205,-8498.3569 9904.6863,-8649.0392"/>
<polygon fill="none" stroke="#000000" points="9894.5017,-8646.4587 9896.204,-8678.1976 9914.6659,-8652.3246 9894.5017,-8646.4587"/>
</g>
<!-- 27 -->
<g id="node75" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8400.4364,-3182.3 8400.4364,-3508.7 9121.265,-3508.7 9121.265,-3182.3 8400.4364,-3182.3"/>
<text text-anchor="middle" x="8760.8507" y="-3492.1" font-family="Times,serif" font-size="14.00" fill="#000000">GWAVOracle</text>
<polyline fill="none" stroke="#000000" points="8400.4364,-3483.9 9121.265,-3483.9 "/>
<text text-anchor="start" x="8408.4364" y="-3467.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8408.4364" y="-3450.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="8408.4364" y="-3433.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="8408.4364" y="-3416.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<polyline fill="none" stroke="#000000" points="8400.4364,-3408.7 9121.265,-3408.7 "/>
<text text-anchor="start" x="8408.4364" y="-3392.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8408.4364" y="-3375.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getBsInput(strikeId: uint): (bsInput: BlackScholes.BlackScholesInputs)</text>
<text text-anchor="start" x="8408.4364" y="-3358.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8408.4364" y="-3341.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _greekCache: OptionGreekCache, _synthetixAdapter: SynthetixAdapter)</text>
<text text-anchor="start" x="8408.4364" y="-3324.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deltaGWAV(strikeId: uint, secondsAgo: uint): (callDelta: int)</text>
<text text-anchor="start" x="8408.4364" y="-3308.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;vegaGWAV(strikeId: uint, secondsAgo: uint): (vega: uint)</text>
<text text-anchor="start" x="8408.4364" y="-3291.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPriceGWAV(strikeId: uint, secondsAgo: uint): (callPrice: uint, putPrice: uint)</text>
<text text-anchor="start" x="8408.4364" y="-3274.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8408.4364" y="-3257.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8408.4364" y="-3240.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLyraAddresses(_optionMarket: OptionMarket, _greekCache: OptionGreekCache, _synthetixAdapter: SynthetixAdapter)</text>
<text text-anchor="start" x="8408.4364" y="-3224.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ivGWAV(boardId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="8408.4364" y="-3207.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;skewGWAV(strikeId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="8408.4364" y="-3190.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;volGWAV(strikeId: uint, secondsAgo: uint): uint</text>
</g>
<!-- 27&#45;&gt;2 -->
<g id="edge155" class="edge">
<title>27&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M8606.5814,-3508.8605C8412.5348,-3701.4865 8059.0441,-4011.567 7683.8507,-4139.2 7500.884,-4201.4415 6125.3751,-4106.1943 5944.8507,-4175.2 5891.0521,-4195.7646 5838.4574,-4221.9447 5787.6593,-4251.9376"/>
<polygon fill="#000000" stroke="#000000" points="5785.6596,-4249.0549 5778.8612,-4257.181 5789.2433,-4255.068 5785.6596,-4249.0549"/>
</g>
<!-- 27&#45;&gt;3 -->
<g id="edge154" class="edge">
<title>27&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8827.0163,-3508.98C8889.9469,-3673.9236 8980.1487,-3937.5082 9015.8507,-4175.2 9037.3358,-4318.2399 9092.8134,-5354.5306 9015.8507,-5477 8890.955,-5675.7444 8686.78,-5815.4377 8474.2872,-5913.0551"/>
<polygon fill="#000000" stroke="#000000" points="8472.7704,-5909.9 8465.1258,-5917.2355 8475.6764,-5916.2684 8472.7704,-5909.9"/>
</g>
<!-- 27&#45;&gt;8 -->
<g id="edge156" class="edge">
<title>27&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M8915.7729,-3508.8861C9107.4337,-3698.8305 9453.4274,-4003.5672 9818.8507,-4139.2 9874.7062,-4159.9317 10310.624,-4134.1989 10353.8507,-4175.2 10565.2616,-4375.7262 10443.474,-5193.5116 10510.8507,-5477 10649.6872,-6061.1567 10714.6267,-6204.1156 10969.8507,-6747.6 11126.8002,-7081.8146 11074.641,-7273.1592 11390.8507,-7463.8 11465.8163,-7508.9962 12117.3843,-7436.5044 12177.8507,-7499.8 12236.5041,-7561.1977 12236.3138,-8202.4211 12177.8507,-8264 12126.5258,-8318.0604 11593.7396,-8274.7946 11485.6823,-8300.6214"/>
<polygon fill="#000000" stroke="#000000" points="11484.6409,-8297.2798 11476.0887,-8303.5336 11486.6742,-8303.978 11484.6409,-8297.2798"/>
</g>
<!-- 27&#45;&gt;20 -->
<g id="edge157" class="edge">
<title>27&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8668.567,-3508.919C8550.0279,-3700.4339 8324.5623,-4008.243 8034.8507,-4139.2 7939.711,-4182.2056 6238.5094,-4111.4146 6155.8507,-4175.2 5679.8471,-4542.519 6237.0123,-5077.3045 5787.8507,-5477 5232.8398,-5970.8877 2901.6641,-6093.3546 2038.8079,-6122.0244"/>
<polygon fill="#000000" stroke="#000000" points="2038.6036,-6118.5292 2028.7246,-6122.3574 2038.8347,-6125.5254 2038.6036,-6118.5292"/>
</g>
<!-- 27&#45;&gt;34 -->
<g id="edge153" class="edge">
<title>27&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8668.5504,-3508.8823C8549.9949,-3700.3609 8324.513,-4008.1341 8034.8507,-4139.2 7943.3202,-4180.6156 6299.9516,-4106.2844 6226.8507,-4175.2 6143.9507,-4253.3537 5925.6185,-8152.1672 5903.8507,-8264 5825.1192,-8668.486 5930.6166,-8871.9487 5624.8507,-9148.2 5480.6987,-9278.4375 4933.8913,-9349.7404 4628.0883,-9380.1947"/>
<polygon fill="#000000" stroke="#000000" points="4627.3692,-9376.7487 4617.7625,-9381.2166 4628.0586,-9383.7146 4627.3692,-9376.7487"/>
</g>
<!-- 27&#45;&gt;35 -->
<g id="edge152" class="edge">
<title>27&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M8865.2865,-3508.7169C8965.1127,-3671.5804 9113.0358,-3931.9315 9200.8507,-4175.2 9401.5094,-4731.0734 9301.6077,-4911.0703 9471.8507,-5477 9750.6324,-6403.7389 10095.4717,-6549.378 10277.8507,-7499.8 10293.8526,-7583.1897 10307.3416,-8184.3747 10277.8507,-8264 10213.9416,-8436.5541 10053.1702,-8587.9613 9957.5944,-8666.6612"/>
<polygon fill="none" stroke="#000000" points="9950.9722,-8658.5127 9934.224,-8685.5266 9964.1628,-8674.8531 9950.9722,-8658.5127"/>
</g>
<!-- 28 -->
<g id="node76" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7003.9593,-4629.3 7003.9593,-5022.9 7821.7421,-5022.9 7821.7421,-4629.3 7003.9593,-4629.3"/>
<text text-anchor="middle" x="7412.8507" y="-5006.3" font-family="Times,serif" font-size="14.00" fill="#000000">KeeperHelper</text>
<polyline fill="none" stroke="#000000" points="7003.9593,-4998.1 7821.7421,-4998.1 "/>
<text text-anchor="start" x="7011.9593" y="-4981.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7011.9593" y="-4964.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="7011.9593" y="-4947.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="7011.9593" y="-4931.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="7003.9593,-4922.9 7821.7421,-4922.9 "/>
<text text-anchor="start" x="7011.9593" y="-4906.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7011.9593" y="-4889.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidateMany(positionIds: uint[])</text>
<text text-anchor="start" x="7011.9593" y="-4872.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_settleMany(positionIds: uint[])</text>
<text text-anchor="start" x="7011.9593" y="-4855.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_shiftUint32(batch: uint, loc: uint): uint</text>
<text text-anchor="start" x="7011.9593" y="-4839.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7011.9593" y="-4822.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _shortCollateral: ShortCollateral)</text>
<text text-anchor="start" x="7011.9593" y="-4805.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidate8(batch1: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4788.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateMany(positionIds: uint[])</text>
<text text-anchor="start" x="7011.9593" y="-4771.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle8(batch1: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4755.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle16(batch1: uint, batch2: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4738.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle24(batch1: uint, batch2: uint, batch3: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4721.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle32(batch1: uint, batch2: uint, batch3: uint, batch4: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4704.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle40(batch1: uint, batch2: uint, batch3: uint, batch4: uint, batch5: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4687.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settle80(batch1: uint, batch2: uint, batch3: uint, batch4: uint, batch5: uint, batch6: uint, batch7: uint, batch8: uint, batch9: uint, batch10: uint)</text>
<text text-anchor="start" x="7011.9593" y="-4671.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleMany(positionIds: uint[])</text>
<text text-anchor="start" x="7011.9593" y="-4654.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7011.9593" y="-4637.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 28&#45;&gt;3 -->
<g id="edge158" class="edge">
<title>28&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M7450.0125,-5023.1176C7474.3915,-5152.3664 7507.7429,-5329.1828 7540.6371,-5503.5756"/>
<polygon fill="#000000" stroke="#000000" points="7537.2092,-5504.2857 7542.5022,-5513.4636 7544.0879,-5502.9882 7537.2092,-5504.2857"/>
</g>
<!-- 29 -->
<g id="node77" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7625.2993,-599.1 7625.2993,-1681.5 8280.4021,-1681.5 8280.4021,-599.1 7625.2993,-599.1"/>
<text text-anchor="middle" x="7952.8507" y="-1664.9" font-family="Times,serif" font-size="14.00" fill="#000000">LyraAdapter</text>
<polyline fill="none" stroke="#000000" points="7625.2993,-1656.7 8280.4021,-1656.7 "/>
<text text-anchor="start" x="7633.2993" y="-1640.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7633.2993" y="-1623.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SNX_ADAPTER: bytes32</text>
<text text-anchor="start" x="7633.2993" y="-1606.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7633.2993" y="-1589.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="7633.2993" y="-1572.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7633.2993" y="-1556.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lyraRegistry: LyraRegistry</text>
<text text-anchor="start" x="7633.2993" y="-1539.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="7633.2993" y="-1522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="7633.2993" y="-1505.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="7633.2993" y="-1488.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="7633.2993" y="-1472.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;gwavOracle: GWAVOracle</text>
<text text-anchor="start" x="7633.2993" y="-1455.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="7633.2993" y="-1438.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="7633.2993" y="-1421.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="7633.2993" y="-1404.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="7633.2993" y="-1388.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;curveSwap: ICurve</text>
<text text-anchor="start" x="7633.2993" y="-1371.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;feeCounter: BasicFeeCounter</text>
<polyline fill="none" stroke="#000000" points="7625.2993,-1363.1 8280.4021,-1363.1 "/>
<text text-anchor="start" x="7633.2993" y="-1346.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7633.2993" y="-1329.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openPosition(params: TradeInputParameters): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="7633.2993" y="-1312.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_closeOrForceClosePosition(params: TradeInputParameters): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="7633.2993" y="-1296.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_closePosition(params: TradeInputParameters): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="7633.2993" y="-1279.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_forceClosePosition(params: TradeInputParameters): (tradeResult: TradeResult)</text>
<text text-anchor="start" x="7633.2993" y="-1262.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeFromExactQuote(amountQuote: uint, minBaseReceived: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1245.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeToExactQuote(amountQuote: uint, maxBaseUsed: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1228.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeFromExactBase(amountBase: uint, minQuoteReceived: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1212.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeToExactBase(amountBase: uint, maxQuoteUsed: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1195.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getExchangeParams(): ExchangeRateParams</text>
<text text-anchor="start" x="7633.2993" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_swapStables(from: address, to: address, amount: uint, expected: uint, receiver: address): (amountOut: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPositions(positionIds: uint[]): OptionPosition[]</text>
<text text-anchor="start" x="7633.2993" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_splitPosition(positionId: uint, newAmount: uint, newCollateral: uint, recipient: address): (newPositionId: uint)</text>
<text text-anchor="start" x="7633.2993" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mergePositions(positionIds: uint[])</text>
<text text-anchor="start" x="7633.2993" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getLiveBoards(): (liveBoards: uint[])</text>
<text text-anchor="start" x="7633.2993" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getBoard(boardId: uint): Board</text>
<text text-anchor="start" x="7633.2993" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getStrikes(strikeIds: uint[]): (allStrikes: Strike[])</text>
<text text-anchor="start" x="7633.2993" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getVols(strikeIds: uint[]): (vols: uint[])</text>
<text text-anchor="start" x="7633.2993" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDeltas(strikeIds: uint[]): (callDeltas: int[])</text>
<text text-anchor="start" x="7633.2993" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getVegas(strikeIds: uint[]): (vegas: uint[])</text>
<text text-anchor="start" x="7633.2993" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPurePremium(secondsToExpiry: uint, vol: uint, spotPrice: uint, strikePrice: uint): (call: uint, put: uint)</text>
<text text-anchor="start" x="7633.2993" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPurePremiumForStrike(strikeId: uint): (call: uint, put: uint)</text>
<text text-anchor="start" x="7633.2993" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getLiquidity(): Liquidity</text>
<text text-anchor="start" x="7633.2993" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getFreeLiquidity(): (freeLiquidity: uint)</text>
<text text-anchor="start" x="7633.2993" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMarketParams(): MarketParams</text>
<text text-anchor="start" x="7633.2993" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isOutsideDeltaCutoff(strikeId: uint): bool</text>
<text text-anchor="start" x="7633.2993" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isWithinTradingCutoff(strikeId: uint): bool</text>
<text text-anchor="start" x="7633.2993" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMinCollateral(optionType: OptionType, strikePrice: uint, expiry: uint, spotPrice: uint, amount: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMinCollateralForPosition(positionId: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMinCollateralForStrike(optionType: OptionType, strikeId: uint, amount: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_ivGWAV(boardId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_skewGWAV(strikeId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_volGWAV(strikeId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_deltaGWAV(strikeId: uint, secondsAgo: uint): (callDelta: int)</text>
<text text-anchor="start" x="7633.2993" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_vegaGWAV(strikeId: uint, secondsAgo: uint): uint</text>
<text text-anchor="start" x="7633.2993" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getBsInput(strikeId: uint): (bsInput: BlackScholes.BlackScholesInputs)</text>
<text text-anchor="start" x="7633.2993" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLong(optionType: OptionType): bool</text>
<text text-anchor="start" x="7633.2993" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertParams(_params: TradeInputParameters): OptionMarket.TradeInputParameters</text>
<text text-anchor="start" x="7633.2993" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_assignLyraRegistryMarketAddresses()</text>
<text text-anchor="start" x="7633.2993" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7633.2993" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateDelegateApproval()</text>
<text text-anchor="start" x="7633.2993" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_optionPriceGWAV(strikeId: uint, secondsAgo: uint): (callPrice: uint, putPrice: uint)</text>
<text text-anchor="start" x="7633.2993" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7633.2993" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="7633.2993" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLyraAddresses(_lyraRegistry: address, _optionMarket: address, _curveSwap: address, _feeCounter: address)</text>
</g>
<!-- 29&#45;&gt;0 -->
<g id="edge164" class="edge">
<title>29&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M7757.819,-1681.5812C7659.3117,-1938.6595 7532.2945,-2247.6149 7397.8507,-2515.8 7393.3189,-2524.84 7388.7226,-2533.912 7384.0675,-2543.0096"/>
<polygon fill="#000000" stroke="#000000" points="7380.8462,-2541.6207 7379.3928,-2552.1154 7387.0736,-2544.8176 7380.8462,-2541.6207"/>
</g>
<!-- 29&#45;&gt;2 -->
<g id="edge167" class="edge">
<title>29&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M7624.928,-1195.7533C7304.3059,-1265.7916 6821.1872,-1415.713 6516.8507,-1718 6232.6713,-2000.2657 6270.9752,-2162.9659 6174.8507,-2551.8 6089.8066,-2895.813 6256.0652,-3872.3884 6022.8507,-4139.2 5976.5922,-4192.1225 5930.6749,-4141.7572 5868.8507,-4175.2 5841.4089,-4190.0442 5814.2724,-4206.2867 5787.548,-4223.6369"/>
<polygon fill="#000000" stroke="#000000" points="5785.3348,-4220.9025 5778.8859,-4229.3086 5789.1693,-4226.7588 5785.3348,-4220.9025"/>
</g>
<!-- 29&#45;&gt;3 -->
<g id="edge162" class="edge">
<title>29&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M8280.481,-1396.1972C8435.6439,-1503.4137 8628.779,-1617.8508 8820.8507,-1682 8908.4418,-1711.2541 9172.4439,-1649.931 9234.8507,-1718 9474.469,-1979.3589 9242.5685,-2161.3062 9234.8507,-2515.8 9234.8507,-2515.8 9105.8507,-5477 9105.8507,-5477 8957.581,-5696.0102 8717.1719,-5842.6237 8474.5249,-5940.3432"/>
<polygon fill="#000000" stroke="#000000" points="8473.148,-5937.1243 8465.1637,-5944.0886 8475.7483,-5943.6234 8473.148,-5937.1243"/>
</g>
<!-- 29&#45;&gt;5 -->
<g id="edge163" class="edge">
<title>29&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M8280.403,-1398.3421C8435.3608,-1505.8166 8628.3531,-1619.8593 8820.8507,-1682 8878.0761,-1700.4731 9318.8309,-1674.9844 9360.8507,-1718 9487.2827,-1847.4281 9414.8507,-3164.5672 9414.8507,-3345.5 9414.8507,-3345.5 9414.8507,-3345.5 9414.8507,-4826.1 9414.8507,-5258.908 9425.4493,-6465.9162 9096.8507,-6747.6 9014.6298,-6818.0821 8686.56,-6706.1655 8610.8507,-6783.6 8557.9446,-6837.7116 8615.6803,-7399.4515 8575.8507,-7463.8 8525.5953,-7544.9924 8453.4707,-7611.84 8373.7261,-7666.4101"/>
<polygon fill="#000000" stroke="#000000" points="8371.3015,-7663.8246 8364.9794,-7672.3265 8375.2235,-7669.6228 8371.3015,-7663.8246"/>
</g>
<!-- 29&#45;&gt;6 -->
<g id="edge165" class="edge">
<title>29&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M8280.6293,-1397.6458C8435.6325,-1504.9805 8628.5978,-1619.1063 8820.8507,-1682 8871.9988,-1698.7326 9266.0972,-1679.6492 9303.8507,-1718 9430.8392,-1846.9977 9376.8507,-3164.4848 9376.8507,-3345.5 9376.8507,-3345.5 9376.8507,-3345.5 9376.8507,-4826.1 9376.8507,-5719.9747 9490.7935,-6201.8628 8782.8507,-6747.6 8710.3608,-6803.4808 8064.9641,-6761.8043 7936.4634,-6784.0164"/>
<polygon fill="#000000" stroke="#000000" points="7935.6222,-6780.617 7926.5719,-6786.1254 7937.0819,-6787.4632 7935.6222,-6780.617"/>
</g>
<!-- 29&#45;&gt;8 -->
<g id="edge161" class="edge">
<title>29&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M8280.4914,-1399.0385C8435.3723,-1506.5653 8628.2785,-1620.4547 8820.8507,-1682 8946.3936,-1722.123 9298.2752,-1652.8593 9412.8507,-1718 9785.7155,-1929.9883 9585.2616,-2299.8581 9955.8507,-2515.8 10040.232,-2564.9689 10316.1139,-2492.6834 10393.8507,-2551.8 10510.4201,-2640.4477 12188.1753,-7355.6209 12213.8507,-7499.8 12228.7375,-7583.3959 12272.3925,-8202.4959 12213.8507,-8264 12159.7393,-8320.8496 11598.2856,-8273.6009 11485.7934,-8300.5745"/>
<polygon fill="#000000" stroke="#000000" points="11484.636,-8297.268 11476.0844,-8303.5226 11486.6699,-8303.9661 11484.636,-8297.268"/>
</g>
<!-- 29&#45;&gt;11 -->
<g id="edge168" class="edge">
<title>29&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M7625.2082,-1204.0321C7002.9975,-1322.0435 5606.2643,-1572.5148 4417.8507,-1682 4354.9742,-1687.7926 3330.5317,-1677.7859 3281.8507,-1718 1948.8942,-2819.1227 2781.7562,-3820.8751 2426.8507,-5513 2404.1877,-5621.0531 2120.8025,-7380.932 2047.8507,-7463.8 2014.1394,-7502.0937 1968.7386,-7458.453 1938.8507,-7499.8 1913.9791,-7534.2075 1910.0357,-8232.8204 1938.8507,-8264 2007.8408,-8338.6513 2303.6571,-8255.0983 2394.8507,-8300 2549.4418,-8376.1171 2670.5648,-8544.1693 2732.4725,-8644.3685"/>
<polygon fill="#000000" stroke="#000000" points="2729.5241,-8646.2558 2737.734,-8652.9527 2735.4923,-8642.5977 2729.5241,-8646.2558"/>
</g>
<!-- 29&#45;&gt;20 -->
<g id="edge170" class="edge">
<title>29&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7625.0377,-1205.5892C7002.8992,-1326.1355 5606.7847,-1580.5771 4417.8507,-1682 4362.93,-1686.6851 2473.5161,-1679.7261 2433.8507,-1718 2369.9681,-1779.6416 2448.8502,-2448.5934 2390.8507,-2515.8 2338.4019,-2576.5747 2266.8184,-2491.477 2213.8507,-2551.8 1783.8623,-3041.4981 2163.5281,-4844.6772 2005.8507,-5477 1986.2315,-5555.6775 1957.7338,-5636.7541 1926.1682,-5713.8791"/>
<polygon fill="#000000" stroke="#000000" points="1922.8748,-5712.6852 1922.304,-5723.2646 1929.3477,-5715.3503 1922.8748,-5712.6852"/>
</g>
<!-- 29&#45;&gt;25 -->
<g id="edge169" class="edge">
<title>29&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M7625.09,-1202.7872C7002.6812,-1318.7124 5605.6294,-1565.8297 4417.8507,-1682 4371.4735,-1686.5359 3613.8991,-1686.186 3579.8507,-1718 3048.0703,-2214.8823 3398.8507,-2617.7072 3398.8507,-3345.5 3398.8507,-3345.5 3398.8507,-3345.5 3398.8507,-6130.3 3398.8507,-6755.6542 3309.0852,-7502.6132 3273.3116,-7775.4633"/>
<polygon fill="#000000" stroke="#000000" points="3269.7923,-7775.3813 3271.9587,-7785.7523 3276.7326,-7776.2939 3269.7923,-7775.3813"/>
</g>
<!-- 29&#45;&gt;27 -->
<g id="edge166" class="edge">
<title>29&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M8151.1564,-1681.5173C8329.6631,-2168.6994 8581.2396,-2855.3039 8697.4514,-3172.4702"/>
<polygon fill="#000000" stroke="#000000" points="8694.2927,-3174.0228 8701.0195,-3182.2082 8700.8654,-3171.6145 8694.2927,-3174.0228"/>
</g>
<!-- 30 -->
<g id="node88" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8680.0582,-1953.7 8680.0582,-2280.1 9225.6432,-2280.1 9225.6432,-1953.7 8680.0582,-1953.7"/>
<text text-anchor="middle" x="8952.8507" y="-2263.5" font-family="Times,serif" font-size="14.00" fill="#000000">LyraRegistry</text>
<polyline fill="none" stroke="#000000" points="8680.0582,-2255.3 9225.6432,-2255.3 "/>
<text text-anchor="start" x="8688.0582" y="-2238.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8688.0582" y="-2221.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarkets: OptionMarket[]</text>
<text text-anchor="start" x="8688.0582" y="-2205.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;marketAddresses: mapping(OptionMarket=&gt;OptionMarketAddresses)</text>
<text text-anchor="start" x="8688.0582" y="-2188.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globalAddresses: mapping(bytes32=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="8680.0582,-2180.1 9225.6432,-2180.1 "/>
<text text-anchor="start" x="8688.0582" y="-2163.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8688.0582" y="-2146.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removeMarket(market: OptionMarket)</text>
<text text-anchor="start" x="8688.0582" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8688.0582" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarketAddresses(optionMarket: OptionMarket): OptionMarketAddresses</text>
<text text-anchor="start" x="8688.0582" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalAddress(contractName: bytes32): (globalContract: address)</text>
<text text-anchor="start" x="8688.0582" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateGlobalAddresses(names: bytes32[], addresses: address[])</text>
<text text-anchor="start" x="8688.0582" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addMarket(newMarketAddresses: OptionMarketAddresses)</text>
<text text-anchor="start" x="8688.0582" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMarket(market: OptionMarket)</text>
<text text-anchor="start" x="8688.0582" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8688.0582" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalAddressUpdated(name: bytes32, addr: address)</text>
<text text-anchor="start" x="8688.0582" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketUpdated(optionMarket: OptionMarket, market: OptionMarketAddresses)</text>
<text text-anchor="start" x="8688.0582" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketRemoved(market: OptionMarket)</text>
<text text-anchor="start" x="8688.0582" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 29&#45;&gt;30 -->
<g id="edge160" class="edge">
<title>29&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M8280.6343,-1460.4134C8446.5304,-1622.4276 8641.2405,-1812.5814 8778.2827,-1946.4169"/>
<polygon fill="#000000" stroke="#000000" points="8775.9832,-1949.0634 8785.5829,-1953.5463 8780.8741,-1944.0554 8775.9832,-1949.0634"/>
</g>
<!-- 29&#45;&gt;34 -->
<g id="edge159" class="edge">
<title>29&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7625.017,-1205.3475C7002.8437,-1325.489 5606.6734,-1579.2804 4417.8507,-1682 4368.8288,-1686.2357 2684.5151,-1686.3379 2646.8507,-1718 2357.8169,-1960.9723 2538.7611,-2178.2214 2483.8507,-2551.8 2211.3376,-4405.8225 2293.7278,-4887.3198 2067.8507,-6747.6 2029.0881,-7066.8413 2165.0923,-7212.1636 1964.8507,-7463.8 1937.2528,-7498.4814 1896.9036,-7463.2377 1871.8507,-7499.8 1823.8551,-7569.8451 1814.051,-8201.798 1871.8507,-8264 1946.1721,-8343.982 2285.7577,-8221.7016 2361.8507,-8300 2427.5989,-8367.6537 2335.8132,-9078.9249 2399.8507,-9148.2 2521.304,-9279.5868 3715.9358,-9359.724 4207.8526,-9387.386"/>
<polygon fill="#000000" stroke="#000000" points="4207.7294,-9390.8845 4217.9097,-9387.9497 4208.1213,-9383.8954 4207.7294,-9390.8845"/>
</g>
<!-- 29struct0 -->
<g id="node78" class="node">
<title>29struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7153.3328,-214.5 7153.3328,-348.1 7258.3686,-348.1 7258.3686,-214.5 7153.3328,-214.5"/>
<text text-anchor="middle" x="7205.8507" y="-331.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7205.8507" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">Strike</text>
<polyline fill="none" stroke="#000000" points="7153.3328,-306.5 7258.3686,-306.5 "/>
<text text-anchor="start" x="7161.3328" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="7161.3328" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="7161.3328" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="7161.3328" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="7161.3328" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">boardIv: uint</text>
</g>
<!-- 29struct0&#45;&gt;29 -->
<g id="edge48" class="edge">
<title>29struct0&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7208.566,-348.2929C7213.6747,-408.2785 7228.0207,-496.6858 7267.8507,-562.6 7354.107,-705.3444 7488.2505,-829.8465 7615.0459,-926.3513"/>
<polygon fill="#000000" stroke="#000000" points="7615.37,-926.5965 7622.5683,-927.0266 7624.9398,-933.8366 7617.7415,-933.4065 7615.37,-926.5965"/>
</g>
<!-- 29struct1 -->
<g id="node79" class="node">
<title>29struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7276.5011,-222.9 7276.5011,-339.7 7379.2003,-339.7 7379.2003,-222.9 7276.5011,-222.9"/>
<text text-anchor="middle" x="7327.8507" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7327.8507" y="-306.3" font-family="Times,serif" font-size="14.00" fill="#000000">Board</text>
<polyline fill="none" stroke="#000000" points="7276.5011,-298.1 7379.2003,-298.1 "/>
<text text-anchor="start" x="7284.5011" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="7284.5011" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="7284.5011" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">boardIv: uint</text>
<text text-anchor="start" x="7284.5011" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">strikeIds: uint[]</text>
</g>
<!-- 29struct1&#45;&gt;29 -->
<g id="edge49" class="edge">
<title>29struct1&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7330.8338,-339.7682C7335.9644,-399.0427 7349.9162,-491.858 7387.8507,-562.6 7445.9163,-670.8834 7530.3829,-772.693 7616.3894,-859.7841"/>
<polygon fill="#000000" stroke="#000000" points="7616.5273,-859.9229 7623.5938,-861.3596 7624.9855,-868.4352 7617.919,-866.9985 7616.5273,-859.9229"/>
</g>
<!-- 29struct2 -->
<g id="node80" class="node">
<title>29struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7397.0537,-206.1 7397.0537,-356.5 7552.6477,-356.5 7552.6477,-206.1 7397.0537,-206.1"/>
<text text-anchor="middle" x="7474.8507" y="-339.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7474.8507" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionPosition</text>
<polyline fill="none" stroke="#000000" points="7397.0537,-314.9 7552.6477,-314.9 "/>
<text text-anchor="start" x="7405.0537" y="-298.3" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="7405.0537" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="7405.0537" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="7405.0537" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="7405.0537" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="7405.0537" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">state: PositionState</text>
</g>
<!-- 29struct2&#45;&gt;29 -->
<g id="edge50" class="edge">
<title>29struct2&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7491.7216,-356.7049C7506.2087,-414.6853 7529.8339,-495.8903 7561.8507,-562.6 7579.1398,-598.6232 7598.467,-634.9566 7619.0197,-670.922"/>
<polygon fill="#000000" stroke="#000000" points="7619.1566,-671.1601 7625.6159,-674.3658 7625.1411,-681.5613 7618.6818,-678.3555 7619.1566,-671.1601"/>
</g>
<!-- 29struct3 -->
<g id="node81" class="node">
<title>29struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7570.9113,-180.9 7570.9113,-381.7 7728.7901,-381.7 7728.7901,-180.9 7570.9113,-180.9"/>
<text text-anchor="middle" x="7649.8507" y="-365.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7649.8507" y="-348.3" font-family="Times,serif" font-size="14.00" fill="#000000">TradeInputParameters</text>
<polyline fill="none" stroke="#000000" points="7570.9113,-340.1 7728.7901,-340.1 "/>
<text text-anchor="start" x="7578.9113" y="-323.5" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="7578.9113" y="-306.7" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="7578.9113" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">iterations: uint</text>
<text text-anchor="start" x="7578.9113" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="7578.9113" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="7578.9113" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">setCollateralTo: uint</text>
<text text-anchor="start" x="7578.9113" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">minTotalCost: uint</text>
<text text-anchor="start" x="7578.9113" y="-205.9" font-family="Times,serif" font-size="14.00" fill="#000000">maxTotalCost: uint</text>
<text text-anchor="start" x="7578.9113" y="-189.1" font-family="Times,serif" font-size="14.00" fill="#000000">rewardRecipient: address</text>
</g>
<!-- 29struct3&#45;&gt;29 -->
<g id="edge51" class="edge">
<title>29struct3&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7679.9254,-381.9677C7696.3603,-435.7864 7717.4712,-503.0507 7737.8507,-562.6 7740.6796,-570.8662 7743.5468,-579.1926 7746.4469,-587.5672"/>
<polygon fill="#000000" stroke="#000000" points="7746.4857,-587.6793 7752.2323,-592.0356 7750.4214,-599.0156 7744.6748,-594.6593 7746.4857,-587.6793"/>
</g>
<!-- 29struct4 -->
<g id="node82" class="node">
<title>29struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7746.8763,-231.3 7746.8763,-331.3 7848.8251,-331.3 7848.8251,-231.3 7746.8763,-231.3"/>
<text text-anchor="middle" x="7797.8507" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7797.8507" y="-297.9" font-family="Times,serif" font-size="14.00" fill="#000000">TradeResult</text>
<polyline fill="none" stroke="#000000" points="7746.8763,-289.7 7848.8251,-289.7 "/>
<text text-anchor="start" x="7754.8763" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="7754.8763" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">totalCost: uint</text>
<text text-anchor="start" x="7754.8763" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">totalFee: uint</text>
</g>
<!-- 29struct4&#45;&gt;29 -->
<g id="edge52" class="edge">
<title>29struct4&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7806.911,-331.5115C7816.8502,-386.5938 7833.9467,-481.3414 7853.0157,-587.0206"/>
<polygon fill="#000000" stroke="#000000" points="7853.0373,-587.1408 7858.0392,-592.3351 7855.1683,-598.9501 7850.1663,-593.7558 7853.0373,-587.1408"/>
</g>
<!-- 29struct5 -->
<g id="node83" class="node">
<title>29struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7866.4962,-206.1 7866.4962,-356.5 8039.2052,-356.5 8039.2052,-206.1 7866.4962,-206.1"/>
<text text-anchor="middle" x="7952.8507" y="-339.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7952.8507" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">Liquidity</text>
<polyline fill="none" stroke="#000000" points="7866.4962,-314.9 8039.2052,-314.9 "/>
<text text-anchor="start" x="7874.4962" y="-298.3" font-family="Times,serif" font-size="14.00" fill="#000000">freeLiquidity: uint</text>
<text text-anchor="start" x="7874.4962" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">burnableLiquidity: uint</text>
<text text-anchor="start" x="7874.4962" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">usedCollatLiquidity: uint</text>
<text text-anchor="start" x="7874.4962" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">pendingDeltaLiquidity: uint</text>
<text text-anchor="start" x="7874.4962" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">usedDeltaLiquidity: uint</text>
<text text-anchor="start" x="7874.4962" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">NAV: uint</text>
</g>
<!-- 29struct5&#45;&gt;29 -->
<g id="edge53" class="edge">
<title>29struct5&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M7952.8507,-356.7777C7952.8507,-413.0999 7952.8507,-495.7239 7952.8507,-586.4489"/>
<polygon fill="#000000" stroke="#000000" points="7952.8508,-586.7164 7956.8508,-592.7164 7952.8507,-598.7164 7948.8508,-592.7163 7952.8508,-586.7164"/>
</g>
<!-- 29struct6 -->
<g id="node84" class="node">
<title>29struct6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8057.3363,-206.1 8057.3363,-356.5 8232.3651,-356.5 8232.3651,-206.1 8057.3363,-206.1"/>
<text text-anchor="middle" x="8144.8507" y="-339.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8144.8507" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">MarketParams</text>
<polyline fill="none" stroke="#000000" points="8057.3363,-314.9 8232.3651,-314.9 "/>
<text text-anchor="start" x="8065.3363" y="-298.3" font-family="Times,serif" font-size="14.00" fill="#000000">standardSize: uint</text>
<text text-anchor="start" x="8065.3363" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentParam: uint</text>
<text text-anchor="start" x="8065.3363" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="8065.3363" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">deltaCutOff: int</text>
<text text-anchor="start" x="8065.3363" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">tradingCutoff: uint</text>
<text text-anchor="start" x="8065.3363" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">minForceCloseDelta: int</text>
</g>
<!-- 29struct6&#45;&gt;29 -->
<g id="edge54" class="edge">
<title>29struct6&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M8127.9803,-356.7777C8115.3657,-413.2148 8096.8482,-496.0613 8076.521,-587.0045"/>
<polygon fill="#000000" stroke="#000000" points="8076.5209,-587.0053 8079.1157,-593.7334 8073.9032,-598.7164 8071.3083,-591.9883 8076.5209,-587.0053"/>
</g>
<!-- 29struct7 -->
<g id="node85" class="node">
<title>29struct7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8250.7879,-231.3 8250.7879,-331.3 8400.9135,-331.3 8400.9135,-231.3 8250.7879,-231.3"/>
<text text-anchor="middle" x="8325.8507" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8325.8507" y="-297.9" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeRateParams</text>
<polyline fill="none" stroke="#000000" points="8250.7879,-289.7 8400.9135,-289.7 "/>
<text text-anchor="start" x="8258.7879" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="8258.7879" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="8258.7879" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 29struct7&#45;&gt;29 -->
<g id="edge55" class="edge">
<title>29struct7&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M8313.6842,-331.4749C8299.2282,-388.4387 8273.0925,-483.6989 8241.8507,-562.6 8238.5865,-570.8437 8235.2483,-579.1293 8231.8437,-587.4462"/>
<polygon fill="#000000" stroke="#000000" points="8231.7343,-587.7117 8233.1456,-594.7834 8227.1607,-598.806 8225.7494,-591.7343 8231.7343,-587.7117"/>
</g>
<!-- 29enum0 -->
<g id="node86" class="node">
<title>29enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8418.7262,-214.5 8418.7262,-348.1 8592.9752,-348.1 8592.9752,-214.5 8418.7262,-214.5"/>
<text text-anchor="middle" x="8505.8507" y="-331.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="8505.8507" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionType</text>
<polyline fill="none" stroke="#000000" points="8418.7262,-306.5 8592.9752,-306.5 "/>
<text text-anchor="start" x="8426.7262" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_CALL: 0</text>
<text text-anchor="start" x="8426.7262" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_PUT: 1</text>
<text text-anchor="start" x="8426.7262" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL_BASE: 2</text>
<text text-anchor="start" x="8426.7262" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL_QUOTE: 3</text>
<text text-anchor="start" x="8426.7262" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_PUT_QUOTE: 4</text>
</g>
<!-- 29enum0&#45;&gt;29 -->
<g id="edge56" class="edge">
<title>29enum0&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M8489.9328,-348.1792C8474.3723,-406.9074 8447.5146,-493.5049 8409.8507,-562.6 8374.7013,-627.0823 8332.3243,-691.7058 8287.7313,-753.1622"/>
<polygon fill="#000000" stroke="#000000" points="8287.6284,-753.3033 8287.3238,-760.508 8280.5562,-762.9978 8280.8608,-755.7931 8287.6284,-753.3033"/>
</g>
<!-- 29enum1 -->
<g id="node87" class="node">
<title>29enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8610.8994,-206.1 8610.8994,-356.5 8726.802,-356.5 8726.802,-206.1 8610.8994,-206.1"/>
<text text-anchor="middle" x="8668.8507" y="-339.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="8668.8507" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">PositionState</text>
<polyline fill="none" stroke="#000000" points="8610.8994,-314.9 8726.802,-314.9 "/>
<text text-anchor="start" x="8618.8994" y="-298.3" font-family="Times,serif" font-size="14.00" fill="#000000">EMPTY: 0</text>
<text text-anchor="start" x="8618.8994" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">ACTIVE: 1</text>
<text text-anchor="start" x="8618.8994" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">CLOSED: 2</text>
<text text-anchor="start" x="8618.8994" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">LIQUIDATED: 3</text>
<text text-anchor="start" x="8618.8994" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">SETTLED: 4</text>
<text text-anchor="start" x="8618.8994" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">MERGED: 5</text>
</g>
<!-- 29enum1&#45;&gt;29 -->
<g id="edge57" class="edge">
<title>29enum1&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M8663.3071,-356.7136C8656.1233,-416.1855 8639.6426,-499.3587 8601.8507,-562.6 8523.1215,-694.3462 8404.4575,-812.6226 8290.038,-907.3257"/>
<polygon fill="#000000" stroke="#000000" points="8290.018,-907.3421 8287.927,-914.2435 8280.7524,-914.9677 8282.8434,-908.0664 8290.018,-907.3421"/>
</g>
<!-- 30&#45;&gt;0 -->
<g id="edge172" class="edge">
<title>30&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8679.9516,-2201.8824C8302.991,-2319.8381 7663.8532,-2522.1117 7617.8507,-2551.8 7616.1245,-2552.9141 7614.3996,-2554.0332 7612.6763,-2555.1575"/>
<polygon fill="#000000" stroke="#000000" points="7610.501,-2552.3991 7604.0719,-2560.8203 7614.3493,-2558.2463 7610.501,-2552.3991"/>
</g>
<!-- 30&#45;&gt;2 -->
<g id="edge173" class="edge">
<title>30&#45;&gt;2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8680.0385,-2170.3483C8337.3736,-2243.5806 7779.1722,-2385.1854 7655.8507,-2551.8 7603.3656,-2622.7105 7675.4039,-4076.99 7612.8507,-4139.2 7547.1302,-4204.5599 6031.4147,-4142.0671 5944.8507,-4175.2 5891.0611,-4195.7883 5838.4731,-4221.9859 5787.6799,-4251.9915"/>
<polygon fill="#000000" stroke="#000000" points="5785.6792,-4249.1094 5778.8827,-4257.2369 5789.2642,-4255.1217 5785.6792,-4249.1094"/>
</g>
<!-- 30&#45;&gt;3 -->
<g id="edge174" class="edge">
<title>30&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9036.8806,-2280.2957C9073.2345,-2359.9497 9111.5919,-2458.5004 9129.8507,-2551.8 9161.074,-2711.3454 9141.0706,-5342.432 9049.8507,-5477 8912.8989,-5679.0319 8696.1963,-5820.0974 8474.2297,-5917.97"/>
<polygon fill="#000000" stroke="#000000" points="8472.7516,-5914.7963 8464.9965,-5922.0151 8475.5606,-5921.208 8472.7516,-5914.7963"/>
</g>
<!-- 30&#45;&gt;4 -->
<g id="edge175" class="edge">
<title>30&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8691.2035,-2280.1672C8588.3311,-2353.7791 8475.1669,-2447.616 8391.8507,-2551.8 7905.3432,-3160.161 8301.0405,-3713.2409 7648.8507,-4139.2 7579.3855,-4184.5692 6216.4721,-4118.5535 6155.8507,-4175.2 5736.4071,-4567.1415 6300.8951,-6319.1222 5918.8507,-6747.6 5866.874,-6805.8939 5797.9844,-6724.5653 5746.8507,-6783.6 5697.2702,-6840.8416 5730.5601,-7392.9379 5703.8507,-7463.8 5687.1666,-7508.0643 5664.0962,-7551.4622 5637.8897,-7592.5463"/>
<polygon fill="#000000" stroke="#000000" points="5634.9128,-7590.7044 5632.4297,-7601.0042 5640.7938,-7594.501 5634.9128,-7590.7044"/>
</g>
<!-- 30&#45;&gt;5 -->
<g id="edge176" class="edge">
<title>30&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9047.2967,-2280.2032C9087.7913,-2359.4304 9130.4275,-2457.652 9150.8507,-2551.8 9426.4969,-3822.4889 9288.94,-4189.7124 9105.8507,-5477 9023.8037,-6053.8666 9209.1951,-6350.4384 8782.8507,-6747.6 8716.765,-6809.1622 8642.9404,-6716.1725 8582.8507,-6783.6 8482.0836,-6896.6721 8618.9274,-7334.625 8539.8507,-7463.8 8497.2821,-7533.3376 8438.4534,-7592.692 8372.7755,-7642.938"/>
<polygon fill="#000000" stroke="#000000" points="8370.5974,-7640.1969 8364.7326,-7649.0205 8374.8198,-7645.7801 8370.5974,-7640.1969"/>
</g>
<!-- 30&#45;&gt;27 -->
<g id="edge177" class="edge">
<title>30&#45;&gt;27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8927.305,-2280.366C8891.0615,-2512.2869 8825.0091,-2934.9535 8787.9402,-3172.1555"/>
<polygon fill="#000000" stroke="#000000" points="8784.4471,-3171.8402 8786.361,-3182.2608 8791.3631,-3172.9211 8784.4471,-3171.8402"/>
</g>
<!-- 30&#45;&gt;35 -->
<g id="edge171" class="edge">
<title>30&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M9225.7118,-2255.5066C9416.0576,-2345.5449 9678.7195,-2456.7729 9922.8507,-2515.8 9969.0223,-2526.9636 10316.3,-2517.2039 10348.8507,-2551.8 10457.5809,-2667.3624 10403.6211,-8118.2715 10340.8507,-8264 10260.7168,-8450.0399 10067.3615,-8601.6332 9959.2556,-8675.4517"/>
<polygon fill="none" stroke="#000000" points="9953.1481,-8666.9045 9934.0466,-8692.3089 9964.8214,-8684.3611 9953.1481,-8666.9045"/>
</g>
<!-- 30struct0 -->
<g id="node89" class="node">
<title>30struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8829.9723,-1023.1 8829.9723,-1257.5 9075.7291,-1257.5 9075.7291,-1023.1 8829.9723,-1023.1"/>
<text text-anchor="middle" x="8952.8507" y="-1240.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8952.8507" y="-1224.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketAddresses</text>
<polyline fill="none" stroke="#000000" points="8829.9723,-1215.9 9075.7291,-1215.9 "/>
<text text-anchor="start" x="8837.9723" y="-1199.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="8837.9723" y="-1182.5" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityToken: LiquidityToken</text>
<text text-anchor="start" x="8837.9723" y="-1165.7" font-family="Times,serif" font-size="14.00" fill="#000000">greekCache: OptionGreekCache</text>
<text text-anchor="start" x="8837.9723" y="-1148.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarket: OptionMarket</text>
<text text-anchor="start" x="8837.9723" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarketPricer: OptionMarketPricer</text>
<text text-anchor="start" x="8837.9723" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: OptionToken</text>
<text text-anchor="start" x="8837.9723" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">poolHedger: PoolHedger</text>
<text text-anchor="start" x="8837.9723" y="-1081.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="8837.9723" y="-1064.9" font-family="Times,serif" font-size="14.00" fill="#000000">gwavOracle: GWAVOracle</text>
<text text-anchor="start" x="8837.9723" y="-1048.1" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: IERC20</text>
<text text-anchor="start" x="8837.9723" y="-1031.3" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: IERC20</text>
</g>
<!-- 30struct0&#45;&gt;30 -->
<g id="edge58" class="edge">
<title>30struct0&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M8952.8507,-1257.6154C8952.8507,-1427.5121 8952.8507,-1743.3011 8952.8507,-1941.1029"/>
<polygon fill="#000000" stroke="#000000" points="8952.8508,-1941.3695 8956.8508,-1947.3696 8952.8507,-1953.3695 8948.8508,-1947.3695 8952.8508,-1941.3695"/>
</g>
<!-- 31 -->
<g id="node90" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2176.9709,-7769.1 2176.9709,-7994.7 3038.7305,-7994.7 3038.7305,-7769.1 2176.9709,-7769.1"/>
<text text-anchor="middle" x="2607.8507" y="-7978.1" font-family="Times,serif" font-size="14.00" fill="#000000">MultistepSwapper</text>
<polyline fill="none" stroke="#000000" points="2176.9709,-7969.9 3038.7305,-7969.9 "/>
<text text-anchor="start" x="2184.9709" y="-7953.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2184.9709" y="-7936.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapRouter: ISwapRouter</text>
<text text-anchor="start" x="2184.9709" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="2184.9709" y="-7902.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="2184.9709" y="-7886.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;approved: mapping(IERC20=&gt;bool)</text>
<text text-anchor="start" x="2184.9709" y="-7869.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT_MAX: uint</text>
<polyline fill="none" stroke="#000000" points="2176.9709,-7861.1 3038.7305,-7861.1 "/>
<text text-anchor="start" x="2184.9709" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2184.9709" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; swap(tokenIn: IERC20, tokenInCurrencyKey: bytes32, amountIn: uint, swaps: Swap[], amountOutMinimum: uint): (amountOut: uint)</text>
<text text-anchor="start" x="2184.9709" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_swapRouter: ISwapRouter, _synthetix: ISynthetix)</text>
<text text-anchor="start" x="2184.9709" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2184.9709" y="-7777.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 31&#45;&gt;18 -->
<g id="edge178" class="edge">
<title>31&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M2508.2406,-7994.8456C2419.3971,-8086.5741 2280.4018,-8209.3618 2129.8507,-8264 2044.0804,-8295.1279 563.8837,-8249.5572 487.8507,-8300 364.967,-8381.5251 320.7003,-8562.8325 305.4309,-8659.875"/>
<polygon fill="#000000" stroke="#000000" points="301.9567,-8659.4411 303.9165,-8669.8531 308.8775,-8660.4915 301.9567,-8659.4411"/>
</g>
<!-- 31&#45;&gt;19 -->
<g id="edge179" class="edge">
<title>31&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M2697.0805,-7994.7255C2777.5581,-8086.7129 2904.9664,-8209.9371 3047.8507,-8264 3271.7044,-8348.6992 7125.4899,-8235.0512 7355.8507,-8300 8108.6126,-8512.2366 8863.5872,-9122.5193 9104.1408,-9329.0355"/>
<polygon fill="#000000" stroke="#000000" points="9101.931,-9331.7513 9111.7946,-9335.6192 9106.4959,-9326.4445 9101.931,-9331.7513"/>
</g>
<!-- 31struct0 -->
<g id="node91" class="node">
<title>31struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2510.6252,-7065.3 2510.6252,-7182.1 2705.0762,-7182.1 2705.0762,-7065.3 2510.6252,-7065.3"/>
<text text-anchor="middle" x="2607.8507" y="-7165.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2607.8507" y="-7148.7" font-family="Times,serif" font-size="14.00" fill="#000000">Swap</text>
<polyline fill="none" stroke="#000000" points="2510.6252,-7140.5 2705.0762,-7140.5 "/>
<text text-anchor="start" x="2518.6252" y="-7123.9" font-family="Times,serif" font-size="14.00" fill="#000000">swapType: SwapType</text>
<text text-anchor="start" x="2518.6252" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOut: address</text>
<text text-anchor="start" x="2518.6252" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOutCurrencyKey: bytes32</text>
<text text-anchor="start" x="2518.6252" y="-7073.5" font-family="Times,serif" font-size="14.00" fill="#000000">poolFee: uint24</text>
</g>
<!-- 31struct0&#45;&gt;31 -->
<g id="edge59" class="edge">
<title>31struct0&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M2607.8507,-7182.2494C2607.8507,-7304.8352 2607.8507,-7590.8476 2607.8507,-7756.7452"/>
<polygon fill="#000000" stroke="#000000" points="2607.8508,-7756.9699 2611.8508,-7762.9699 2607.8507,-7768.9699 2603.8508,-7762.9698 2607.8508,-7756.9699"/>
</g>
<!-- 31enum0 -->
<g id="node92" class="node">
<title>31enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2408.8209,-7082.1 2408.8209,-7165.3 2492.8805,-7165.3 2492.8805,-7082.1 2408.8209,-7082.1"/>
<text text-anchor="middle" x="2450.8507" y="-7148.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2450.8507" y="-7131.9" font-family="Times,serif" font-size="14.00" fill="#000000">SwapType</text>
<polyline fill="none" stroke="#000000" points="2408.8209,-7123.7 2492.8805,-7123.7 "/>
<text text-anchor="start" x="2416.8209" y="-7107.1" font-family="Times,serif" font-size="14.00" fill="#000000">Synthetix: 0</text>
<text text-anchor="start" x="2416.8209" y="-7090.3" font-family="Times,serif" font-size="14.00" fill="#000000">Uniswap: 1</text>
</g>
<!-- 31enum0&#45;&gt;31 -->
<g id="edge60" class="edge">
<title>31enum0&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M2455.7655,-7165.5553C2463.635,-7229.967 2480.3853,-7357.1253 2501.8507,-7463.8 2521.8644,-7563.2601 2550.3832,-7674.5485 2572.7994,-7757.2884"/>
<polygon fill="#000000" stroke="#000000" points="2572.8424,-7757.447 2578.2763,-7762.1875 2575.9905,-7769.0267 2570.5565,-7764.2862 2572.8424,-7757.447"/>
</g>
<!-- 32 -->
<g id="node93" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9964.4268,-1852.9 9964.4268,-2380.9 11085.2746,-2380.9 11085.2746,-1852.9 9964.4268,-1852.9"/>
<text text-anchor="middle" x="10524.8507" y="-2364.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketViewer</text>
<polyline fill="none" stroke="#000000" points="9964.4268,-2356.1 11085.2746,-2356.1 "/>
<text text-anchor="start" x="9972.4268" y="-2339.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9972.4268" y="-2322.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="9972.4268" y="-2305.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="9972.4268" y="-2289.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarkets: OptionMarket[]</text>
<text text-anchor="start" x="9972.4268" y="-2272.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;marketAddresses: mapping(OptionMarket=&gt;OptionMarketAddresses)</text>
<polyline fill="none" stroke="#000000" points="9964.4268,-2264.1 11085.2746,-2264.1 "/>
<text text-anchor="start" x="9972.4268" y="-2247.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="9972.4268" y="-2230.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMarket(marketC: OptionMarketAddresses, isGlobalPaused: bool): MarketView</text>
<text text-anchor="start" x="9972.4268" y="-2213.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMarketParams(marketC: OptionMarketAddresses): (params: MarketParameters)</text>
<text text-anchor="start" x="9972.4268" y="-2197.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getBoard(marketC: OptionMarketAddresses, boardId: uint): BoardView</text>
<text text-anchor="start" x="9972.4268" y="-2180.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getStrikeViews(strikes: OptionMarket.Strike[], boardGreeksView: OptionGreekCache.BoardGreeksView, strikeToBaseReturnedRatios: uint[], priceAtExpiry: uint): (strikeViews: StrikeView[])</text>
<text text-anchor="start" x="9972.4268" y="-2163.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9972.4268" y="-2146.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter)</text>
<text text-anchor="start" x="9972.4268" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addMarket(newMarketAddresses: OptionMarketAddresses)</text>
<text text-anchor="start" x="9972.4268" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMarket(market: OptionMarket)</text>
<text text-anchor="start" x="9972.4268" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarketAddresses(): OptionMarketAddresses[]</text>
<text text-anchor="start" x="9972.4268" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarkets(markets: OptionMarket[]): (marketsView: MarketsView)</text>
<text text-anchor="start" x="9972.4268" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwnerPositions(account: address): MarketOptionPositions[]</text>
<text text-anchor="start" x="9972.4268" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwnerPositionsInRange(market: OptionMarket, account: address, start: uint, limit: uint): OptionToken.OptionPosition[]</text>
<text text-anchor="start" x="9972.4268" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoard(market: OptionMarket, boardId: uint): BoardView</text>
<text text-anchor="start" x="9972.4268" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardForBaseKey(baseKey: bytes32, boardId: uint): BoardView</text>
<text text-anchor="start" x="9972.4268" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardForStrikeId(market: OptionMarket, strikeId: uint): BoardView</text>
<text text-anchor="start" x="9972.4268" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidityBalancesAndAllowances(markets: OptionMarket[], account: address): LiquidityBalanceAndAllowance[]</text>
<text text-anchor="start" x="9972.4268" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9972.4268" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketAdded(market: OptionMarketAddresses)</text>
<text text-anchor="start" x="9972.4268" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketRemoved(market: OptionMarket)</text>
<text text-anchor="start" x="9972.4268" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="9972.4268" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarketForBaseKey(baseKey: bytes32): (market: MarketViewWithBoards)</text>
<text text-anchor="start" x="9972.4268" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarket(market: OptionMarket): MarketViewWithBoards</text>
<text text-anchor="start" x="9972.4268" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(market: OptionMarket): (marketBoards: BoardView[])</text>
</g>
<!-- 32&#45;&gt;0 -->
<g id="edge181" class="edge">
<title>32&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9964.233,-2327.335C9740.6373,-2401.4273 9478.8085,-2476.093 9234.8507,-2515.8 9061.64,-2543.9921 7816.4952,-2481.1592 7655.8507,-2551.8 7641.5963,-2558.0681 7627.4771,-2564.7419 7613.4989,-2571.789"/>
<polygon fill="#000000" stroke="#000000" points="7611.6451,-2568.8058 7604.3336,-2576.4734 7614.8308,-2575.0389 7611.6451,-2568.8058"/>
</g>
<!-- 32&#45;&gt;2 -->
<g id="edge182" class="edge">
<title>32&#45;&gt;2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9964.2086,-2324.6892C9740.4692,-2398.4878 9478.5461,-2473.6447 9234.8507,-2515.8 9142.4707,-2531.7802 8469.865,-2499.8075 8391.8507,-2551.8 7743.6442,-2983.7965 8301.6754,-3714.2146 7648.8507,-4139.2 7569.4964,-4190.8592 6033.2898,-4141.3725 5944.8507,-4175.2 5891.0565,-4195.776 5838.465,-4221.9646 5787.6692,-4251.9636"/>
<polygon fill="#000000" stroke="#000000" points="5785.6691,-4249.0812 5778.8716,-4257.208 5789.2534,-4255.0939 5785.6691,-4249.0812"/>
</g>
<!-- 32&#45;&gt;3 -->
<g id="edge184" class="edge">
<title>32&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9964.3312,-2215.9886C9768.0301,-2279.2601 9565.2512,-2382.7321 9438.8507,-2551.8 9047.8849,-3074.7391 9546.2244,-4948.4698 9162.8507,-5477 8997.2227,-5705.3396 8734.4862,-5854.7915 8474.6292,-5952.2154"/>
<polygon fill="#000000" stroke="#000000" points="8473.1461,-5949.0329 8464.9969,-5955.8035 8475.5896,-5955.5926 8473.1461,-5949.0329"/>
</g>
<!-- 32&#45;&gt;4 -->
<g id="edge185" class="edge">
<title>32&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9964.3818,-2248.3963C9675.4845,-2328.0716 9365.0687,-2436.3996 9274.8507,-2551.8 9056.6824,-2830.8652 9389.9837,-3898.7721 9129.8507,-4139.2 9070.6271,-4193.9375 6285.9478,-4120.3259 6226.8507,-4175.2 6016.6133,-4370.414 6199.5496,-6537.8138 6003.8507,-6747.6 5933.5725,-6822.9372 5843.7974,-6707.0424 5774.8507,-6783.6 5724.2068,-6839.8345 5767.9529,-7393.5334 5739.8507,-7463.8 5721.944,-7508.5739 5697.1723,-7551.9243 5668.9328,-7592.6762"/>
<polygon fill="#000000" stroke="#000000" points="5665.9277,-7590.8654 5663.048,-7601.0614 5671.6575,-7594.8866 5665.9277,-7590.8654"/>
</g>
<!-- 32&#45;&gt;5 -->
<g id="edge186" class="edge">
<title>32&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9986.616,-2380.9097C9922.8696,-2430.407 9864.4053,-2487.2606 9818.8507,-2551.8 9393.3849,-3154.5783 9555.5203,-3442.1501 9471.8507,-4175.2 9463.7463,-4246.2045 9478.6284,-6696.3213 9428.8507,-6747.6 9368.8073,-6809.454 8715.3134,-6723.1561 8653.8507,-6783.6 8545.863,-6889.7977 8692.565,-7336.2771 8610.8507,-7463.8 8552.3035,-7555.1685 8466.6507,-7627.9991 8373.4007,-7685.5513"/>
<polygon fill="#000000" stroke="#000000" points="8371.3567,-7682.6984 8364.6457,-7690.8968 8375.0045,-7688.6728 8371.3567,-7682.6984"/>
</g>
<!-- 32&#45;&gt;8 -->
<g id="edge183" class="edge">
<title>32&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M10848.9432,-2380.9291C11357.3192,-2827.0167 12284.8507,-3783.7324 12284.8507,-4826.1 12284.8507,-4826.1 12284.8507,-4826.1 12284.8507,-7123.7 12284.8507,-7187.064 12305.0852,-8218.6314 12260.8507,-8264 12202.4184,-8323.9306 11603.1745,-8271.908 11485.6469,-8300.5825"/>
<polygon fill="#000000" stroke="#000000" points="11484.6177,-8297.2371 11476.0793,-8303.5098 11486.6658,-8303.9308 11484.6177,-8297.2371"/>
</g>
<!-- 32&#45;&gt;35 -->
<g id="edge180" class="edge">
<title>32&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M10524.8507,-2381.2856C10524.8507,-2865.9928 10524.8507,-3929.5006 10524.8507,-4826.1 10524.8507,-4826.1 10524.8507,-4826.1 10524.8507,-6130.3 10524.8507,-6740.4294 10468.1009,-6890.8708 10429.8507,-7499.8 10424.5191,-7584.6781 10423.3482,-8187.1843 10386.8507,-8264 10293.8851,-8459.6631 10076.6167,-8610.5365 9960.0294,-8680.7887"/>
<polygon fill="none" stroke="#000000" points="9954.5538,-8671.8279 9934.0466,-8696.1119 9965.2215,-8689.9166 9954.5538,-8671.8279"/>
</g>
<!-- 32struct0 -->
<g id="node94" class="node">
<title>32struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11146.1385,-1090.3 11146.1385,-1190.3 11361.5629,-1190.3 11361.5629,-1090.3 11146.1385,-1090.3"/>
<text text-anchor="middle" x="11253.8507" y="-1173.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="11253.8507" y="-1156.9" font-family="Times,serif" font-size="14.00" fill="#000000">MarketsView</text>
<polyline fill="none" stroke="#000000" points="11146.1385,-1148.7 11361.5629,-1148.7 "/>
<text text-anchor="start" x="11154.1385" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">addressResolver: IAddressResolver</text>
<text text-anchor="start" x="11154.1385" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">isPaused: bool</text>
<text text-anchor="start" x="11154.1385" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">markets: MarketView[]</text>
</g>
<!-- 32struct0&#45;&gt;32 -->
<g id="edge61" class="edge">
<title>32struct0&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M11254.6824,-1190.4505C11254.0186,-1291.8562 11240.3806,-1524.9574 11136.8507,-1682 11097.2645,-1742.0476 11046.3111,-1796.4143 10990.7298,-1844.7593"/>
<polygon fill="#000000" stroke="#000000" points="10990.5041,-1844.9534 10988.5627,-1851.8983 10981.4053,-1852.7773 10983.3467,-1845.8324 10990.5041,-1844.9534"/>
</g>
<!-- 32struct1 -->
<g id="node95" class="node">
<title>32struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11379.7924,-1039.9 11379.7924,-1240.7 11695.909,-1240.7 11695.909,-1039.9 11379.7924,-1039.9"/>
<text text-anchor="middle" x="11537.8507" y="-1224.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="11537.8507" y="-1207.3" font-family="Times,serif" font-size="14.00" fill="#000000">MarketView</text>
<polyline fill="none" stroke="#000000" points="11379.7924,-1199.1 11695.909,-1199.1 "/>
<text text-anchor="start" x="11387.7924" y="-1182.5" font-family="Times,serif" font-size="14.00" fill="#000000">isPaused: bool</text>
<text text-anchor="start" x="11387.7924" y="-1165.7" font-family="Times,serif" font-size="14.00" fill="#000000">totalQueuedDeposits: uint</text>
<text text-anchor="start" x="11387.7924" y="-1148.9" font-family="Times,serif" font-size="14.00" fill="#000000">totalQueuedWithdrawals: uint</text>
<text text-anchor="start" x="11387.7924" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">tokenPrice: uint</text>
<text text-anchor="start" x="11387.7924" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">marketAddresses: OptionMarketAddresses</text>
<text text-anchor="start" x="11387.7924" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">marketParameters: MarketParameters</text>
<text text-anchor="start" x="11387.7924" y="-1081.7" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: LiquidityPool.Liquidity</text>
<text text-anchor="start" x="11387.7924" y="-1064.9" font-family="Times,serif" font-size="14.00" fill="#000000">globalNetGreeks: OptionGreekCache.NetGreeks</text>
<text text-anchor="start" x="11387.7924" y="-1048.1" font-family="Times,serif" font-size="14.00" fill="#000000">exchangeParams: SynthetixAdapter.ExchangeParams</text>
</g>
<!-- 32struct1&#45;&gt;32 -->
<g id="edge62" class="edge">
<title>32struct1&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M11530.1726,-1240.7752C11516.353,-1358.7034 11477.8354,-1554.3373 11370.8507,-1682 11296.052,-1771.2558 11198.271,-1844.3377 11095.8439,-1903.3839"/>
<polygon fill="#000000" stroke="#000000" points="11095.6963,-1903.4681 11092.4689,-1909.9167 11085.2751,-1909.4179 11088.5024,-1902.9692 11095.6963,-1903.4681"/>
</g>
<!-- 32struct2 -->
<g id="node96" class="node">
<title>32struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9093.7924,-1031.5 9093.7924,-1249.1 9409.909,-1249.1 9409.909,-1031.5 9093.7924,-1031.5"/>
<text text-anchor="middle" x="9251.8507" y="-1232.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9251.8507" y="-1215.7" font-family="Times,serif" font-size="14.00" fill="#000000">MarketViewWithBoards</text>
<polyline fill="none" stroke="#000000" points="9093.7924,-1207.5 9409.909,-1207.5 "/>
<text text-anchor="start" x="9101.7924" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#000000">isPaused: bool</text>
<text text-anchor="start" x="9101.7924" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">totalQueuedDeposits: uint</text>
<text text-anchor="start" x="9101.7924" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">totalQueuedWithdrawals: uint</text>
<text text-anchor="start" x="9101.7924" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">tokenPrice: uint</text>
<text text-anchor="start" x="9101.7924" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">marketAddresses: OptionMarketAddresses</text>
<text text-anchor="start" x="9101.7924" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">marketParameters: MarketParameters</text>
<text text-anchor="start" x="9101.7924" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: LiquidityPool.Liquidity</text>
<text text-anchor="start" x="9101.7924" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">globalNetGreeks: OptionGreekCache.NetGreeks</text>
<text text-anchor="start" x="9101.7924" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">liveBoards: BoardView[]</text>
<text text-anchor="start" x="9101.7924" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">exchangeParams: SynthetixAdapter.ExchangeParams</text>
</g>
<!-- 32struct2&#45;&gt;32 -->
<g id="edge63" class="edge">
<title>32struct2&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M9251.3964,-1249.1372C9257.3493,-1375.1543 9288.2593,-1578.6107 9418.8507,-1682 9511.7528,-1755.5506 9839.0407,-1678.7696 9950.8507,-1718 10036.7414,-1748.1362 10121.577,-1794.8573 10198.6024,-1845.8575"/>
<polygon fill="#000000" stroke="#000000" points="10198.949,-1846.0888 10206.1601,-1846.0934 10208.9294,-1852.7516 10201.7183,-1852.747 10198.949,-1846.0888"/>
</g>
<!-- 32struct3 -->
<g id="node97" class="node">
<title>32struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9428.1647,-1031.5 9428.1647,-1249.1 9809.5367,-1249.1 9809.5367,-1031.5 9428.1647,-1031.5"/>
<text text-anchor="middle" x="9618.8507" y="-1232.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9618.8507" y="-1215.7" font-family="Times,serif" font-size="14.00" fill="#000000">MarketParameters</text>
<polyline fill="none" stroke="#000000" points="9428.1647,-1207.5 9809.5367,-1207.5 "/>
<text text-anchor="start" x="9436.1647" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarketParams: OptionMarket.OptionMarketParameters</text>
<text text-anchor="start" x="9436.1647" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">lpParams: LiquidityPool.LiquidityPoolParameters</text>
<text text-anchor="start" x="9436.1647" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">greekCacheParams: OptionGreekCache.GreekCacheParameters</text>
<text text-anchor="start" x="9436.1647" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">forceCloseParams: OptionGreekCache.ForceCloseParameters</text>
<text text-anchor="start" x="9436.1647" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">minCollatParams: OptionGreekCache.MinCollateralParameters</text>
<text text-anchor="start" x="9436.1647" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">pricingParams: OptionMarketPricer.PricingParameters</text>
<text text-anchor="start" x="9436.1647" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">tradeLimitParams: OptionMarketPricer.TradeLimitParameters</text>
<text text-anchor="start" x="9436.1647" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">varianceFeeParams: OptionMarketPricer.VarianceFeeParameters</text>
<text text-anchor="start" x="9436.1647" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">partialCollatParams: OptionToken.PartialCollateralParameters</text>
<text text-anchor="start" x="9436.1647" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">poolHedgerParams: PoolHedger.PoolHedgerParameters</text>
</g>
<!-- 32struct3&#45;&gt;32 -->
<g id="edge64" class="edge">
<title>32struct3&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M9629.6806,-1249.3606C9647.696,-1371.9604 9695.1307,-1568.6503 9818.8507,-1682 9863.6875,-1723.0785 9895.7505,-1692.2757 9950.8507,-1718 10026.7282,-1753.4245 10103.4051,-1798.7344 10174.9375,-1846.0266"/>
<polygon fill="#000000" stroke="#000000" points="10175.0023,-1846.0697 10182.2134,-1846.0596 10184.9963,-1852.7121 10177.7851,-1852.7222 10175.0023,-1846.0697"/>
</g>
<!-- 32struct4 -->
<g id="node98" class="node">
<title>32struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9827.5834,-1014.7 9827.5834,-1265.9 10114.118,-1265.9 10114.118,-1014.7 9827.5834,-1014.7"/>
<text text-anchor="middle" x="9970.8507" y="-1249.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9970.8507" y="-1232.5" font-family="Times,serif" font-size="14.00" fill="#000000">StrikeView</text>
<polyline fill="none" stroke="#000000" points="9827.5834,-1224.3 10114.118,-1224.3 "/>
<text text-anchor="start" x="9835.5834" y="-1207.7" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="9835.5834" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="9835.5834" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint</text>
<text text-anchor="start" x="9835.5834" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="9835.5834" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">forceCloseSkew: uint</text>
<text text-anchor="start" x="9835.5834" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">cachedGreeks: OptionGreekCache.StrikeGreeks</text>
<text text-anchor="start" x="9835.5834" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">baseReturnedRatio: uint</text>
<text text-anchor="start" x="9835.5834" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">longCallOpenInterest: uint</text>
<text text-anchor="start" x="9835.5834" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">longPutOpenInterest: uint</text>
<text text-anchor="start" x="9835.5834" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortCallBaseOpenInterest: uint</text>
<text text-anchor="start" x="9835.5834" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortCallQuoteOpenInterest: uint</text>
<text text-anchor="start" x="9835.5834" y="-1022.9" font-family="Times,serif" font-size="14.00" fill="#000000">shortPutOpenInterest: uint</text>
</g>
<!-- 32struct4&#45;&gt;32 -->
<g id="edge65" class="edge">
<title>32struct4&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M9988.8531,-1266.1213C10009.0856,-1380.2467 10049.2009,-1550.2807 10122.8507,-1682 10154.2645,-1738.182 10194.3545,-1792.894 10236.9989,-1843.495"/>
<polygon fill="#000000" stroke="#000000" points="10237.2174,-1843.7521 10244.1512,-1845.7328 10244.9897,-1852.895 10238.0559,-1850.9143 10237.2174,-1843.7521"/>
</g>
<!-- 32struct5 -->
<g id="node99" class="node">
<title>32struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10132.0736,-1039.9 10132.0736,-1240.7 10383.6278,-1240.7 10383.6278,-1039.9 10132.0736,-1039.9"/>
<text text-anchor="middle" x="10257.8507" y="-1224.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="10257.8507" y="-1207.3" font-family="Times,serif" font-size="14.00" fill="#000000">BoardView</text>
<polyline fill="none" stroke="#000000" points="10132.0736,-1199.1 10383.6278,-1199.1 "/>
<text text-anchor="start" x="10140.0736" y="-1182.5" font-family="Times,serif" font-size="14.00" fill="#000000">market: address</text>
<text text-anchor="start" x="10140.0736" y="-1165.7" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="10140.0736" y="-1148.9" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="10140.0736" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">baseIv: uint</text>
<text text-anchor="start" x="10140.0736" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">priceAtExpiry: uint</text>
<text text-anchor="start" x="10140.0736" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">isPaused: bool</text>
<text text-anchor="start" x="10140.0736" y="-1081.7" font-family="Times,serif" font-size="14.00" fill="#000000">forceCloseGwavIV: uint</text>
<text text-anchor="start" x="10140.0736" y="-1064.9" font-family="Times,serif" font-size="14.00" fill="#000000">netGreeks: OptionGreekCache.NetGreeks</text>
<text text-anchor="start" x="10140.0736" y="-1048.1" font-family="Times,serif" font-size="14.00" fill="#000000">strikes: StrikeView[]</text>
</g>
<!-- 32struct5&#45;&gt;32 -->
<g id="edge66" class="edge">
<title>32struct5&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M10281.2891,-1240.7838C10307.0993,-1349.8355 10350.5682,-1528.9011 10392.8507,-1682 10407.1119,-1733.6379 10423.0931,-1788.475 10438.8787,-1841.1826"/>
<polygon fill="#000000" stroke="#000000" points="10438.9003,-1841.2547 10444.4562,-1845.8518 10442.3496,-1852.7483 10436.7938,-1848.1513 10438.9003,-1841.2547"/>
</g>
<!-- 32struct6 -->
<g id="node100" class="node">
<title>32struct6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10401.7434,-1098.7 10401.7434,-1181.9 10647.958,-1181.9 10647.958,-1098.7 10401.7434,-1098.7"/>
<text text-anchor="middle" x="10524.8507" y="-1165.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="10524.8507" y="-1148.5" font-family="Times,serif" font-size="14.00" fill="#000000">MarketOptionPositions</text>
<polyline fill="none" stroke="#000000" points="10401.7434,-1140.3 10647.958,-1140.3 "/>
<text text-anchor="start" x="10409.7434" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">market: address</text>
<text text-anchor="start" x="10409.7434" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">positions: OptionToken.OptionPosition[]</text>
</g>
<!-- 32struct6&#45;&gt;32 -->
<g id="edge67" class="edge">
<title>32struct6&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M10524.8507,-1181.9509C10524.8507,-1293.6449 10524.8507,-1607.1703 10524.8507,-1840.5492"/>
<polygon fill="#000000" stroke="#000000" points="10524.8508,-1840.6483 10528.8508,-1846.6483 10524.8507,-1852.6483 10520.8508,-1846.6483 10524.8508,-1840.6483"/>
</g>
<!-- 32struct7 -->
<g id="node101" class="node">
<title>32struct7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10665.9723,-1031.5 10665.9723,-1249.1 10911.7291,-1249.1 10911.7291,-1031.5 10665.9723,-1031.5"/>
<text text-anchor="middle" x="10788.8507" y="-1232.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="10788.8507" y="-1215.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketAddresses</text>
<polyline fill="none" stroke="#000000" points="10665.9723,-1207.5 10911.7291,-1207.5 "/>
<text text-anchor="start" x="10673.9723" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="10673.9723" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityToken: LiquidityToken</text>
<text text-anchor="start" x="10673.9723" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">greekCache: OptionGreekCache</text>
<text text-anchor="start" x="10673.9723" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarket: OptionMarket</text>
<text text-anchor="start" x="10673.9723" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarketPricer: OptionMarketPricer</text>
<text text-anchor="start" x="10673.9723" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: OptionToken</text>
<text text-anchor="start" x="10673.9723" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="10673.9723" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">poolHedger: PoolHedger</text>
<text text-anchor="start" x="10673.9723" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: IERC20</text>
<text text-anchor="start" x="10673.9723" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: IERC20</text>
</g>
<!-- 32struct7&#45;&gt;32 -->
<g id="edge68" class="edge">
<title>32struct7&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M10764.1958,-1249.1864C10738.9138,-1358.8977 10697.6266,-1532.8398 10656.8507,-1682 10642.7244,-1733.6749 10626.8066,-1788.5295 10611.0411,-1841.2426"/>
<polygon fill="#000000" stroke="#000000" points="10611.0196,-1841.3147 10613.1284,-1848.2106 10607.574,-1852.8094 10605.4652,-1845.9135 10611.0196,-1841.3147"/>
</g>
<!-- 32struct8 -->
<g id="node102" class="node">
<title>32struct8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10929.878,-1090.3 10929.878,-1190.3 11127.8234,-1190.3 11127.8234,-1090.3 10929.878,-1090.3"/>
<text text-anchor="middle" x="11028.8507" y="-1173.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="11028.8507" y="-1156.9" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityBalanceAndAllowance</text>
<polyline fill="none" stroke="#000000" points="10929.878,-1148.7 11127.8234,-1148.7 "/>
<text text-anchor="start" x="10937.878" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
<text text-anchor="start" x="10937.878" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">balance: uint</text>
<text text-anchor="start" x="10937.878" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: uint</text>
</g>
<!-- 32struct8&#45;&gt;32 -->
<g id="edge69" class="edge">
<title>32struct8&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M11027.6897,-1190.6253C11023.5473,-1289.8967 11004.8319,-1515.7271 10920.8507,-1682 10892.355,-1738.4182 10854.4885,-1792.9787 10813.4486,-1843.2816"/>
<polygon fill="#000000" stroke="#000000" points="10813.3814,-1843.3632 10812.6528,-1850.5374 10805.7502,-1852.6241 10806.4788,-1845.4499 10813.3814,-1843.3632"/>
</g>
<!-- 63 -->
<g id="node103" class="node">
<title>63</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9480.888,-4679.7 9480.888,-4972.5 10344.8134,-4972.5 10344.8134,-4679.7 9480.888,-4679.7"/>
<text text-anchor="middle" x="9912.8507" y="-4955.9" font-family="Times,serif" font-size="14.00" fill="#000000">BasicOptionMarketWrapper</text>
<polyline fill="none" stroke="#000000" points="9480.888,-4947.7 10344.8134,-4947.7 "/>
<text text-anchor="start" x="9488.888" y="-4931.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9488.888" y="-4914.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;marketContracts: mapping(OptionMarket=&gt;OptionMarketContracts)</text>
<polyline fill="none" stroke="#000000" points="9480.888,-4906.1 10344.8134,-4906.1 "/>
<text text-anchor="start" x="9488.888" y="-4889.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="9488.888" y="-4872.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_takeExtraCollateral(c: OptionMarketContracts, optionType: OptionMarket.OptionType, extraCollateral: uint)</text>
<text text-anchor="start" x="9488.888" y="-4855.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_returnExcessFunds(c: OptionMarketContracts)</text>
<text text-anchor="start" x="9488.888" y="-4839.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLong(optionType: OptionMarket.OptionType): bool</text>
<text text-anchor="start" x="9488.888" y="-4822.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isCall(optionType: OptionMarket.OptionType): bool</text>
<text text-anchor="start" x="9488.888" y="-4805.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isBaseCollateral(optionType: OptionMarket.OptionType): bool</text>
<text text-anchor="start" x="9488.888" y="-4788.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9488.888" y="-4771.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateMarket(optionMarket: OptionMarket, _marketContracts: OptionMarketContracts)</text>
<text text-anchor="start" x="9488.888" y="-4755.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(optionMarket: OptionMarket, params: OptionMarket.TradeInputParameters, extraCollateral: uint): (result: OptionMarket.Result)</text>
<text text-anchor="start" x="9488.888" y="-4738.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(optionMarket: OptionMarket, params: OptionMarket.TradeInputParameters, extraCollateral: uint): (result: OptionMarket.Result)</text>
<text text-anchor="start" x="9488.888" y="-4721.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;forceClosePosition(optionMarket: OptionMarket, params: OptionMarket.TradeInputParameters, extraCollateral: uint): (result: OptionMarket.Result)</text>
<text text-anchor="start" x="9488.888" y="-4704.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9488.888" y="-4687.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 63&#45;&gt;3 -->
<g id="edge188" class="edge">
<title>63&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9809.5367,-4972.7335C9700.8163,-5117.8147 9517.567,-5337.7944 9314.8507,-5477 9061.2824,-5651.1258 8754.5801,-5788.6034 8474.3833,-5891.6104"/>
<polygon fill="#000000" stroke="#000000" points="8473.0303,-5888.3785 8464.8462,-5895.1069 8475.4399,-5894.9507 8473.0303,-5888.3785"/>
</g>
<!-- 63&#45;&gt;35 -->
<g id="edge187" class="edge">
<title>63&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M9953.1441,-4972.5032C10039.8372,-5295.9846 10241.7952,-6097.3732 10310.8507,-6783.6 10327.3202,-6947.2623 10371.0426,-8110.9198 10310.8507,-8264 10239.9133,-8444.4084 10061.2484,-8596.0404 9958.5814,-8671.9258"/>
<polygon fill="none" stroke="#000000" points="9952.3704,-8663.4595 9934.2288,-8689.5581 9964.686,-8680.4691 9952.3704,-8663.4595"/>
</g>
<!-- 63struct0 -->
<g id="node104" class="node">
<title>63struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9828.0537,-3295.5 9828.0537,-3395.5 9997.6477,-3395.5 9997.6477,-3295.5 9828.0537,-3295.5"/>
<text text-anchor="middle" x="9912.8507" y="-3378.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9912.8507" y="-3362.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketContracts</text>
<polyline fill="none" stroke="#000000" points="9828.0537,-3353.9 9997.6477,-3353.9 "/>
<text text-anchor="start" x="9836.0537" y="-3337.3" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: IERC20</text>
<text text-anchor="start" x="9836.0537" y="-3320.5" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: IERC20</text>
<text text-anchor="start" x="9836.0537" y="-3303.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: OptionToken</text>
</g>
<!-- 63struct0&#45;&gt;63 -->
<g id="edge70" class="edge">
<title>63struct0&#45;&gt;63</title>
<path fill="none" stroke="#000000" d="M9912.8507,-3395.6106C9912.8507,-3595.1383 9912.8507,-4338.1891 9912.8507,-4667.3845"/>
<polygon fill="#000000" stroke="#000000" points="9912.8508,-4667.3975 9916.8508,-4673.3976 9912.8507,-4679.3975 9908.8508,-4673.3975 9912.8508,-4667.3975"/>
</g>
<!-- 64 -->
<g id="node105" class="node">
<title>64</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2325.1094,-985.5 2325.1094,-1295.1 2762.592,-1295.1 2762.592,-985.5 2325.1094,-985.5"/>
<text text-anchor="middle" x="2543.8507" y="-1278.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketWrapper</text>
<polyline fill="none" stroke="#000000" points="2325.1094,-1270.3 2762.592,-1270.3 "/>
<text text-anchor="middle" x="2543.8507" y="-1253.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2325.1094,-1245.5 2762.592,-1245.5 "/>
<text text-anchor="start" x="2333.1094" y="-1228.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2333.1094" y="-1212.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_parseUint8(inp: uint): uint</text>
<text text-anchor="start" x="2333.1094" y="-1195.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_parseUint32Amount(inp: uint): uint</text>
<text text-anchor="start" x="2333.1094" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_parseUint32(inp: uint): uint</text>
<text text-anchor="start" x="2333.1094" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_parseUint64Amount(inp: uint): uint</text>
<text text-anchor="start" x="2333.1094" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertDecimal(amount: uint, inputAsset: ERC20): (newAmount: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2333.1094" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openLong(params: uint): (totalCost: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addLong(params: uint): (totalCost: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reduceLong(params: uint): (totalReceived: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closeLong(params: uint): (totalReceived: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openShort(params: uint): (totalReceived: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addShort(params: uint): (totalReceived: uint)</text>
<text text-anchor="start" x="2333.1094" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reduceShort(params: uint): (totalCost: uint)</text>
<text text-anchor="start" x="2333.1094" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closeShort(params: uint): (totalCost: uint)</text>
</g>
<!-- 65 -->
<g id="node106" class="node">
<title>65</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1350.0007,-1718.5 1350.0007,-2515.3 2381.7007,-2515.3 2381.7007,-1718.5 1350.0007,-1718.5"/>
<text text-anchor="middle" x="1865.8507" y="-2498.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketWrapperWithSwaps</text>
<polyline fill="none" stroke="#000000" points="1350.0007,-2490.5 2381.7007,-2490.5 "/>
<text text-anchor="start" x="1358.0007" y="-2473.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1358.0007" y="-2457.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;cachedDecimals: mapping(ERC20=&gt;uint8)</text>
<text text-anchor="start" x="1358.0007" y="-2440.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;cachedSymbol: mapping(ERC20=&gt;string)</text>
<text text-anchor="start" x="1358.0007" y="-2423.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1358.0007" y="-2406.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;curveSwap: ICurve</text>
<text text-anchor="start" x="1358.0007" y="-2389.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="1358.0007" y="-2373.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingRewards: IFeeCounter</text>
<text text-anchor="start" x="1358.0007" y="-2356.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minReturnPercent: uint</text>
<text text-anchor="start" x="1358.0007" y="-2339.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ercIds: uint8[]</text>
<text text-anchor="start" x="1358.0007" y="-2322.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;idToERC: mapping(uint8=&gt;ERC20)</text>
<text text-anchor="start" x="1358.0007" y="-2305.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;marketIds: uint8[]</text>
<text text-anchor="start" x="1358.0007" y="-2289.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;idToMarket: mapping(uint8=&gt;OptionMarket)</text>
<text text-anchor="start" x="1358.0007" y="-2272.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;marketContracts: mapping(OptionMarket=&gt;OptionMarketContracts)</text>
<polyline fill="none" stroke="#000000" points="1350.0007,-2264.1 2381.7007,-2264.1 "/>
<text text-anchor="start" x="1358.0007" y="-2247.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1358.0007" y="-2230.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_openPosition(params: OptionPositionParams): (returnDetails: ReturnDetails)</text>
<text text-anchor="start" x="1358.0007" y="-2213.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_closePosition(params: OptionPositionParams, forceClose: bool): (returnDetails: ReturnDetails)</text>
<text text-anchor="start" x="1358.0007" y="-2197.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getReturnDetails(params: OptionPositionParams, result: OptionMarket.Result, swapFee: int): ReturnDetails</text>
<text text-anchor="start" x="1358.0007" y="-2180.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_returnQuote(quoteAsset: ERC20, inputAsset: ERC20): (quoteBalance: uint, swapFee: int)</text>
<text text-anchor="start" x="1358.0007" y="-2163.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_returnBase(baseAsset: ERC20, token: OptionToken, positionId: uint)</text>
<text text-anchor="start" x="1358.0007" y="-2146.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLong(optionType: OptionMarket.OptionType): bool</text>
<text text-anchor="start" x="1358.0007" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_swapWithCurve(from: ERC20, to: ERC20, amount: uint, expected: uint, receiver: address): (amountOut: uint, swapFee: int)</text>
<text text-anchor="start" x="1358.0007" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkValidStable(token: address): bool</text>
<text text-anchor="start" x="1358.0007" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transferBaseCollateral(optionType: OptionMarket.OptionType, currentCollateral: uint, setCollateralTo: uint, baseAsset: ERC20)</text>
<text text-anchor="start" x="1358.0007" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transferAsset(asset: ERC20, from: address, to: address, amount: uint)</text>
<text text-anchor="start" x="1358.0007" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_approveAsset(asset: ERC20, approving: address)</text>
<text text-anchor="start" x="1358.0007" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_composeTradeParams(params: OptionPositionParams): (tradeParameters: OptionMarket.TradeInputParameters)</text>
<text text-anchor="start" x="1358.0007" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_emitEvent(returnDetails: ReturnDetails, isOpen: bool, isLong: bool)</text>
<text text-anchor="start" x="1358.0007" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_incrementTradingRewards(market: address, trader: address, amount: uint, totalCost: uint, totalFee: uint)</text>
<text text-anchor="start" x="1358.0007" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1358.0007" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateContractParams(_curveSwap: ICurve, _synthetixAdapter: SynthetixAdapter, _tradingRewards: IFeeCounter, _minReturnPercent: uint)</text>
<text text-anchor="start" x="1358.0007" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addCurveStable(token: ERC20, id: uint8)</text>
<text text-anchor="start" x="1358.0007" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeCurveStable(id: uint8)</text>
<text text-anchor="start" x="1358.0007" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addMarket(optionMarket: OptionMarket, id: uint8, _marketContracts: OptionMarketContracts)</text>
<text text-anchor="start" x="1358.0007" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMarket(id: uint8)</text>
<text text-anchor="start" x="1358.0007" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(params: OptionPositionParams): (returnDetails: ReturnDetails)</text>
<text text-anchor="start" x="1358.0007" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(params: OptionPositionParams): (returnDetails: ReturnDetails)</text>
<text text-anchor="start" x="1358.0007" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;forceClosePosition(params: OptionPositionParams): (returnDetails: ReturnDetails)</text>
<text text-anchor="start" x="1358.0007" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBalancesAndAllowances(owner: address): (StableAssetView[], MarketAssetView[], LiquidityBalanceAndAllowance[])</text>
<text text-anchor="start" x="1358.0007" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;quoteCurveSwap(fromToken: address, toToken: address, amountIn: uint): (pool: address, amountOut: uint)</text>
<text text-anchor="start" x="1358.0007" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1358.0007" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionTraded(isOpen: bool, isLong: bool, market: address, positionId: uint, owner: address, amount: uint, totalCost: uint, totalFee: uint, swapFee: int, token: address)</text>
<text text-anchor="start" x="1358.0007" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WrapperParamsUpdated(curveSwap: ICurve, synthetixAdapter: SynthetixAdapter, tradingRewards: IFeeCounter, minReturnPercent: uint)</text>
<text text-anchor="start" x="1358.0007" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SetCollateralTo(newCollateral: uint)</text>
<text text-anchor="start" x="1358.0007" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="1358.0007" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarketAndErcIds(): (uint8[], uint8[])</text>
</g>
<!-- 64&#45;&gt;65 -->
<g id="edge189" class="edge">
<title>64&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M2497.382,-1295.1732C2459.1256,-1408.3166 2397.8573,-1562.2406 2315.8507,-1682 2313.1064,-1686.0077 2310.3206,-1690.0081 2307.4958,-1694.0002"/>
<polygon fill="none" stroke="#000000" points="2298.8831,-1687.9901 2289.6709,-1718.4103 2315.8427,-1700.3745 2298.8831,-1687.9901"/>
</g>
<!-- 65&#45;&gt;0 -->
<g id="edge193" class="edge">
<title>65&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2381.9819,-2267.5466C2719.5367,-2358.4591 3171.9473,-2466.0429 3579.8507,-2515.8 3720.5993,-2532.9689 6001.807,-2495.2884 6131.8507,-2551.8 6146.1322,-2558.0061 6160.2768,-2564.6218 6174.2788,-2571.6147"/>
<polygon fill="#000000" stroke="#000000" points="6172.9569,-2574.8685 6183.4595,-2576.264 6176.1195,-2568.6236 6172.9569,-2574.8685"/>
</g>
<!-- 65&#45;&gt;1 -->
<g id="edge194" class="edge">
<title>65&#45;&gt;1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2146.0013,-2515.4392C2152.856,-2527.5928 2159.4902,-2539.7292 2165.8507,-2551.8 3255.7797,-4620.2322 2220.6728,-6006.363 4048.8507,-7463.8 4137.6604,-7534.5997 4207.9722,-7435.8737 4301.8507,-7499.8 4383.2113,-7555.2022 4437.6827,-7651.8221 4471.7018,-7734.0374"/>
<polygon fill="#000000" stroke="#000000" points="4468.5319,-7735.5335 4475.5443,-7743.4756 4475.0152,-7732.894 4468.5319,-7735.5335"/>
</g>
<!-- 65&#45;&gt;3 -->
<g id="edge195" class="edge">
<title>65&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2381.9891,-2267.487C2719.5469,-2358.3753 3171.9581,-2465.9546 3579.8507,-2515.8 3648.1279,-2524.1436 6007.5672,-2502.8093 6055.8507,-2551.8 6117.7547,-2614.6106 6111.251,-4070.5845 6055.8507,-4139.2 6008.1532,-4198.2753 5936.5482,-4116.1247 5888.8507,-4175.2 5843.4179,-4231.4704 5838.7299,-5424.8617 5888.8507,-5477 5959.1316,-5550.1098 6704.9619,-5479.9883 6800.8507,-5513 6814.9484,-5517.8534 6829.0155,-5523.0206 6843.0398,-5528.4767"/>
<polygon fill="#000000" stroke="#000000" points="6842.155,-5531.8899 6852.7419,-5532.2998 6844.7214,-5525.3773 6842.155,-5531.8899"/>
</g>
<!-- 65&#45;&gt;5 -->
<g id="edge192" class="edge">
<title>65&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2381.9925,-2267.4599C2719.5515,-2358.3373 3171.963,-2465.9146 3579.8507,-2515.8 3647.2172,-2524.0391 5975.2153,-2503.4575 6022.8507,-2551.8 6053.7996,-2583.2083 6050.6734,-4104.9916 6022.8507,-4139.2 5973.2961,-4200.1281 5899.4054,-4114.2719 5849.8507,-4175.2 5690.3293,-4371.3339 5924.2965,-7368.1648 6025.8507,-7463.8 6075.6805,-7510.7255 7160.1843,-7479.4572 7295.0276,-7500.7178"/>
<polygon fill="#000000" stroke="#000000" points="7294.3016,-7504.1417 7304.8194,-7502.8665 7295.8021,-7497.3044 7294.3016,-7504.1417"/>
</g>
<!-- 65&#45;&gt;11 -->
<g id="edge196" class="edge">
<title>65&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M1961.3287,-2515.4123C1963.3227,-2527.655 1965.1724,-2539.8055 1966.8507,-2551.8 2066.959,-3267.2388 2024.4478,-3453.1705 2047.8507,-4175.2 2071.5358,-4905.9341 2301.3394,-6822.1685 1950.8507,-7463.8 1939.3849,-7484.7901 1920.5813,-7477.9513 1910.8507,-7499.8 1876.3056,-7577.3663 1853.0792,-8201.7718 1910.8507,-8264 1984.2312,-8343.0412 2297.9832,-8252.5776 2394.8507,-8300 2549.8307,-8375.8719 2671.0142,-8544.4141 2732.7852,-8644.6801"/>
<polygon fill="#000000" stroke="#000000" points="2729.833,-8646.5614 2738.0342,-8653.269 2735.806,-8642.9112 2729.833,-8646.5614"/>
</g>
<!-- 65&#45;&gt;15 -->
<g id="edge197" class="edge">
<title>65&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M1898.1821,-2515.5189C1930.5699,-2929.9434 1979.3117,-3597.5896 2005.8507,-4175.2 2032.09,-4746.2862 2112.98,-6180.8694 2037.8507,-6747.6 1992.345,-7090.8684 1880.3565,-7156.5316 1834.8507,-7499.8 1790.2159,-7836.4988 1748.1907,-7935.5972 1834.8507,-8264 1875.8388,-8419.3266 1982.6735,-8577.2043 2046.2313,-8661.6248"/>
<polygon fill="#000000" stroke="#000000" points="2043.6044,-8663.9535 2052.4327,-8669.8112 2049.1842,-8659.7266 2043.6044,-8663.9535"/>
</g>
<!-- 65&#45;&gt;34 -->
<g id="edge191" class="edge">
<title>65&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1373.9458,-2515.3733C951.4463,-2891.9977 372.5024,-3498.9355 124.8507,-4175.2 -128.8664,-4868.0274 -3.3374,-7014.4259 581.8507,-7463.8 656.8499,-7521.3929 940.9742,-7431.0042 1005.8507,-7499.8 1068.7018,-7566.4479 985.6472,-9081.8862 1048.8507,-9148.2 1158.2614,-9262.9949 3488.0837,-9362.3558 4207.8982,-9390.4067"/>
<polygon fill="#000000" stroke="#000000" points="4207.9884,-9393.9128 4218.117,-9390.8044 4208.2607,-9386.9181 4207.9884,-9393.9128"/>
</g>
<!-- 65&#45;&gt;35 -->
<g id="edge190" class="edge">
<title>65&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M2381.8558,-2268.597C2719.3595,-2359.9345 3171.7607,-2467.5972 3579.8507,-2515.8 3656.4035,-2524.8423 9074.9551,-2497.6838 9129.8507,-2551.8 9161.2591,-2582.7625 9157.4006,-4095.4341 9162.8507,-4139.2 9238.2595,-4744.7549 9310.4854,-4888.4897 9471.8507,-5477 9633.0049,-6064.7403 9793.877,-6181.4553 9887.8507,-6783.6 9936.9338,-7098.1044 9888.6285,-7181.4887 9888.8507,-7499.8 9889.0878,-7839.4444 9891.0652,-7924.3628 9888.8507,-8264 9887.9684,-8399.3262 9885.6264,-8557.0271 9884.143,-8648.2319"/>
<polygon fill="none" stroke="#000000" points="9873.6419,-8648.2192 9883.6442,-8678.3888 9894.639,-8648.5666 9873.6419,-8648.2192"/>
</g>
<!-- 65struct0 -->
<g id="node107" class="node">
<title>65struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1219.6042,-1073.5 1219.6042,-1207.1 1414.0972,-1207.1 1414.0972,-1073.5 1219.6042,-1073.5"/>
<text text-anchor="middle" x="1316.8507" y="-1190.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1316.8507" y="-1173.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketContracts</text>
<polyline fill="none" stroke="#000000" points="1219.6042,-1165.5 1414.0972,-1165.5 "/>
<text text-anchor="start" x="1227.6042" y="-1148.9" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: ERC20</text>
<text text-anchor="start" x="1227.6042" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: ERC20</text>
<text text-anchor="start" x="1227.6042" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: OptionToken</text>
<text text-anchor="start" x="1227.6042" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="1227.6042" y="-1081.7" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityToken: LiquidityToken</text>
</g>
<!-- 65struct0&#45;&gt;65 -->
<g id="edge71" class="edge">
<title>65struct0&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M1317.4367,-1207.4684C1321.02,-1314.2529 1339.1431,-1526.5393 1422.8507,-1682 1427.5277,-1690.686 1432.4366,-1699.3069 1437.5548,-1707.8562"/>
<polygon fill="#000000" stroke="#000000" points="1437.6467,-1708.0068 1444.1874,-1711.0432 1443.9002,-1718.2486 1437.3595,-1715.2122 1437.6467,-1708.0068"/>
</g>
<!-- 65struct1 -->
<g id="node108" class="node">
<title>65struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1431.6473,-1014.7 1431.6473,-1265.9 1670.0541,-1265.9 1670.0541,-1014.7 1431.6473,-1014.7"/>
<text text-anchor="middle" x="1550.8507" y="-1249.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1550.8507" y="-1232.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionPositionParams</text>
<polyline fill="none" stroke="#000000" points="1431.6473,-1224.3 1670.0541,-1224.3 "/>
<text text-anchor="start" x="1439.6473" y="-1207.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarket: OptionMarket</text>
<text text-anchor="start" x="1439.6473" y="-1190.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikeId: uint</text>
<text text-anchor="start" x="1439.6473" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="1439.6473" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">iterations: uint</text>
<text text-anchor="start" x="1439.6473" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">setCollateralTo: uint</text>
<text text-anchor="start" x="1439.6473" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">currentCollateral: uint</text>
<text text-anchor="start" x="1439.6473" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionMarket.OptionType</text>
<text text-anchor="start" x="1439.6473" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="1439.6473" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">minCost: uint</text>
<text text-anchor="start" x="1439.6473" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">maxCost: uint</text>
<text text-anchor="start" x="1439.6473" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">inputAmount: uint</text>
<text text-anchor="start" x="1439.6473" y="-1022.9" font-family="Times,serif" font-size="14.00" fill="#000000">inputAsset: ERC20</text>
</g>
<!-- 65struct1&#45;&gt;65 -->
<g id="edge72" class="edge">
<title>65struct1&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M1574.0867,-1265.9914C1596.1105,-1376.8953 1632.6629,-1542.184 1678.8507,-1682 1681.5758,-1690.249 1684.3946,-1698.5583 1687.2948,-1706.9087"/>
<polygon fill="#000000" stroke="#000000" points="1687.3255,-1706.9964 1693.0866,-1711.3335 1691.2989,-1718.3195 1685.5378,-1713.9824 1687.3255,-1706.9964"/>
</g>
<!-- 65struct2 -->
<g id="node109" class="node">
<title>65struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1687.7304,-1048.3 1687.7304,-1232.3 1791.971,-1232.3 1791.971,-1048.3 1687.7304,-1048.3"/>
<text text-anchor="middle" x="1739.8507" y="-1215.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1739.8507" y="-1198.9" font-family="Times,serif" font-size="14.00" fill="#000000">ReturnDetails</text>
<polyline fill="none" stroke="#000000" points="1687.7304,-1190.7 1791.971,-1190.7 "/>
<text text-anchor="start" x="1695.7304" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">market: address</text>
<text text-anchor="start" x="1695.7304" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">positionId: uint</text>
<text text-anchor="start" x="1695.7304" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="1695.7304" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="1695.7304" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">totalCost: uint</text>
<text text-anchor="start" x="1695.7304" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">totalFee: uint</text>
<text text-anchor="start" x="1695.7304" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">swapFee: int</text>
<text text-anchor="start" x="1695.7304" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
</g>
<!-- 65struct2&#45;&gt;65 -->
<g id="edge73" class="edge">
<title>65struct2&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M1749.1989,-1232.437C1760.3831,-1340.3265 1780.2004,-1524.3523 1800.8507,-1682 1801.9,-1690.0101 1802.9735,-1698.1011 1804.0676,-1706.2526"/>
<polygon fill="#000000" stroke="#000000" points="1804.0799,-1706.3443 1808.8464,-1711.7554 1805.6848,-1718.2365 1800.9183,-1712.8254 1804.0799,-1706.3443"/>
</g>
<!-- 65struct3 -->
<g id="node110" class="node">
<title>65struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1809.6445,-1065.1 1809.6445,-1215.5 1922.0569,-1215.5 1922.0569,-1065.1 1809.6445,-1065.1"/>
<text text-anchor="middle" x="1865.8507" y="-1198.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1865.8507" y="-1182.1" font-family="Times,serif" font-size="14.00" fill="#000000">StableAssetView</text>
<polyline fill="none" stroke="#000000" points="1809.6445,-1173.9 1922.0569,-1173.9 "/>
<text text-anchor="start" x="1817.6445" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint8</text>
<text text-anchor="start" x="1817.6445" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
<text text-anchor="start" x="1817.6445" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">decimals: uint8</text>
<text text-anchor="start" x="1817.6445" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">symbol: string</text>
<text text-anchor="start" x="1817.6445" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">balance: uint</text>
<text text-anchor="start" x="1817.6445" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: uint</text>
</g>
<!-- 65struct3&#45;&gt;65 -->
<g id="edge74" class="edge">
<title>65struct3&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M1865.8507,-1215.7146C1865.8507,-1321.3864 1865.8507,-1521.3399 1865.8507,-1706.1022"/>
<polygon fill="#000000" stroke="#000000" points="1865.8508,-1706.249 1869.8508,-1712.249 1865.8507,-1718.249 1861.8508,-1712.249 1865.8508,-1706.249"/>
</g>
<!-- 65struct4 -->
<g id="node111" class="node">
<title>65struct4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1940.3861,-1048.3 1940.3861,-1232.3 2091.3153,-1232.3 2091.3153,-1048.3 1940.3861,-1048.3"/>
<text text-anchor="middle" x="2015.8507" y="-1215.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2015.8507" y="-1198.9" font-family="Times,serif" font-size="14.00" fill="#000000">MarketAssetView</text>
<polyline fill="none" stroke="#000000" points="1940.3861,-1190.7 2091.3153,-1190.7 "/>
<text text-anchor="start" x="1948.3861" y="-1174.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint8</text>
<text text-anchor="start" x="1948.3861" y="-1157.3" font-family="Times,serif" font-size="14.00" fill="#000000">market: OptionMarket</text>
<text text-anchor="start" x="1948.3861" y="-1140.5" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
<text text-anchor="start" x="1948.3861" y="-1123.7" font-family="Times,serif" font-size="14.00" fill="#000000">decimals: uint8</text>
<text text-anchor="start" x="1948.3861" y="-1106.9" font-family="Times,serif" font-size="14.00" fill="#000000">symbol: string</text>
<text text-anchor="start" x="1948.3861" y="-1090.1" font-family="Times,serif" font-size="14.00" fill="#000000">balance: uint</text>
<text text-anchor="start" x="1948.3861" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: uint</text>
<text text-anchor="start" x="1948.3861" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">isApprovedForAll: bool</text>
</g>
<!-- 65struct4&#45;&gt;65 -->
<g id="edge75" class="edge">
<title>65struct4&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M2001.6715,-1232.6159C1984.9038,-1341.7852 1955.8617,-1530.8688 1928.9256,-1706.2404"/>
<polygon fill="#000000" stroke="#000000" points="1928.8942,-1706.4452 1931.937,-1712.9829 1927.0724,-1718.3061 1924.0297,-1711.7684 1928.8942,-1706.4452"/>
</g>
<!-- 65struct5 -->
<g id="node112" class="node">
<title>65struct5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2108.878,-1090.3 2108.878,-1190.3 2306.8234,-1190.3 2306.8234,-1090.3 2108.878,-1090.3"/>
<text text-anchor="middle" x="2207.8507" y="-1173.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2207.8507" y="-1156.9" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityBalanceAndAllowance</text>
<polyline fill="none" stroke="#000000" points="2108.878,-1148.7 2306.8234,-1148.7 "/>
<text text-anchor="start" x="2116.878" y="-1132.1" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
<text text-anchor="start" x="2116.878" y="-1115.3" font-family="Times,serif" font-size="14.00" fill="#000000">balance: uint</text>
<text text-anchor="start" x="2116.878" y="-1098.5" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: uint</text>
</g>
<!-- 65struct5&#45;&gt;65 -->
<g id="edge76" class="edge">
<title>65struct5&#45;&gt;65</title>
<path fill="none" stroke="#000000" d="M2202.8685,-1190.5518C2192.1373,-1287.8232 2162.5615,-1507.6138 2099.8507,-1682 2096.8587,-1690.3202 2093.728,-1698.6758 2090.4747,-1707.0505"/>
<polygon fill="#000000" stroke="#000000" points="2090.369,-1707.3185 2091.8872,-1714.368 2085.9639,-1718.4807 2084.4457,-1711.4312 2090.369,-1707.3185"/>
</g>
<!-- 33 -->
<g id="node113" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10295,-9648.9 10295,-9908.1 10710.7014,-9908.1 10710.7014,-9648.9 10295,-9648.9"/>
<text text-anchor="middle" x="10502.8507" y="-9891.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="10502.8507" y="-9874.7" font-family="Times,serif" font-size="14.00" fill="#000000">AbstractOwned</text>
<polyline fill="none" stroke="#000000" points="10295,-9866.5 10710.7014,-9866.5 "/>
<text text-anchor="start" x="10303" y="-9849.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10303" y="-9833.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="10303" y="-9816.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nominatedOwner: address</text>
<polyline fill="none" stroke="#000000" points="10295,-9808.1 10710.7014,-9808.1 "/>
<text text-anchor="start" x="10303" y="-9791.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="10303" y="-9774.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_onlyOwner()</text>
<text text-anchor="start" x="10303" y="-9757.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="10303" y="-9741.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;nominateNewOwner(_owner: address)</text>
<text text-anchor="start" x="10303" y="-9724.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;acceptOwnership()</text>
<text text-anchor="start" x="10303" y="-9707.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10303" y="-9690.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnerNominated(newOwner: address)</text>
<text text-anchor="start" x="10303" y="-9673.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnerChanged(oldOwner: address, newOwner: address)</text>
<text text-anchor="start" x="10303" y="-9657.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
</g>
<!-- 35&#45;&gt;33 -->
<g id="edge198" class="edge">
<title>35&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M9899.6557,-8770.0806C9950.8988,-8906.7733 10114.934,-9319.3402 10330.8507,-9612.4 10334.0104,-9616.6886 10337.2854,-9620.9645 10340.6564,-9625.2184"/>
<polygon fill="none" stroke="#000000" points="10332.8391,-9632.2372 10360.1652,-9648.471 10348.9269,-9618.7396 10332.8391,-9632.2372"/>
</g>
<!-- 36&#45;&gt;33 -->
<g id="edge199" class="edge">
<title>36&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M10923.1928,-9444.161C10865.2642,-9490.2372 10772.8555,-9563.7389 10689.4155,-9630.1068"/>
<polygon fill="none" stroke="#000000" points="10682.812,-9621.9428 10665.8695,-9648.8353 10695.8844,-9638.3779 10682.812,-9621.9428"/>
</g>
<!-- 38 -->
<g id="node118" class="node">
<title>38</title>
<polygon fill="#f2f2f2" stroke="#000000" points="567.4271,-9327.5 567.4271,-9469.1 888.2743,-9469.1 888.2743,-9327.5 567.4271,-9327.5"/>
<text text-anchor="middle" x="727.8507" y="-9452.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="727.8507" y="-9435.7" font-family="Times,serif" font-size="14.00" fill="#000000">BytesLib</text>
<polyline fill="none" stroke="#000000" points="567.4271,-9427.5 888.2743,-9427.5 "/>
<text text-anchor="middle" x="727.8507" y="-9410.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="567.4271,-9402.7 888.2743,-9402.7 "/>
<text text-anchor="start" x="575.4271" y="-9386.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="575.4271" y="-9369.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;slice(_bytes: bytes, _start: uint, _length: uint): bytes</text>
<text text-anchor="start" x="575.4271" y="-9352.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toAddress(_bytes: bytes, _start: uint): address</text>
<text text-anchor="start" x="575.4271" y="-9335.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toUint24(_bytes: bytes, _start: uint): uint24</text>
</g>
<!-- 39 -->
<g id="node119" class="node">
<title>39</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6768.0684,-9335.9 6768.0684,-9460.7 7007.633,-9460.7 7007.633,-9335.9 6768.0684,-9335.9"/>
<text text-anchor="middle" x="6887.8507" y="-9444.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6887.8507" y="-9427.3" font-family="Times,serif" font-size="14.00" fill="#000000">ITestERC20</text>
<polyline fill="none" stroke="#000000" points="6768.0684,-9419.1 7007.633,-9419.1 "/>
<text text-anchor="middle" x="6887.8507" y="-9402.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6768.0684,-9394.3 7007.633,-9394.3 "/>
<text text-anchor="start" x="6776.0684" y="-9377.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6776.0684" y="-9360.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="6776.0684" y="-9344.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(account: address, amount: uint)</text>
</g>
<!-- 40 -->
<g id="node120" class="node">
<title>40</title>
<polygon fill="#f2f2f2" stroke="#000000" points="133.6715,-4755.3 133.6715,-4896.9 290.0299,-4896.9 290.0299,-4755.3 133.6715,-4755.3"/>
<text text-anchor="middle" x="211.8507" y="-4880.3" font-family="Times,serif" font-size="14.00" fill="#000000">MathTest</text>
<polyline fill="none" stroke="#000000" points="133.6715,-4872.1 290.0299,-4872.1 "/>
<text text-anchor="middle" x="211.8507" y="-4855.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="133.6715,-4847.3 290.0299,-4847.3 "/>
<text text-anchor="start" x="141.6715" y="-4830.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="141.6715" y="-4813.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lnV1(x: int): (r: int)</text>
<text text-anchor="start" x="141.6715" y="-4797.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;expV1(x: int): (r: uint)</text>
<text text-anchor="start" x="141.6715" y="-4780.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lnV2(x: uint): (r: int)</text>
<text text-anchor="start" x="141.6715" y="-4763.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;expV2(x: int): (r: uint)</text>
</g>
<!-- 40&#45;&gt;21 -->
<g id="edge200" class="edge">
<title>40&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M197.4275,-4897.1542C174.9536,-5030.0967 148.4327,-5317.3838 298.8507,-5477 356.2986,-5537.9609 429.5885,-5449.187 483.8507,-5513 572.7559,-5617.5535 426.4694,-6648.9188 521.8507,-6747.6 607.7454,-6836.4663 976.2632,-6711.7859 1076.8507,-6783.6 1155.0057,-6839.3984 1190.3278,-6946.663 1206.1776,-7025.8717"/>
<polygon fill="#000000" stroke="#000000" points="1202.7763,-7026.7182 1208.1063,-7035.8747 1209.6497,-7025.3929 1202.7763,-7026.7182"/>
</g>
<!-- 43 -->
<g id="node124" class="node">
<title>43</title>
<polygon fill="#f2f2f2" stroke="#000000" points="332.4755,-6017.5 332.4755,-6243.1 475.2259,-6243.1 475.2259,-6017.5 332.4755,-6017.5"/>
<text text-anchor="middle" x="403.8507" y="-6226.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="403.8507" y="-6209.7" font-family="Times,serif" font-size="14.00" fill="#000000">OldBlackScholesMath</text>
<polyline fill="none" stroke="#000000" points="332.4755,-6201.5 475.2259,-6201.5 "/>
<text text-anchor="start" x="340.4755" y="-6184.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="340.4755" y="-6168.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: uint</text>
<text text-anchor="start" x="340.4755" y="-6151.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_EXP: int</text>
<text text-anchor="start" x="340.4755" y="-6134.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_EXP: uint</text>
<text text-anchor="start" x="340.4755" y="-6117.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LN_2: uint</text>
<polyline fill="none" stroke="#000000" points="332.4755,-6109.5 475.2259,-6109.5 "/>
<text text-anchor="start" x="340.4755" y="-6092.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="340.4755" y="-6076.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;floor(x: uint): uint</text>
<text text-anchor="start" x="340.4755" y="-6059.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln(x: uint): int</text>
<text text-anchor="start" x="340.4755" y="-6042.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: uint): uint</text>
<text text-anchor="start" x="340.4755" y="-6025.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: int): uint</text>
</g>
<!-- 40&#45;&gt;43 -->
<g id="edge201" class="edge">
<title>40&#45;&gt;43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M220.7,-4896.9788C235.7818,-5016.6572 267.8515,-5266.3581 298.8507,-5477 326.0936,-5662.1175 361.1759,-5876.1409 383.0933,-6007.3474"/>
<polygon fill="#000000" stroke="#000000" points="379.6781,-6008.1454 384.7791,-6017.4314 386.5823,-6006.9912 379.6781,-6008.1454"/>
</g>
<!-- 41 -->
<g id="node121" class="node">
<title>41</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11579.2517,-2020.9 11579.2517,-2212.9 12304.4497,-2212.9 12304.4497,-2020.9 11579.2517,-2020.9"/>
<text text-anchor="middle" x="11941.8507" y="-2196.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="11941.8507" y="-2179.5" font-family="Times,serif" font-size="14.00" fill="#000000">AggregatorV2V3Interface</text>
<polyline fill="none" stroke="#000000" points="11579.2517,-2171.3 12304.4497,-2171.3 "/>
<text text-anchor="middle" x="11941.8507" y="-2154.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="11579.2517,-2146.5 12304.4497,-2146.5 "/>
<text text-anchor="start" x="11587.2517" y="-2129.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="11587.2517" y="-2113.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;latestRound(): uint</text>
<text text-anchor="start" x="11587.2517" y="-2096.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="11587.2517" y="-2079.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAnswer(roundId: uint): int</text>
<text text-anchor="start" x="11587.2517" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTimestamp(roundId: uint): uint</text>
<text text-anchor="start" x="11587.2517" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getRoundData(_roundId: uint80): (roundId: uint80, answer: int, startedAt: uint, updatedAt: uint, answeredInRound: uint80)</text>
<text text-anchor="start" x="11587.2517" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;latestRoundData(): (roundId: uint80, answer: int, startedAt: uint, updatedAt: uint, answeredInRound: uint80)</text>
</g>
<!-- 42 -->
<g id="node122" class="node">
<title>42</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11713.9765,-951.9 11713.9765,-1328.7 12169.7249,-1328.7 12169.7249,-951.9 11713.9765,-951.9"/>
<text text-anchor="middle" x="11941.8507" y="-1312.1" font-family="Times,serif" font-size="14.00" fill="#000000">MockAggregatorV2V3</text>
<polyline fill="none" stroke="#000000" points="11713.9765,-1303.9 12169.7249,-1303.9 "/>
<text text-anchor="start" x="11721.9765" y="-1287.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11721.9765" y="-1270.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;roundId: uint80</text>
<text text-anchor="start" x="11721.9765" y="-1253.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;keyDecimals: uint8</text>
<text text-anchor="start" x="11721.9765" y="-1236.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;entries: mapping(uint=&gt;Entry)</text>
<text text-anchor="start" x="11721.9765" y="-1220.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allRoundDataShouldRevert: bool</text>
<text text-anchor="start" x="11721.9765" y="-1203.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;latestRoundDataShouldRevert: bool</text>
<polyline fill="none" stroke="#000000" points="11713.9765,-1195.1 12169.7249,-1195.1 "/>
<text text-anchor="start" x="11721.9765" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="11721.9765" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLatestAnswer(answer: int, timestamp: uint)</text>
<text text-anchor="start" x="11721.9765" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLatestAnswerWithRound(answer: int, timestamp: uint, _roundId: uint80)</text>
<text text-anchor="start" x="11721.9765" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAllRoundDataShouldRevert(_shouldRevert: bool)</text>
<text text-anchor="start" x="11721.9765" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLatestRoundDataShouldRevert(_shouldRevert: bool)</text>
<text text-anchor="start" x="11721.9765" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDecimals(_decimals: uint8)</text>
<text text-anchor="start" x="11721.9765" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latestRoundData(): (uint80, int, uint, uint, uint80)</text>
<text text-anchor="start" x="11721.9765" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="11721.9765" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAnswer(_roundId: uint): int</text>
<text text-anchor="start" x="11721.9765" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTimestamp(_roundId: uint): uint</text>
<text text-anchor="start" x="11721.9765" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11721.9765" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="11721.9765" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latestRound(): uint</text>
<text text-anchor="start" x="11721.9765" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getRoundData(_roundId: uint80): (uint80, int, uint, uint, uint80)</text>
</g>
<!-- 42&#45;&gt;41 -->
<g id="edge202" class="edge">
<title>42&#45;&gt;41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11941.8507,-1328.8876C11941.8507,-1523.845 11941.8507,-1822.7456 11941.8507,-1990.8282"/>
<polygon fill="none" stroke="#000000" points="11931.3508,-1990.8853 11941.8507,-2020.8854 11952.3508,-1990.8854 11931.3508,-1990.8853"/>
</g>
<!-- 42struct0 -->
<g id="node123" class="node">
<title>42struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11861.3384,-214.5 11861.3384,-348.1 12022.363,-348.1 12022.363,-214.5 11861.3384,-214.5"/>
<text text-anchor="middle" x="11941.8507" y="-331.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="11941.8507" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">Entry</text>
<polyline fill="none" stroke="#000000" points="11861.3384,-306.5 12022.363,-306.5 "/>
<text text-anchor="start" x="11869.3384" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">roundId: uint80</text>
<text text-anchor="start" x="11869.3384" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">answer: int</text>
<text text-anchor="start" x="11869.3384" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">startedAt: uint</text>
<text text-anchor="start" x="11869.3384" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAt: uint</text>
<text text-anchor="start" x="11869.3384" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">answeredInRound: uint80</text>
</g>
<!-- 42struct0&#45;&gt;42 -->
<g id="edge77" class="edge">
<title>42struct0&#45;&gt;42</title>
<path fill="none" stroke="#000000" d="M11941.8507,-348.3465C11941.8507,-473.979 11941.8507,-749.3066 11941.8507,-939.7594"/>
<polygon fill="#000000" stroke="#000000" points="11941.8508,-939.8936 11945.8508,-945.8936 11941.8507,-951.8936 11937.8508,-945.8936 11941.8508,-939.8936"/>
</g>
<!-- 43&#45;&gt;34 -->
<g id="edge203" class="edge">
<title>43&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M384.9904,-6243.1533C369.0927,-6378.2573 364.6012,-6604.204 479.8507,-6747.6 509.9671,-6785.0715 544.2011,-6753.7066 581.8507,-6783.6 877.5658,-7018.395 927.1375,-7139.1114 1038.8507,-7499.8 1065.9591,-7587.325 1029.4464,-9082.0533 1092.8507,-9148.2 1201.0221,-9261.05 3494.3823,-9361.5377 4207.8985,-9390.1661"/>
<polygon fill="#000000" stroke="#000000" points="4207.8968,-9393.6687 4218.029,-9390.572 4208.1771,-9386.6743 4207.8968,-9393.6687"/>
</g>
<!-- 43&#45;&gt;37 -->
<g id="edge204" class="edge">
<title>43&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M388.0696,-6243.3158C375.413,-6384.8877 378.9337,-6623.872 521.8507,-6747.6 588.7864,-6805.5485 1240.1436,-6741.1733 1317.8507,-6783.6 1365.5369,-6809.6358 1405.981,-6849.6517 1439.3295,-6893.2085"/>
<polygon fill="#000000" stroke="#000000" points="1436.6666,-6895.491 1445.4739,-6901.3801 1442.2615,-6891.2841 1436.6666,-6895.491"/>
</g>
<!-- 44 -->
<g id="node125" class="node">
<title>44</title>
<polygon fill="#f2f2f2" stroke="#000000" points="496.4912,-8594.5 496.4912,-8853.7 959.2102,-8853.7 959.2102,-8594.5 496.4912,-8594.5"/>
<text text-anchor="middle" x="727.8507" y="-8837.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="727.8507" y="-8820.3" font-family="Times,serif" font-size="14.00" fill="#000000">Path</text>
<polyline fill="none" stroke="#000000" points="496.4912,-8812.1 959.2102,-8812.1 "/>
<text text-anchor="start" x="504.4912" y="-8795.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="504.4912" y="-8778.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ADDR_SIZE: uint</text>
<text text-anchor="start" x="504.4912" y="-8761.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FEE_SIZE: uint</text>
<text text-anchor="start" x="504.4912" y="-8745.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;NEXT_OFFSET: uint</text>
<text text-anchor="start" x="504.4912" y="-8728.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;POP_OFFSET: uint</text>
<text text-anchor="start" x="504.4912" y="-8711.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MULTIPLE_POOLS_MIN_LENGTH: uint</text>
<polyline fill="none" stroke="#000000" points="496.4912,-8703.3 959.2102,-8703.3 "/>
<text text-anchor="start" x="504.4912" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="504.4912" y="-8669.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasMultiplePools(path: bytes): bool</text>
<text text-anchor="start" x="504.4912" y="-8653.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;numPools(path: bytes): uint</text>
<text text-anchor="start" x="504.4912" y="-8636.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decodeFirstPool(path: bytes): (tokenA: address, tokenB: address, fee: uint24)</text>
<text text-anchor="start" x="504.4912" y="-8619.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFirstPool(path: bytes): bytes</text>
<text text-anchor="start" x="504.4912" y="-8602.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;skipToken(path: bytes): bytes</text>
</g>
<!-- 44&#45;&gt;38 -->
<g id="edge205" class="edge">
<title>44&#45;&gt;38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M727.8507,-8854.0925C727.8507,-8990.9665 727.8507,-9202.2161 727.8507,-9317.1096"/>
<polygon fill="#000000" stroke="#000000" points="724.3508,-9317.2444 727.8507,-9327.2444 731.3508,-9317.2445 724.3508,-9317.2444"/>
</g>
<!-- 45 -->
<g id="node126" class="node">
<title>45</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10438.5189,-7811.1 10438.5189,-7952.7 10763.1825,-7952.7 10763.1825,-7811.1 10438.5189,-7811.1"/>
<text text-anchor="middle" x="10600.8507" y="-7936.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestAddressResolver</text>
<polyline fill="none" stroke="#000000" points="10438.5189,-7927.9 10763.1825,-7927.9 "/>
<text text-anchor="start" x="10446.5189" y="-7911.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10446.5189" y="-7894.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;getAddress: mapping(bytes32=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="10438.5189,-7886.3 10763.1825,-7886.3 "/>
<text text-anchor="start" x="10446.5189" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="10446.5189" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAddresses(names: bytes32[], locations: address[])</text>
<text text-anchor="start" x="10446.5189" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10446.5189" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 45&#45;&gt;9 -->
<g id="edge206" class="edge">
<title>45&#45;&gt;9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10573.2882,-7953.0523C10543.0009,-8035.1864 10496.0963,-8175.0345 10476.8507,-8300 10419.1782,-8674.4788 10439.5801,-9129.2257 10451.6077,-9314.0932"/>
<polygon fill="none" stroke="#000000" points="10441.1402,-9314.9285 10453.6473,-9344.1488 10462.092,-9313.5067 10441.1402,-9314.9285"/>
</g>
<!-- 45&#45;&gt;35 -->
<g id="edge207" class="edge">
<title>45&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M10578.6883,-7952.7478C10551.1813,-8033.4485 10498.707,-8166.7045 10424.8507,-8264 10289.4348,-8442.3919 10073.6845,-8599.0489 9959.5148,-8675.1585"/>
<polygon fill="none" stroke="#000000" points="9953.3954,-8666.6159 9934.1086,-8691.88 9964.9407,-8684.1575 9953.3954,-8666.6159"/>
</g>
<!-- 46 -->
<g id="node127" class="node">
<title>46</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1060.1563,-4688.1 1060.1563,-4964.1 1679.5451,-4964.1 1679.5451,-4688.1 1060.1563,-4688.1"/>
<text text-anchor="middle" x="1369.8507" y="-4947.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestBlackScholes</text>
<polyline fill="none" stroke="#000000" points="1060.1563,-4939.3 1679.5451,-4939.3 "/>
<text text-anchor="middle" x="1369.8507" y="-4922.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1060.1563,-4914.5 1679.5451,-4914.5 "/>
<text text-anchor="start" x="1068.1563" y="-4897.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1068.1563" y="-4881.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;expPub(x: int): uint</text>
<text text-anchor="start" x="1068.1563" y="-4864.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lnPub(x: int): int</text>
<text text-anchor="start" x="1068.1563" y="-4847.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt_pub(x: uint): uint</text>
<text text-anchor="start" x="1068.1563" y="-4830.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs_pub(x: int): uint</text>
<text text-anchor="start" x="1068.1563" y="-4813.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal_pub(x: int): uint</text>
<text text-anchor="start" x="1068.1563" y="-4797.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF_pub(x: int): uint</text>
<text text-anchor="start" x="1068.1563" y="-4780.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise_pub(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="1068.1563" y="-4763.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2_pub(tAnnualised: uint, volatility: uint, spot: uint, strikePrice: uint, rate: int): (d1: int, d2: int)</text>
<text text-anchor="start" x="1068.1563" y="-4746.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPrices_pub(bsInput: BlackScholes.BlackScholesInputs): (call: uint, put: uint)</text>
<text text-anchor="start" x="1068.1563" y="-4729.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pricesDeltaStdVega_pub(bsInput: BlackScholes.BlackScholesInputs): BlackScholes.PricesDeltaStdVega</text>
<text text-anchor="start" x="1068.1563" y="-4713.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;delta_pub(bsInput: BlackScholes.BlackScholesInputs): (int, int)</text>
<text text-anchor="start" x="1068.1563" y="-4696.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;vega_pub(bsInput: BlackScholes.BlackScholesInputs): uint</text>
</g>
<!-- 46&#45;&gt;20 -->
<g id="edge210" class="edge">
<title>46&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1406.4695,-4964.1295C1453.3834,-5140.9651 1536.8107,-5455.4329 1605.2176,-5713.2837"/>
<polygon fill="#000000" stroke="#000000" points="1601.9016,-5714.4338 1607.8489,-5723.2019 1608.6676,-5712.6388 1601.9016,-5714.4338"/>
</g>
<!-- 46&#45;&gt;21 -->
<g id="edge211" class="edge">
<title>46&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1359.0394,-4964.1639C1348.5041,-5102.8099 1332.6776,-5322.5994 1322.8507,-5513 1294.5513,-6061.314 1333.4632,-6201.18 1279.8507,-6747.6 1270.5164,-6842.7353 1252.2823,-6950.3107 1238.1707,-7025.9657"/>
<polygon fill="#000000" stroke="#000000" points="1234.6999,-7025.485 1236.2961,-7035.9589 1241.5799,-7026.7757 1234.6999,-7025.485"/>
</g>
<!-- 46&#45;&gt;34 -->
<g id="edge208" class="edge">
<title>46&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1366.4819,-4964.3227C1358.0766,-5321.5254 1336.8507,-6304.6468 1336.8507,-7123.7 1336.8507,-7123.7 1336.8507,-7123.7 1336.8507,-7881.9 1336.8507,-8463.2734 1221.6826,-8771.9062 1664.8507,-9148.2 1857.5393,-9311.8118 3597.7051,-9375.5177 4207.7233,-9392.9445"/>
<polygon fill="#000000" stroke="#000000" points="4207.8535,-9396.4495 4217.949,-9393.2353 4208.0525,-9389.4523 4207.8535,-9396.4495"/>
</g>
<!-- 46&#45;&gt;37 -->
<g id="edge209" class="edge">
<title>46&#45;&gt;37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1368.398,-4964.1022C1364.5123,-5375.4106 1356.5567,-6575.1325 1393.8507,-6747.6 1404.2879,-6795.867 1421.1542,-6845.5449 1440.2072,-6892.3377"/>
<polygon fill="#000000" stroke="#000000" points="1437.0008,-6893.7433 1444.0457,-6901.6565 1443.4732,-6891.0772 1437.0008,-6893.7433"/>
</g>
<!-- 47 -->
<g id="node128" class="node">
<title>47</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6850.724,-7617.9 6850.724,-8145.9 7286.9774,-8145.9 7286.9774,-7617.9 6850.724,-7617.9"/>
<text text-anchor="middle" x="7068.8507" y="-8129.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestCollateralShort</text>
<polyline fill="none" stroke="#000000" points="6850.724,-8121.1 7286.9774,-8121.1 "/>
<text text-anchor="start" x="6858.724" y="-8104.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6858.724" y="-8087.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="6858.724" y="-8070.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="6858.724" y="-8054.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextLoanId: uint</text>
<text text-anchor="start" x="6858.724" y="-8037.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6858.724" y="-8020.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCratio: uint</text>
<text text-anchor="start" x="6858.724" y="-8003.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCollateral: uint</text>
<text text-anchor="start" x="6858.724" y="-7986.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;issueFeeRate: uint</text>
<text text-anchor="start" x="6858.724" y="-7970.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="6858.724" y="-7953.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="6858.724" y="-7936.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;loans: mapping(uint=&gt;Loan)</text>
<text text-anchor="start" x="6858.724" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="6850.724,-7911.5 7286.9774,-7911.5 "/>
<text text-anchor="start" x="6858.724" y="-7894.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6858.724" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_recordLoanAsClosed(loan: Loan)</text>
<text text-anchor="start" x="6858.724" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isLoanOpen(interestIndex: uint)</text>
<text text-anchor="start" x="6858.724" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6858.724" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="6858.724" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="6858.724" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="6858.724" y="-7777.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;draw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7760.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repay(address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7743.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repayWithCollateral(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7726.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7710.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7693.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortAndCollateral(address, id: uint): (uint, uint)</text>
<text text-anchor="start" x="6858.724" y="-7676.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createTestEmptyLoanForAccount(account: address)</text>
<text text-anchor="start" x="6858.724" y="-7659.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;testForceClose(id: uint)</text>
<text text-anchor="start" x="6858.724" y="-7642.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6858.724" y="-7626.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 47&#45;&gt;8 -->
<g id="edge215" class="edge">
<title>47&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M7176.8935,-8146.264C7208.2147,-8193.2161 7247.4202,-8236.0018 7295.8507,-8264 7359.5126,-8300.8036 9870.7927,-8285.3378 9942.8507,-8300 10122.5828,-8336.5716 10310.6192,-8403.6698 10476.5016,-8473.8707"/>
<polygon fill="#000000" stroke="#000000" points="10475.3133,-8477.1686 10485.8859,-8477.8554 10478.0493,-8470.7254 10475.3133,-8477.1686"/>
</g>
<!-- 47&#45;&gt;10 -->
<g id="edge212" class="edge">
<title>47&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6960.7784,-8146.213C6929.4592,-8193.1686 6890.2621,-8235.9687 6841.8507,-8264 6726.211,-8330.9581 4567.5856,-8272.3537 4436.8507,-8300 4175.9279,-8355.1769 3898.1729,-8479.1545 3702.1139,-8578.8922"/>
<polygon fill="none" stroke="#000000" points="3697.2083,-8569.6076 3675.3036,-8592.6389 3706.7898,-8588.2944 3697.2083,-8569.6076"/>
</g>
<!-- 47&#45;&gt;34 -->
<g id="edge214" class="edge">
<title>47&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6929.522,-8146.0148C6907.6054,-8196.0754 6887.4167,-8248.8217 6872.8507,-8300 6820.9035,-8482.52 6908.7355,-9014.7153 6773.8507,-9148.2 6622.6128,-9297.8682 5176.6853,-9368.9821 4627.7863,-9390.7496"/>
<polygon fill="#000000" stroke="#000000" points="4627.63,-9387.253 4617.7759,-9391.1451 4627.9063,-9394.2475 4627.63,-9387.253"/>
</g>
<!-- 47&#45;&gt;35 -->
<g id="edge213" class="edge">
<title>47&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M7178.0474,-8146.3733C7209.2241,-8193.0064 7248.0799,-8235.639 7295.8507,-8264 7389.3541,-8319.5118 8166.2873,-8284.0452 8273.8507,-8300 8873.4466,-8388.9377 9571.0859,-8616.9987 9803.2278,-8696.3696"/>
<polygon fill="none" stroke="#000000" points="9799.8459,-8706.31 9831.6298,-8706.1351 9806.6741,-8686.4511 9799.8459,-8706.31"/>
</g>
<!-- 47&#45;&gt;39 -->
<g id="edge216" class="edge">
<title>47&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M6969.3406,-8146.1062C6953.8678,-8196.556 6940.0016,-8249.4161 6930.8507,-8300 6861.9076,-8681.1032 6875.2539,-9148.2466 6883.7444,-9325.4686"/>
<polygon fill="#000000" stroke="#000000" points="6880.2609,-9325.8944 6884.2453,-9335.7115 6887.2526,-9325.5524 6880.2609,-9325.8944"/>
</g>
<!-- 48 -->
<g id="node129" class="node">
<title>48</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3479.1223,-7760.7 3479.1223,-8003.1 4292.5791,-8003.1 4292.5791,-7760.7 3479.1223,-7760.7"/>
<text text-anchor="middle" x="3885.8507" y="-7986.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestCurve</text>
<polyline fill="none" stroke="#000000" points="3479.1223,-7978.3 4292.5791,-7978.3 "/>
<text text-anchor="start" x="3487.1223" y="-7961.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3487.1223" y="-7944.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="3487.1223" y="-7928.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;curveStables: mapping(int128=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="3479.1223,-7919.9 4292.5791,-7919.9 "/>
<text text-anchor="start" x="3487.1223" y="-7903.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3487.1223" y="-7886.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDecimals(token: ERC20): uint8</text>
<text text-anchor="start" x="3487.1223" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3487.1223" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; exchange_with_best_rate(_from: address, _to: address, _amount: uint, _expected: uint, _receiver: address): (amountOut: uint)</text>
<text text-anchor="start" x="3487.1223" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; exchange_underlying(_from: int128, _to: int128, _amount: uint, _expected: uint): (amountOut: uint)</text>
<text text-anchor="start" x="3487.1223" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRate(token: address, rate: uint)</text>
<text text-anchor="start" x="3487.1223" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;get_best_rate(_from: address, _to: address, _amount: uint): (pool: address, amountOut: uint)</text>
<text text-anchor="start" x="3487.1223" y="-7785.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3487.1223" y="-7768.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 48&#45;&gt;11 -->
<g id="edge217" class="edge">
<title>48&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3789.7379,-8003.5041C3713.059,-8091.2765 3597.6111,-8204.4255 3469.8507,-8264 3357.7349,-8316.2795 3304.567,-8244.8184 3193.8507,-8300 3042.3284,-8375.5195 2914.0825,-8528.5607 2841.5615,-8628.658"/>
<polygon fill="none" stroke="#000000" points="2832.9429,-8622.6597 2824.1277,-8653.1973 2850.0623,-8634.8222 2832.9429,-8622.6597"/>
</g>
<!-- 48&#45;&gt;34 -->
<g id="edge219" class="edge">
<title>48&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3928.3754,-8003.1112C4017.6034,-8257.4445 4225.5217,-8850.0899 4339.5637,-9175.1526"/>
<polygon fill="#000000" stroke="#000000" points="4336.297,-9176.4138 4342.9102,-9184.6912 4342.9023,-9174.0964 4336.297,-9176.4138"/>
</g>
<!-- 48&#45;&gt;35 -->
<g id="edge218" class="edge">
<title>48&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M3976.1139,-8003.3293C4051.7005,-8094.1377 4168.451,-8211.3353 4301.8507,-8264 4404.4803,-8304.5169 8164.493,-8285.3256 8273.8507,-8300 8874.2796,-8380.5701 9570.7153,-8613.7309 9802.9456,-8695.4179"/>
<polygon fill="none" stroke="#000000" points="9799.5833,-8705.3661 9831.3676,-8705.4771 9806.5899,-8685.5694 9799.5833,-8705.3661"/>
</g>
<!-- 50 -->
<g id="node131" class="node">
<title>50</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6491.1522,-8636.5 6491.1522,-8811.7 6764.5492,-8811.7 6764.5492,-8636.5 6491.1522,-8636.5"/>
<text text-anchor="middle" x="6627.8507" y="-8795.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20</text>
<polyline fill="none" stroke="#000000" points="6491.1522,-8786.9 6764.5492,-8786.9 "/>
<text text-anchor="start" x="6499.1522" y="-8770.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6499.1522" y="-8753.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="6491.1522,-8745.3 6764.5492,-8745.3 "/>
<text text-anchor="start" x="6499.1522" y="-8728.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6499.1522" y="-8711.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="6499.1522" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="6499.1522" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="6499.1522" y="-8661.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6499.1522" y="-8644.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 48&#45;&gt;50 -->
<g id="edge220" class="edge">
<title>48&#45;&gt;50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3976.7691,-8003.1274C4052.5142,-8093.502 4169.1614,-8210.2196 4301.8507,-8264 4438.1363,-8319.238 5481.1388,-8268.8249 5624.8507,-8300 5945.1768,-8369.4877 6291.6565,-8539.3702 6481.9471,-8641.7944"/>
<polygon fill="#000000" stroke="#000000" points="6480.4272,-8644.9513 6490.8898,-8646.6201 6483.7515,-8638.7909 6480.4272,-8644.9513"/>
</g>
<!-- 49 -->
<g id="node130" class="node">
<title>49</title>
<polygon fill="#f2f2f2" stroke="#000000" points="12450.4154,-8661.7 12450.4154,-8786.5 12877.286,-8786.5 12877.286,-8661.7 12450.4154,-8661.7"/>
<text text-anchor="middle" x="12663.8507" y="-8769.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestDelegateApprovals</text>
<polyline fill="none" stroke="#000000" points="12450.4154,-8761.7 12877.286,-8761.7 "/>
<text text-anchor="start" x="12458.4154" y="-8745.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="12458.4154" y="-8728.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangingApproved: mapping(address=&gt;mapping(address=&gt;bool))</text>
<polyline fill="none" stroke="#000000" points="12450.4154,-8720.1 12877.286,-8720.1 "/>
<text text-anchor="start" x="12458.4154" y="-8703.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="12458.4154" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approveExchangeOnBehalf(approvee: address)</text>
<text text-anchor="start" x="12458.4154" y="-8669.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;canExchangeOnBehalf(exchanger: address, beneficiary: address): bool</text>
</g>
<!-- 49&#45;&gt;12 -->
<g id="edge221" class="edge">
<title>49&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M12650.1966,-8786.5651C12625.8845,-8881.6323 12565.4849,-9060.7884 12440.8507,-9148.2 12344.6203,-9215.6908 12279.7351,-9123.8871 12178.8507,-9184.2 12127.0005,-9215.1982 12087.2889,-9270.7518 12060.9097,-9317.5015"/>
<polygon fill="none" stroke="#000000" points="12051.574,-9312.6938 12046.7508,-9344.1102 12070.1128,-9322.5587 12051.574,-9312.6938"/>
</g>
<!-- 50&#45;&gt;39 -->
<g id="edge222" class="edge">
<title>50&#45;&gt;39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6661.7078,-8811.894C6711.1478,-8940.0957 6802.6494,-9177.3664 6852.7719,-9307.338"/>
<polygon fill="none" stroke="#000000" points="6843.1009,-9311.4423 6863.6921,-9335.6549 6862.6944,-9303.8861 6843.1009,-9311.4423"/>
</g>
<!-- 51 -->
<g id="node132" class="node">
<title>51</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6422.7538,-7785.9 6422.7538,-7977.9 6832.9476,-7977.9 6832.9476,-7785.9 6422.7538,-7785.9"/>
<text text-anchor="middle" x="6627.8507" y="-7961.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20Fail</text>
<polyline fill="none" stroke="#000000" points="6422.7538,-7953.1 6832.9476,-7953.1 "/>
<text text-anchor="start" x="6430.7538" y="-7936.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6430.7538" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;forceFail: bool</text>
<polyline fill="none" stroke="#000000" points="6422.7538,-7911.5 6832.9476,-7911.5 "/>
<text text-anchor="start" x="6430.7538" y="-7894.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6430.7538" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setForceFail(_forceFail: bool)</text>
<text text-anchor="start" x="6430.7538" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="6430.7538" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(sender: address, receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="6430.7538" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(spender: address, amount: uint): bool</text>
<text text-anchor="start" x="6430.7538" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6430.7538" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 51&#45;&gt;50 -->
<g id="edge223" class="edge">
<title>51&#45;&gt;50</title>
<path fill="none" stroke="#000000" d="M6627.8507,-7978.1007C6627.8507,-8133.2524 6627.8507,-8438.2821 6627.8507,-8606.2459"/>
<polygon fill="none" stroke="#000000" points="6617.3508,-8606.4413 6627.8507,-8636.4414 6638.3508,-8606.4414 6617.3508,-8606.4413"/>
</g>
<!-- 52 -->
<g id="node133" class="node">
<title>52</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6973.1862,-8594.5 6973.1862,-8853.7 7346.5152,-8853.7 7346.5152,-8594.5 6973.1862,-8594.5"/>
<text text-anchor="middle" x="7159.8507" y="-8837.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20SetDecimals</text>
<polyline fill="none" stroke="#000000" points="6973.1862,-8828.9 7346.5152,-8828.9 "/>
<text text-anchor="start" x="6981.1862" y="-8812.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6981.1862" y="-8795.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_decimals: uint8</text>
<text text-anchor="start" x="6981.1862" y="-8778.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6981.1862" y="-8761.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="6973.1862,-8753.7 7346.5152,-8753.7 "/>
<text text-anchor="start" x="6981.1862" y="-8737.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6981.1862" y="-8720.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setupDecimals(decimals_: uint8)</text>
<text text-anchor="start" x="6981.1862" y="-8703.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6981.1862" y="-8686.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="6981.1862" y="-8669.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="6981.1862" y="-8653.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="6981.1862" y="-8636.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6981.1862" y="-8619.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string, decimals_: uint8)</text>
<text text-anchor="start" x="6981.1862" y="-8602.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimals(): uint8</text>
</g>
<!-- 52&#45;&gt;39 -->
<g id="edge224" class="edge">
<title>52&#45;&gt;39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7107.4064,-8854.0925C7053.6685,-8987.2914 6971.5141,-9190.9255 6924.4228,-9307.6497"/>
<polygon fill="none" stroke="#000000" points="6914.5911,-9303.9551 6913.1042,-9335.7047 6934.0659,-9311.8121 6914.5911,-9303.9551"/>
</g>
<!-- 53 -->
<g id="node134" class="node">
<title>53</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10781.4323,-7794.3 10781.4323,-7969.5 11184.2691,-7969.5 11184.2691,-7794.3 10781.4323,-7794.3"/>
<text text-anchor="middle" x="10982.8507" y="-7952.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchangeRates</text>
<polyline fill="none" stroke="#000000" points="10781.4323,-7944.7 11184.2691,-7944.7 "/>
<text text-anchor="start" x="10789.4323" y="-7928.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10789.4323" y="-7911.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(bytes32=&gt;uint)</text>
<text text-anchor="start" x="10789.4323" y="-7894.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isInvalid: mapping(bytes32=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="10781.4323,-7886.3 11184.2691,-7886.3 "/>
<text text-anchor="start" x="10789.4323" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="10789.4323" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, invalid: bool)</text>
<text text-anchor="start" x="10789.4323" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndInvalid(currencyKey: bytes32, rate: uint, invalid: bool)</text>
<text text-anchor="start" x="10789.4323" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10789.4323" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 53&#45;&gt;13 -->
<g id="edge225" class="edge">
<title>53&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11003.81,-7969.5642C11030.8152,-8060.9729 11087.498,-8199.7035 11193.8507,-8264 11274.311,-8312.643 12820.0785,-8232.8135 12885.8507,-8300 12918.8149,-8333.673 12916.9979,-9112.8396 12885.8507,-9148.2 12843.947,-9195.7719 12659.7008,-9156.145 12602.8507,-9184.2 12539.737,-9215.3461 12484.4048,-9272.8935 12446.1084,-9320.487"/>
<polygon fill="none" stroke="#000000" points="12437.7525,-9314.128 12427.6837,-9344.2755 12454.3551,-9326.987 12437.7525,-9314.128"/>
</g>
<!-- 53&#45;&gt;35 -->
<g id="edge226" class="edge">
<title>53&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M10959.9447,-7969.5913C10931.5959,-8059.2926 10874.0664,-8194.9902 10771.8507,-8264 10662.3803,-8337.9077 10599.9608,-8252.1456 10476.8507,-8300 10263.2417,-8383.0325 10054.9678,-8560.4304 9951.1145,-8657.4075"/>
<polygon fill="none" stroke="#000000" points="9943.6699,-8649.9962 9929.0895,-8678.2391 9958.1001,-8665.2531 9943.6699,-8649.9962"/>
</g>
<!-- 54 -->
<g id="node135" class="node">
<title>54</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11202.3582,-7802.7 11202.3582,-7961.1 11861.3432,-7961.1 11861.3432,-7802.7 11202.3582,-7802.7"/>
<text text-anchor="middle" x="11531.8507" y="-7944.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchanger</text>
<polyline fill="none" stroke="#000000" points="11202.3582,-7936.3 11861.3432,-7936.3 "/>
<text text-anchor="start" x="11210.3582" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11210.3582" y="-7902.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fee: mapping(bytes32=&gt;mapping(bytes32=&gt;uint))</text>
<polyline fill="none" stroke="#000000" points="11202.3582,-7894.7 11861.3432,-7894.7 "/>
<text text-anchor="start" x="11210.3582" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="11210.3582" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
<text text-anchor="start" x="11210.3582" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32, newFee: uint)</text>
<text text-anchor="start" x="11210.3582" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11210.3582" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 54&#45;&gt;14 -->
<g id="edge227" class="edge">
<title>54&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11595.8272,-7961.2985C11675.5461,-8053.4668 11821.2455,-8200.8825 11983.8507,-8264 12080.1501,-8301.3799 12840.2252,-8226.5401 12912.8507,-8300 13186.6043,-8576.8989 13042.8575,-9110.5345 12973.3695,-9315.4101"/>
<polygon fill="none" stroke="#000000" points="12963.3606,-9312.2244 12963.4197,-9344.0088 12983.1945,-9319.1249 12963.3606,-9312.2244"/>
</g>
<!-- 54&#45;&gt;35 -->
<g id="edge228" class="edge">
<title>54&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M11488.0612,-7961.4122C11432.7259,-8052.9531 11328.1537,-8199.0301 11192.8507,-8264 11049.2373,-8332.9604 10627.2994,-8247.6021 10476.8507,-8300 10259.3105,-8375.7644 10051.1859,-8557.7941 9948.8086,-8656.9555"/>
<polygon fill="none" stroke="#000000" points="9941.1858,-8649.7251 9927.1456,-8678.2404 9955.9037,-8664.7045 9941.1858,-8649.7251"/>
</g>
<!-- 55 -->
<g id="node136" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6072.559,-7760.7 6072.559,-8003.1 6405.1424,-8003.1 6405.1424,-7760.7 6072.559,-7760.7"/>
<text text-anchor="middle" x="6238.8507" y="-7986.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestFaucet</text>
<polyline fill="none" stroke="#000000" points="6072.559,-7978.3 6405.1424,-7978.3 "/>
<text text-anchor="start" x="6080.559" y="-7961.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6080.559" y="-7944.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;dripAmounts: mapping(uint=&gt;uint)</text>
<text text-anchor="start" x="6080.559" y="-7928.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addresses: TestERC20[]</text>
<text text-anchor="start" x="6080.559" y="-7911.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="6080.559" y="-7894.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;received: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="6072.559,-7886.3 6405.1424,-7886.3 "/>
<text text-anchor="start" x="6080.559" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6080.559" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitModify(user: address, permit: bool)</text>
<text text-anchor="start" x="6080.559" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDripAmount(token: TestERC20, amount: uint)</text>
<text text-anchor="start" x="6080.559" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;drip()</text>
<text text-anchor="start" x="6080.559" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6080.559" y="-7785.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Dripped(token: TestERC20, amount: uint)</text>
<text text-anchor="start" x="6080.559" y="-7768.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 55&#45;&gt;50 -->
<g id="edge229" class="edge">
<title>55&#45;&gt;50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6294.2333,-8003.3037C6328.5667,-8078.4464 6373.6426,-8176.8847 6413.8507,-8264 6471.8201,-8389.5969 6539.1869,-8534.2173 6582.6141,-8627.2731"/>
<polygon fill="#000000" stroke="#000000" points="6579.4707,-8628.8137 6586.8716,-8636.3951 6585.8138,-8625.8532 6579.4707,-8628.8137"/>
</g>
<!-- 56 -->
<g id="node137" class="node">
<title>56</title>
<polygon fill="#f2f2f2" stroke="#000000" points="465.3899,-4738.5 465.3899,-4913.7 852.3115,-4913.7 852.3115,-4738.5 465.3899,-4738.5"/>
<text text-anchor="middle" x="658.8507" y="-4897.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestGWAV</text>
<polyline fill="none" stroke="#000000" points="465.3899,-4888.9 852.3115,-4888.9 "/>
<text text-anchor="start" x="473.3899" y="-4872.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="473.3899" y="-4855.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;gwav: GWAV.Params</text>
<polyline fill="none" stroke="#000000" points="465.3899,-4847.3 852.3115,-4847.3 "/>
<text text-anchor="start" x="473.3899" y="-4830.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="473.3899" y="-4813.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(currentVal: uint, currentTimestamp: uint)</text>
<text text-anchor="start" x="473.3899" y="-4797.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;recordMany(vals: uint[], timestamps: uint[])</text>
<text text-anchor="start" x="473.3899" y="-4780.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;recordObservation(currentVal: uint, currentTimestamp: uint)</text>
<text text-anchor="start" x="473.3899" y="-4763.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGWAVBetween(timeA: uint, timeB: uint): uint</text>
<text text-anchor="start" x="473.3899" y="-4746.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;observe(times: uint[]): (qCumulatives: int[], timestamps: uint[])</text>
</g>
<!-- 56&#45;&gt;22 -->
<g id="edge230" class="edge">
<title>56&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M675.152,-4913.952C715.5064,-5131.4319 820.4948,-5697.2412 871.7906,-5973.6874"/>
<polygon fill="#000000" stroke="#000000" points="868.4017,-5974.6089 873.6675,-5983.8025 875.2842,-5973.3317 868.4017,-5974.6089"/>
</g>
<!-- 57 -->
<g id="node138" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8745.21,-.5 8745.21,-562.1 9496.4914,-562.1 9496.4914,-.5 8745.21,-.5"/>
<text text-anchor="middle" x="9120.8507" y="-545.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestLyraAdapter</text>
<polyline fill="none" stroke="#000000" points="8745.21,-537.3 9496.4914,-537.3 "/>
<text text-anchor="middle" x="9120.8507" y="-520.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8745.21,-512.5 9496.4914,-512.5 "/>
<text text-anchor="start" x="8753.21" y="-495.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8753.21" y="-479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLyraAddressesExt(_lyraRegistry: address, _optionMarket: address, _curveSwap: address, _feeCounter: address)</text>
<text text-anchor="start" x="8753.21" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPositionExt(params: TradeInputParameters): (result: TradeResult)</text>
<text text-anchor="start" x="8753.21" y="-445.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePositionExt(params: TradeInputParameters): (result: TradeResult)</text>
<text text-anchor="start" x="8753.21" y="-428.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;forceClosePositionExt(params: TradeInputParameters): (result: TradeResult)</text>
<text text-anchor="start" x="8753.21" y="-411.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;splitPositionExt(positionId: uint, newAmount: uint, newCollateral: uint, recipient: address): (newPositionId: uint)</text>
<text text-anchor="start" x="8753.21" y="-395.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mergePositionsExt(positionIds: uint[])</text>
<text text-anchor="start" x="8753.21" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactQuoteExt(amountQuote: uint, minBaseReceived: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="8753.21" y="-361.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactQuoteExt(amountQuote: uint, maxBaseUsed: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="8753.21" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactBaseExt(amountBase: uint, minQuoteReceived: uint): (quoteReceived: uint)</text>
<text text-anchor="start" x="8753.21" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactBaseExt(amountBase: uint, maxQuoteUsed: uint): (baseReceived: uint)</text>
<text text-anchor="start" x="8753.21" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;swapStablesExt(from: address, to: address, amount: uint, expected: uint, receiver: address): (amountOut: uint)</text>
<text text-anchor="start" x="8753.21" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardExt(boardId: uint): (board: Board)</text>
<text text-anchor="start" x="8753.21" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrikesExt(strikeIds: uint[]): (allStrikes: Strike[])</text>
<text text-anchor="start" x="8753.21" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVolsExt(strikeIds: uint[]): (vols: uint[])</text>
<text text-anchor="start" x="8753.21" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDeltasExt(strikeIds: uint[]): (callDeltas: int[])</text>
<text text-anchor="start" x="8753.21" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVegasExt(strikeIds: uint[]): (vegas: uint[])</text>
<text text-anchor="start" x="8753.21" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPurePremiumExt(secondsToExpiry: uint, vol: uint, spotPrice: uint, strikePrice: uint): (call: uint, put: uint)</text>
<text text-anchor="start" x="8753.21" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPurePremiumForStrikeExt(strikeId: uint): (call: uint, put: uint)</text>
<text text-anchor="start" x="8753.21" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidityExt(): (liquidity: Liquidity)</text>
<text text-anchor="start" x="8753.21" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFreeLiquidityExt(): (freeLiquidity: uint)</text>
<text text-anchor="start" x="8753.21" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMarketParamsExt(): (params: MarketParams)</text>
<text text-anchor="start" x="8753.21" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeParamsExt(): (params: ExchangeRateParams)</text>
<text text-anchor="start" x="8753.21" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMinCollateralExt(optionType: OptionType, strikePrice: uint, expiry: uint, spotPrice: uint, amount: uint): (minCollateral: uint)</text>
<text text-anchor="start" x="8753.21" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMinCollateralForPositionExt(positionId: uint): (minCollateral: uint)</text>
<text text-anchor="start" x="8753.21" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMinCollateralForStrikeExt(optionType: OptionType, strikeId: uint, amount: uint): (minCollateral: uint)</text>
<text text-anchor="start" x="8753.21" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPositionsExt(positionIds: uint[]): (allPositions: OptionPosition[])</text>
<text text-anchor="start" x="8753.21" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoardsExt(): (liveBoards: uint[])</text>
<text text-anchor="start" x="8753.21" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8753.21" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 57&#45;&gt;29 -->
<g id="edge231" class="edge">
<title>57&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M8744.859,-557.8213C8603.6352,-661.6837 8443.7438,-779.275 8304.7864,-881.4706"/>
<polygon fill="none" stroke="#000000" points="8298.387,-873.1431 8280.4401,-899.3759 8310.8289,-890.0606 8298.387,-873.1431"/>
</g>
<!-- 58 -->
<g id="node139" class="node">
<title>58</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3863.0687,-1052.7 3863.0687,-1227.9 4408.6327,-1227.9 4408.6327,-1052.7 3863.0687,-1052.7"/>
<text text-anchor="middle" x="4135.8507" y="-1211.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestShortPoolHedger</text>
<polyline fill="none" stroke="#000000" points="3863.0687,-1203.1 4408.6327,-1203.1 "/>
<text text-anchor="middle" x="4135.8507" y="-1186.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3863.0687,-1178.3 4408.6327,-1178.3 "/>
<text text-anchor="start" x="3871.0687" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3871.0687" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDeltaExt(expectedHedge: int)</text>
<text text-anchor="start" x="3871.0687" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLongExt(exchangeParams: SynthetixAdapter.ExchangeParams, amount: uint)</text>
<text text-anchor="start" x="3871.0687" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLongExt(amount: uint)</text>
<text text-anchor="start" x="3871.0687" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;callTransferQuoteToHedge(spotPrice: uint, amount: uint)</text>
<text text-anchor="start" x="3871.0687" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortToExt(spotPrice: uint, desiredShort: uint, currentShort: uint, currentCollateral: uint)</text>
<text text-anchor="start" x="3871.0687" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_sendAllQuoteToLPExt()</text>
</g>
<!-- 58&#45;&gt;7 -->
<g id="edge232" class="edge">
<title>58&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M4135.8507,-1228.2572C4135.8507,-1333.0234 4135.8507,-1515.6028 4135.8507,-1688.121"/>
<polygon fill="none" stroke="#000000" points="4125.3508,-1688.2247 4135.8507,-1718.2247 4146.3508,-1688.2248 4125.3508,-1688.2247"/>
</g>
<!-- 59 -->
<g id="node140" class="node">
<title>59</title>
<polygon fill="#f2f2f2" stroke="#000000" points="528.7612,-7785.9 528.7612,-7977.9 996.9402,-7977.9 996.9402,-7785.9 528.7612,-7785.9"/>
<text text-anchor="middle" x="762.8507" y="-7961.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestSwapRouter</text>
<polyline fill="none" stroke="#000000" points="528.7612,-7953.1 996.9402,-7953.1 "/>
<text text-anchor="start" x="536.7612" y="-7936.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="536.7612" y="-7919.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="536.7612" y="-7902.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(address=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="528.7612,-7894.7 996.9402,-7894.7 "/>
<text text-anchor="start" x="536.7612" y="-7878.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="536.7612" y="-7861.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; exactInput(params: ExactInputParams): (amountOut: uint)</text>
<text text-anchor="start" x="536.7612" y="-7844.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addToken(token: address, rate: uint)</text>
<text text-anchor="start" x="536.7612" y="-7827.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uniswapV3SwapCallback(amount0Delta: int, amount1Delta: int, _data: bytes)</text>
<text text-anchor="start" x="536.7612" y="-7810.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="536.7612" y="-7794.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_factory: address, _WETH9: address)</text>
</g>
<!-- 59&#45;&gt;18 -->
<g id="edge233" class="edge">
<title>59&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M693.259,-7977.9803C634.7045,-8060.9976 550.7097,-8185.3453 487.8507,-8300 424.8103,-8414.9856 365.2299,-8554.9167 330.1275,-8641.7668"/>
<polygon fill="none" stroke="#000000" points="320.2759,-8638.1235 318.8729,-8669.877 339.7714,-8645.929 320.2759,-8638.1235"/>
</g>
<!-- 59&#45;&gt;34 -->
<g id="edge235" class="edge">
<title>59&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M824.0454,-7978.0251C872.7418,-8060.0609 937.568,-8182.9958 967.8507,-8300 991.4951,-8391.3553 944.8833,-9080.723 1010.8507,-9148.2 1123.0804,-9262.9979 3483.3706,-9362.5412 4208.0939,-9390.4925"/>
<polygon fill="#000000" stroke="#000000" points="4207.9919,-9393.991 4218.1192,-9390.8786 4208.2613,-9386.9962 4207.9919,-9393.991"/>
</g>
<!-- 59&#45;&gt;35 -->
<g id="edge234" class="edge">
<title>59&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M996.4045,-7978.0069C1238.1823,-8072.0045 1629.2068,-8208.8165 1981.8507,-8264 2276.8232,-8310.1588 7058.4044,-8274.21 7355.8507,-8300 8327.9928,-8384.2892 9489.4636,-8635.4994 9802.0839,-8705.6965"/>
<polygon fill="none" stroke="#000000" points="9800.0686,-8716.0057 9831.6438,-8712.3642 9804.6894,-8695.5204 9800.0686,-8716.0057"/>
</g>
<!-- 59&#45;&gt;44 -->
<g id="edge237" class="edge">
<title>59&#45;&gt;44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M758.8528,-7978.1007C752.6757,-8126.7397 740.7819,-8412.9382 733.6567,-8584.3911"/>
<polygon fill="#000000" stroke="#000000" points="730.155,-8584.3619 733.2367,-8594.4987 737.149,-8584.6526 730.155,-8584.3619"/>
</g>
<!-- 59&#45;&gt;50 -->
<g id="edge236" class="edge">
<title>59&#45;&gt;50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M997.0047,-7977.9934C1238.8553,-8071.8 1629.5689,-8208.2987 1981.8507,-8264 2381.6811,-8327.2195 5228.5257,-8217.6135 5624.8507,-8300 5945.7666,-8366.7107 6292.0372,-8537.5776 6482.1315,-8640.9265"/>
<polygon fill="#000000" stroke="#000000" points="6480.6094,-8644.083 6491.0648,-8645.7962 6483.9598,-8637.9368 6480.6094,-8644.083"/>
</g>
<!-- 60 -->
<g id="node141" class="node">
<title>60</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8625.1358,-7727.1 8625.1358,-8036.7 9740.5656,-8036.7 9740.5656,-7727.1 8625.1358,-7727.1"/>
<text text-anchor="middle" x="9182.8507" y="-8020.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetix</text>
<polyline fill="none" stroke="#000000" points="8625.1358,-8011.9 9740.5656,-8011.9 "/>
<text text-anchor="start" x="8633.1358" y="-7995.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8633.1358" y="-7978.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetixAdapter: SynthetixAdapter</text>
<text text-anchor="start" x="8633.1358" y="-7961.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="8633.1358" y="-7944.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8633.1358" y="-7928.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="8633.1358" y="-7911.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="8633.1358" y="-7894.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="8625.1358,-7886.3 9740.5656,-7886.3 "/>
<text text-anchor="start" x="8633.1358" y="-7869.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8633.1358" y="-7852.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_synthetixAdapter: SynthetixAdapter, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="8633.1358" y="-7836.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="8633.1358" y="-7819.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8633.1358" y="-7802.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Exchange(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32)</text>
<text text-anchor="start" x="8633.1358" y="-7785.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8633.1358" y="-7768.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="8633.1358" y="-7752.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeOnBehalfWithTracking(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32, address, bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="8633.1358" y="-7735.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 60&#45;&gt;8 -->
<g id="edge240" class="edge">
<title>60&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M9501.8462,-8036.8279C9646.8183,-8106.8222 9820.7011,-8190.1978 9977.8507,-8264 10139.5835,-8339.9546 10316.6004,-8421.6351 10476.2975,-8494.7877"/>
<polygon fill="#000000" stroke="#000000" points="10475.2711,-8498.1672 10485.8203,-8499.1491 10478.1859,-8491.8029 10475.2711,-8498.1672"/>
</g>
<!-- 60&#45;&gt;19 -->
<g id="edge238" class="edge">
<title>60&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9182.8507,-8036.7022C9182.8507,-8350.3306 9182.8507,-9052.3992 9182.8507,-9305.2829"/>
<polygon fill="none" stroke="#000000" points="9172.3508,-9305.5386 9182.8507,-9335.5386 9193.3508,-9305.5387 9172.3508,-9305.5386"/>
</g>
<!-- 60&#45;&gt;34 -->
<g id="edge239" class="edge">
<title>60&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8926.5861,-8036.7958C8772.3146,-8121.257 8568.6214,-8217.7765 8373.8507,-8264 8295.2859,-8282.6452 6978.6152,-8243.5789 6920.8507,-8300 6853.3518,-8365.9292 6944.7803,-9079.7389 6879.8507,-9148.2 6841.1365,-9189.0198 5216.7218,-9330.5434 4628.0709,-9380.5937"/>
<polygon fill="#000000" stroke="#000000" points="4627.4387,-9377.1347 4617.771,-9381.4691 4628.0316,-9384.1096 4627.4387,-9377.1347"/>
</g>
<!-- 60&#45;&gt;39 -->
<g id="edge241" class="edge">
<title>60&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M8926.5731,-8036.7414C8772.2972,-8121.184 8568.604,-8217.703 8373.8507,-8264 8297.6163,-8282.1226 7019.9505,-8245.2924 6963.8507,-8300 6930.071,-8332.9415 6925.1347,-9101.2121 6920.8507,-9148.2 6915.382,-9208.1825 6906.2654,-9275.8959 6898.9985,-9325.7234"/>
<polygon fill="#000000" stroke="#000000" points="6895.5149,-9325.3563 6897.5247,-9335.7588 6902.4406,-9326.3735 6895.5149,-9325.3563"/>
</g>
<!-- 61 -->
<g id="node142" class="node">
<title>61</title>
<polygon fill="#f2f2f2" stroke="#000000" points="11493.7495,-8317.3 11493.7495,-9130.9 12431.9519,-9130.9 12431.9519,-8317.3 11493.7495,-8317.3"/>
<text text-anchor="middle" x="11962.8507" y="-9114.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetixAdapterV2</text>
<polyline fill="none" stroke="#000000" points="11493.7495,-9106.1 12431.9519,-9106.1 "/>
<text text-anchor="start" x="11501.7495" y="-9089.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="11501.7495" y="-9072.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_SYNTHETIX: bytes32</text>
<text text-anchor="start" x="11501.7495" y="-9055.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_EXCHANGER: bytes32</text>
<text text-anchor="start" x="11501.7495" y="-9039.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_EXCHANGE_RATES: bytes32</text>
<text text-anchor="start" x="11501.7495" y="-9022.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_DELEGATE_APPROVALS: bytes32</text>
<text text-anchor="start" x="11501.7495" y="-9005.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11501.7495" y="-8988.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isMarketPaused: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="11501.7495" y="-8971.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isGlobalPaused: bool</text>
<text text-anchor="start" x="11501.7495" y="-8955.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;addressResolver: IAddressResolver</text>
<text text-anchor="start" x="11501.7495" y="-8938.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="11501.7495" y="-8921.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchanger: IExchanger</text>
<text text-anchor="start" x="11501.7495" y="-8904.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangeRates: IExchangeRates</text>
<text text-anchor="start" x="11501.7495" y="-8887.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;delegateApprovals: IDelegateApprovals</text>
<text text-anchor="start" x="11501.7495" y="-8871.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="11501.7495" y="-8854.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="11501.7495" y="-8837.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rewardAddress: mapping(address=&gt;address)</text>
<text text-anchor="start" x="11501.7495" y="-8820.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;trackingCode: mapping(address=&gt;bytes32)</text>
<polyline fill="none" stroke="#000000" points="11493.7495,-8812.5 12431.9519,-8812.5 "/>
<text text-anchor="start" x="11501.7495" y="-8795.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="11501.7495" y="-8779.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exchangeQuoteForBase(sender: address, optionMarket: address, amountQuote: uint): (received: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8762.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="11501.7495" y="-8745.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize()</text>
<text text-anchor="start" x="11501.7495" y="-8728.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAddressResolver(_addressResolver: IAddressResolver)</text>
<text text-anchor="start" x="11501.7495" y="-8711.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _quoteKey: bytes32, _baseKey: bytes32, _rewardAddress: address, _trackingCode: bytes32)</text>
<text text-anchor="start" x="11501.7495" y="-8695.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMarketPaused(_contractAddress: address, _isPaused: bool)</text>
<text text-anchor="start" x="11501.7495" y="-8678.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalPaused(_isPaused: bool)</text>
<text text-anchor="start" x="11501.7495" y="-8661.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeToExactBaseWithLimit(exchangeParams: ExchangeParams, optionMarket: address, amountBase: uint, quoteLimit: uint): (received: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8644.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactBase(optionMarket: address, amountBase: uint): (received: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8627.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="11501.7495" y="-8611.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddressResolverSet(addressResolver: IAddressResolver)</text>
<text text-anchor="start" x="11501.7495" y="-8594.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SynthetixAddressesUpdated(synthetix: ISynthetix, exchanger: IExchanger, exchangeRates: IExchangeRates, delegateApprovals: IDelegateApprovals)</text>
<text text-anchor="start" x="11501.7495" y="-8577.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalPaused(isPaused: bool)</text>
<text text-anchor="start" x="11501.7495" y="-8560.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketPaused(contractAddress: address, isPaused: bool)</text>
<text text-anchor="start" x="11501.7495" y="-8543.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradingCutoffSet(contractAddress: address, tradingCutoff: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8527.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteKeySet(contractAddress: address, quoteKey: bytes32)</text>
<text text-anchor="start" x="11501.7495" y="-8510.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseKeySet(contractAddress: address, baseKey: bytes32)</text>
<text text-anchor="start" x="11501.7495" y="-8493.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSwappedForQuote(marketAddress: address, exchanger: address, baseSwapped: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8476.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteSwappedForBase(marketAddress: address, exchanger: address, quoteSwapped: uint, baseReceived: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8459.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notPaused(_contractAddress: address)</text>
<text text-anchor="start" x="11501.7495" y="-8443.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateSynthetixAddresses()</text>
<text text-anchor="start" x="11501.7495" y="-8426.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): uint</text>
<text text-anchor="start" x="11501.7495" y="-8409.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="11501.7495" y="-8392.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeParams(_contractAddress: address): (exchangeParams: ExchangeParams)</text>
<text text-anchor="start" x="11501.7495" y="-8375.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeForExactBase(exchangeParams: ExchangeParams, optionMarket: address, amountBase: uint): (received: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8359.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeFromExactQuote(optionMarket: address, amountQuote: uint): (received: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8342.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;estimateExchangeForExactBase(exchangeParams: ExchangeParams, amountBase: uint): (quoteNeeded: uint)</text>
<text text-anchor="start" x="11501.7495" y="-8325.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;estimateExchangeForExactQuote(exchangeParams: ExchangeParams, amountQuote: uint): (baseNeeded: uint)</text>
</g>
<!-- 61&#45;&gt;9 -->
<g id="edge244" class="edge">
<title>61&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M11522.5373,-9131.0048C11510.0965,-9137.1788 11497.5279,-9142.9302 11484.8507,-9148.2 11366.0158,-9197.5989 11031.4287,-9151.9152 10906.8507,-9184.2 10778.213,-9217.5369 10641.9965,-9288.1509 10553.7883,-9339.1846"/>
<polygon fill="#000000" stroke="#000000" points="10552.0228,-9336.1625 10545.1381,-9344.2156 10555.5421,-9342.2135 10552.0228,-9336.1625"/>
</g>
<!-- 61&#45;&gt;12 -->
<g id="edge248" class="edge">
<title>61&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M11999.0941,-9131.3542C12006.1313,-9210.4292 12012.6889,-9284.1155 12017.1239,-9333.9491"/>
<polygon fill="#000000" stroke="#000000" points="12013.6647,-9334.5641 12018.0374,-9344.2144 12020.6371,-9333.9435 12013.6647,-9334.5641"/>
</g>
<!-- 61&#45;&gt;13 -->
<g id="edge247" class="edge">
<title>61&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M12221.3865,-9131.3542C12272.1105,-9211.2564 12319.3416,-9285.6564 12350.9869,-9335.5051"/>
<polygon fill="#000000" stroke="#000000" points="12348.2013,-9337.6478 12356.5158,-9344.2144 12354.1111,-9333.8961 12348.2013,-9337.6478"/>
</g>
<!-- 61&#45;&gt;14 -->
<g id="edge246" class="edge">
<title>61&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M12410.1121,-9131.0623C12420.6335,-9137.0437 12431.218,-9142.7677 12441.8507,-9148.2 12507.1451,-9181.5592 12535.0614,-9156.2572 12602.8507,-9184.2 12698.8678,-9223.7783 12798.1999,-9289.7355 12864.5158,-9338.0027"/>
<polygon fill="#000000" stroke="#000000" points="12862.7039,-9341.0138 12872.8408,-9344.0953 12866.8381,-9335.365 12862.7039,-9341.0138"/>
</g>
<!-- 61&#45;&gt;19 -->
<g id="edge245" class="edge">
<title>61&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M11523.8917,-9130.9928C11511.0152,-9137.216 11497.9947,-9142.9737 11484.8507,-9148.2 11365.6439,-9195.599 10458.3909,-9170.3999 10330.8507,-9184.2 10031.9144,-9216.5456 9694.0516,-9283.2697 9462.6928,-9333.6839"/>
<polygon fill="#000000" stroke="#000000" points="9461.813,-9330.2935 9452.7898,-9335.846 9463.3062,-9337.1324 9461.813,-9330.2935"/>
</g>
<!-- 61&#45;&gt;34 -->
<g id="edge243" class="edge">
<title>61&#45;&gt;34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11524.8162,-9131.054C11511.6432,-9137.2905 11498.3143,-9143.0295 11484.8507,-9148.2 11362.2958,-9195.2654 6889.9721,-9177.716 6758.8507,-9184.2 5970.5864,-9223.18 5037.397,-9325.4397 4628.0359,-9373.1338"/>
<polygon fill="#000000" stroke="#000000" points="4627.3941,-9369.6848 4617.867,-9374.3199 4628.2052,-9376.6377 4627.3941,-9369.6848"/>
</g>
<!-- 61&#45;&gt;36 -->
<g id="edge242" class="edge">
<title>61&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M11509.7029,-9131.0768C11501.4174,-9136.9055 11493.1297,-9142.6186 11484.8507,-9148.2 11350.2533,-9238.9404 11178.0214,-9317.2632 11073.7339,-9361.0528"/>
<polygon fill="none" stroke="#000000" points="11069.5804,-9351.4081 11045.8913,-9372.5997 11077.6251,-9370.8061 11069.5804,-9351.4081"/>
</g>
<!-- 61struct0 -->
<g id="node143" class="node">
<title>61struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="12312.7879,-7815.1 12312.7879,-7948.7 12462.9135,-7948.7 12462.9135,-7815.1 12312.7879,-7815.1"/>
<text text-anchor="middle" x="12387.8507" y="-7932.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="12387.8507" y="-7915.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeParams</text>
<polyline fill="none" stroke="#000000" points="12312.7879,-7907.1 12462.9135,-7907.1 "/>
<text text-anchor="start" x="12320.7879" y="-7890.5" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="12320.7879" y="-7873.7" font-family="Times,serif" font-size="14.00" fill="#000000">quoteKey: bytes32</text>
<text text-anchor="start" x="12320.7879" y="-7856.9" font-family="Times,serif" font-size="14.00" fill="#000000">baseKey: bytes32</text>
<text text-anchor="start" x="12320.7879" y="-7840.1" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="12320.7879" y="-7823.3" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 61struct0&#45;&gt;61 -->
<g id="edge78" class="edge">
<title>61struct0&#45;&gt;61</title>
<path fill="none" stroke="#000000" d="M12380.5269,-7948.7363C12370.1,-8027.1421 12346.674,-8159.6688 12298.8507,-8264 12292.3642,-8278.151 12285.4053,-8292.3011 12278.0566,-8306.3968"/>
<polygon fill="#000000" stroke="#000000" points="12277.9723,-8306.5563 12278.7034,-8313.7303 12272.3624,-8317.1643 12271.6313,-8309.9904 12277.9723,-8306.5563"/>
</g>
<!-- 62 -->
<g id="node144" class="node">
<title>62</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8663.1358,-7036.1 8663.1358,-7211.3 9778.5656,-7211.3 9778.5656,-7036.1 8663.1358,-7036.1"/>
<text text-anchor="middle" x="9220.8507" y="-7194.7" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetixReturnZero</text>
<polyline fill="none" stroke="#000000" points="8663.1358,-7186.5 9778.5656,-7186.5 "/>
<text text-anchor="start" x="8671.1358" y="-7169.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8671.1358" y="-7153.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;returnZero: bool</text>
<polyline fill="none" stroke="#000000" points="8663.1358,-7144.9 9778.5656,-7144.9 "/>
<text text-anchor="start" x="8671.1358" y="-7128.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8671.1358" y="-7111.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setReturnZero(_returnZero: bool)</text>
<text text-anchor="start" x="8671.1358" y="-7094.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8671.1358" y="-7077.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8671.1358" y="-7061.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="8671.1358" y="-7044.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeOnBehalfWithTracking(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32, address, bytes32): (amountReceived: uint)</text>
</g>
<!-- 62&#45;&gt;60 -->
<g id="edge249" class="edge">
<title>62&#45;&gt;60</title>
<path fill="none" stroke="#000000" d="M9216.4545,-7211.4159C9210.534,-7329.546 9199.8496,-7542.7284 9192.1148,-7697.0576"/>
<polygon fill="none" stroke="#000000" points="9181.6244,-7696.6052 9190.6094,-7727.0932 9202.598,-7697.6564 9181.6244,-7696.6052"/>
</g>
</g>
</svg>
