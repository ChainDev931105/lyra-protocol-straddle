{
  "contractName": "LiquidityPool",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountSoldBase",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "receivedQuote",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockedCollateralBase",
          "type": "uint256"
        }
      ],
      "name": "BaseFreed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "quoteSpent",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "baseReceivedAndLocked",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockedCollateralBase",
          "type": "uint256"
        }
      ],
      "name": "BaseLocked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalAmountToLiquidate",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "baseFreed",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "quoteReceived",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockedCollateralBase",
          "type": "uint256"
        }
      ],
      "name": "CollateralLiquidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "CollateralQuoteTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "DeltaQuoteTransferredToPoolHedger",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockedCollateralQuote",
          "type": "uint256"
        }
      ],
      "name": "QuoteFreed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lockedCollateralQuote",
          "type": "uint256"
        }
      ],
      "name": "QuoteLocked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalQuoteAmountReserved",
          "type": "uint256"
        }
      ],
      "name": "QuoteReserved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalQuoteAmountReserved",
          "type": "uint256"
        }
      ],
      "name": "ReservedQuoteSent",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "maxExpiryTimestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "pricePerToken",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalQuoteAmountReserved",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalTokenSupply",
          "type": "uint256"
        }
      ],
      "name": "RoundEnded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "lastMaxExpiryTimestmp",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "newMaxExpiryTimestmp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalTokenSupply",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalPoolValueQuote",
          "type": "uint256"
        }
      ],
      "name": "RoundStarted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalQuoteAmountReserved",
          "type": "uint256"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensBurnableForRound",
          "type": "uint256"
        }
      ],
      "name": "WithdrawSignaled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensBurnableForRound",
          "type": "uint256"
        }
      ],
      "name": "WithdrawUnSignaled",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "endRound",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "exchangeBase",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "expiryToTokenValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amountBase",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "spotPrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "quoteKey",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "baseKey",
              "type": "bytes32"
            },
            {
              "internalType": "contract ISynthetix",
              "name": "synthetix",
              "type": "address"
            },
            {
              "internalType": "contract ICollateralShort",
              "name": "short",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quoteBaseFeeRate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "baseQuoteFeeRate",
              "type": "uint256"
            }
          ],
          "internalType": "struct LyraGlobals.ExchangeGlobals",
          "name": "exchangeGlobals",
          "type": "tuple"
        }
      ],
      "name": "freeBase",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "freeQuoteCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basePrice",
          "type": "uint256"
        },
        {
          "internalType": "contract ICollateralShort",
          "name": "short",
          "type": "address"
        }
      ],
      "name": "getLiquidity",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "freeCollatLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "usedCollatLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "freeDeltaLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "usedDeltaLiquidity",
              "type": "uint256"
            }
          ],
          "internalType": "struct LiquidityPool.Liquidity",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basePrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "usedDeltaLiquidity",
          "type": "uint256"
        }
      ],
      "name": "getTotalPoolValueQuote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basePrice",
          "type": "uint256"
        }
      ],
      "name": "getUsedCollatLiquidityQuote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract LyraGlobals",
          "name": "_globals",
          "type": "address"
        },
        {
          "internalType": "contract OptionMarket",
          "name": "_optionMarket",
          "type": "address"
        },
        {
          "internalType": "contract LiquidityCertificate",
          "name": "_liquidityCertificate",
          "type": "address"
        },
        {
          "internalType": "contract PoolHedger",
          "name": "_hedge",
          "type": "address"
        },
        {
          "internalType": "contract ShortCollateral",
          "name": "_shortCollateral",
          "type": "address"
        },
        {
          "internalType": "contract IERC20",
          "name": "_quoteAsset",
          "type": "address"
        },
        {
          "internalType": "contract IERC20",
          "name": "_baseAsset",
          "type": "address"
        }
      ],
      "name": "init",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amountToLiquidate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amountCollateral",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "spotPrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "quoteKey",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "baseKey",
              "type": "bytes32"
            },
            {
              "internalType": "contract ISynthetix",
              "name": "synthetix",
              "type": "address"
            },
            {
              "internalType": "contract ICollateralShort",
              "name": "short",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quoteBaseFeeRate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "baseQuoteFeeRate",
              "type": "uint256"
            }
          ],
          "internalType": "struct LyraGlobals.ExchangeGlobals",
          "name": "exchangeGlobals",
          "type": "tuple"
        }
      ],
      "name": "liquidateCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "liquidityCertificate",
      "outputs": [
        {
          "internalType": "contract LiquidityCertificate",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "spotPrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "quoteKey",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "baseKey",
              "type": "bytes32"
            },
            {
              "internalType": "contract ISynthetix",
              "name": "synthetix",
              "type": "address"
            },
            {
              "internalType": "contract ICollateralShort",
              "name": "short",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quoteBaseFeeRate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "baseQuoteFeeRate",
              "type": "uint256"
            }
          ],
          "internalType": "struct LyraGlobals.ExchangeGlobals",
          "name": "exchangeGlobals",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "freeCollatLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "usedCollatLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "freeDeltaLiquidity",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "usedDeltaLiquidity",
              "type": "uint256"
            }
          ],
          "internalType": "struct LiquidityPool.Liquidity",
          "name": "liquidity",
          "type": "tuple"
        }
      ],
      "name": "lockBase",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "freeCollatLiq",
          "type": "uint256"
        }
      ],
      "name": "lockQuote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lockedCollateral",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "quote",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "base",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "queuedQuoteFunds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "reserveQuote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "freeCollatLiq",
          "type": "uint256"
        }
      ],
      "name": "sendPremium",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "sendReservedQuote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        }
      ],
      "name": "signalWithdrawal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "lastMaxExpiryTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newMaxExpiryTimestamp",
          "type": "uint256"
        }
      ],
      "name": "startRound",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenPriceQuote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokensBurnableForRound",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalQuoteAmountReserved",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalTokenSupply",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "spotPrice",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "quoteKey",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "baseKey",
              "type": "bytes32"
            },
            {
              "internalType": "contract ISynthetix",
              "name": "synthetix",
              "type": "address"
            },
            {
              "internalType": "contract ICollateralShort",
              "name": "short",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "quoteBaseFeeRate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "baseQuoteFeeRate",
              "type": "uint256"
            }
          ],
          "internalType": "struct LyraGlobals.ExchangeGlobals",
          "name": "exchangeGlobals",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "transferQuoteToHedge",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        }
      ],
      "name": "unSignalWithdrawal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "certificateId",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ]
}
