<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="6023pt" height="5011pt"
 viewBox="0.00 0.00 6022.82 5011.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 5007)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-5007 6018.8159,-5007 6018.8159,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4361.0993,-2991.7 4361.0993,-3570.1 5213.7729,-3570.1 5213.7729,-2991.7 4361.0993,-2991.7"/>
<text text-anchor="middle" x="4787.4361" y="-3553.5" font-family="Times,serif" font-size="14.00" fill="#000000">BlackScholes</text>
<polyline fill="none" stroke="#000000" points="4361.0993,-3545.3 5213.7729,-3545.3 "/>
<text text-anchor="start" x="4369.0993" y="-3528.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4369.0993" y="-3511.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SECONDS_PER_YEAR: uint</text>
<text text-anchor="start" x="4369.0993" y="-3495.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<text text-anchor="start" x="4369.0993" y="-3478.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LN_2_PRECISE: uint</text>
<text text-anchor="start" x="4369.0993" y="-3461.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SQRT_TWOPI: uint</text>
<text text-anchor="start" x="4369.0993" y="-3444.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="4369.0993" y="-3427.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="4369.0993" y="-3411.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_EXP: int</text>
<text text-anchor="start" x="4369.0993" y="-3394.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_EXP: uint</text>
<text text-anchor="start" x="4369.0993" y="-3377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_T_ANNUALISED: uint</text>
<text text-anchor="start" x="4369.0993" y="-3360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_VOLATILITY: uint</text>
<text text-anchor="start" x="4369.0993" y="-3343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;VEGA_STANDARDISATION_MIN_DAYS: uint</text>
<polyline fill="none" stroke="#000000" points="4361.0993,-3335.7 5213.7729,-3335.7 "/>
<text text-anchor="start" x="4369.0993" y="-3319.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4369.0993" y="-3302.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;floor(x: uint): uint</text>
<text text-anchor="start" x="4369.0993" y="-3285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln(x: uint): int</text>
<text text-anchor="start" x="4369.0993" y="-3268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrtDecimal(x: uint): uint</text>
<text text-anchor="start" x="4369.0993" y="-3251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal(x: int): uint</text>
<text text-anchor="start" x="4369.0993" y="-3235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF(x: int): uint</text>
<text text-anchor="start" x="4369.0993" y="-3218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="4369.0993" y="-3201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2(tAnnualised: uint, volatility: uint, spot: uint, strike: uint, rate: int): (d1: int, d2: int)</text>
<text text-anchor="start" x="4369.0993" y="-3184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_optionPrices(tAnnualised: uint, spot: uint, strike: uint, rate: int, d1: int, d2: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="4369.0993" y="-3167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_delta(d1: int): (callDelta: int, putDelta: int)</text>
<text text-anchor="start" x="4369.0993" y="-3151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_vega(tAnnualised: uint, spot: uint, d1: int): (vega: uint)</text>
<text text-anchor="start" x="4369.0993" y="-3134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_standardVega(d1: int, spot: uint, timeToExpirySec: uint): uint</text>
<text text-anchor="start" x="4369.0993" y="-3117.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4369.0993" y="-3100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPrices(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="4369.0993" y="-3083.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pricesDeltaStdVega(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): PricesDeltaStdVega</text>
<text text-anchor="start" x="4369.0993" y="-3067.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4369.0993" y="-3050.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(x: int): uint</text>
<text text-anchor="start" x="4369.0993" y="-3033.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: uint): uint</text>
<text text-anchor="start" x="4369.0993" y="-3016.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: int): uint</text>
<text text-anchor="start" x="4369.0993" y="-2999.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt(x: uint): (y: uint)</text>
</g>
<!-- 15 -->
<g id="node35" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3857.7243,-4575.3 3857.7243,-5002.5 4257.1479,-5002.5 4257.1479,-4575.3 3857.7243,-4575.3"/>
<text text-anchor="middle" x="4057.4361" y="-4985.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="4057.4361" y="-4969.1" font-family="Times,serif" font-size="14.00" fill="#000000">SafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="3857.7243,-4960.9 4257.1479,-4960.9 "/>
<text text-anchor="start" x="3865.7243" y="-4944.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3865.7243" y="-4927.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: uint</text>
<text text-anchor="start" x="3865.7243" y="-4910.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3865.7243" y="-4893.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="3865.7243" y="-4877.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="3865.7243" y="-4860.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: uint</text>
<text text-anchor="start" x="3865.7243" y="-4843.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<polyline fill="none" stroke="#000000" points="3857.7243,-4835.3 4257.1479,-4835.3 "/>
<text text-anchor="start" x="3865.7243" y="-4818.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3865.7243" y="-4801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4785.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4768.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3865.7243" y="-4751.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4734.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4717.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4701.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4684.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4667.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4650.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4633.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: uint): uint</text>
<text text-anchor="start" x="3865.7243" y="-4617.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3865.7243" y="-4600.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): uint</text>
<text text-anchor="start" x="3865.7243" y="-4583.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): uint</text>
</g>
<!-- 0&#45;&gt;15 -->
<g id="edge20" class="edge">
<title>0&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4869.9806,-3570.3001C4930.0734,-3845.8505 4969.8592,-4258.9316 4768.4361,-4538.8 4708.4555,-4622.1403 4454.7986,-4697.2928 4267.4763,-4742.9744"/>
<polygon fill="#000000" stroke="#000000" points="4266.3793,-4739.6389 4257.4865,-4745.3981 4268.0298,-4746.4416 4266.3793,-4739.6389"/>
</g>
<!-- 16 -->
<g id="node36" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4371.1927,-3859.1 4371.1927,-4286.3 4759.6795,-4286.3 4759.6795,-3859.1 4371.1927,-3859.1"/>
<text text-anchor="middle" x="4565.4361" y="-4269.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="4565.4361" y="-4252.9" font-family="Times,serif" font-size="14.00" fill="#000000">SignedSafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="4371.1927,-4244.7 4759.6795,-4244.7 "/>
<text text-anchor="start" x="4379.1927" y="-4228.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4379.1927" y="-4211.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: int</text>
<text text-anchor="start" x="4379.1927" y="-4194.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4379.1927" y="-4177.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="4379.1927" y="-4160.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="4379.1927" y="-4144.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: int</text>
<text text-anchor="start" x="4379.1927" y="-4127.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: int</text>
<polyline fill="none" stroke="#000000" points="4371.1927,-4119.1 4759.6795,-4119.1 "/>
<text text-anchor="start" x="4379.1927" y="-4102.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4379.1927" y="-4085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="4379.1927" y="-4068.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="4379.1927" y="-4052.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4379.1927" y="-4035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-4018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-4001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: int): int</text>
<text text-anchor="start" x="4379.1927" y="-3900.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4379.1927" y="-3884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): int</text>
<text text-anchor="start" x="4379.1927" y="-3867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): int</text>
</g>
<!-- 0&#45;&gt;16 -->
<g id="edge21" class="edge">
<title>0&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4706.3467,-3570.119C4680.5293,-3662.2008 4652.3792,-3762.603 4628.0744,-3849.2902"/>
<polygon fill="#000000" stroke="#000000" points="4624.6872,-3848.4067 4625.3575,-3858.9803 4631.4273,-3850.2965 4624.6872,-3848.4067"/>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5085.0693,-2481.1 5085.0693,-2614.7 5213.8029,-2614.7 5213.8029,-2481.1 5085.0693,-2481.1"/>
<text text-anchor="middle" x="5149.4361" y="-2598.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5149.4361" y="-2581.3" font-family="Times,serif" font-size="14.00" fill="#000000">PricesDeltaStdVega</text>
<polyline fill="none" stroke="#000000" points="5085.0693,-2573.1 5213.8029,-2573.1 "/>
<text text-anchor="start" x="5093.0693" y="-2556.5" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="5093.0693" y="-2539.7" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="5093.0693" y="-2522.9" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="5093.0693" y="-2506.1" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="5093.0693" y="-2489.3" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M5148.4306,-2614.7688C5144.7734,-2698.378 5130.3545,-2844.0224 5076.4361,-2955.2 5072.2147,-2963.9043 5067.6933,-2972.5522 5062.9122,-2981.1277"/>
<polygon fill="#000000" stroke="#000000" points="5062.9094,-2981.1326 5063.4046,-2988.3267 5056.9544,-2991.5508 5056.4592,-2984.3567 5062.9094,-2981.1326"/>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5305.8098,-1508.9 5305.8098,-1936.1 5919.0624,-1936.1 5919.0624,-1508.9 5305.8098,-1508.9"/>
<text text-anchor="middle" x="5612.4361" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityCertificate</text>
<polyline fill="none" stroke="#000000" points="5305.8098,-1911.3 5919.0624,-1911.3 "/>
<text text-anchor="start" x="5313.8098" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5313.8098" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextId: uint</text>
<text text-anchor="start" x="5313.8098" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_certificateData: mapping(uint=&gt;CertificateData)</text>
<text text-anchor="start" x="5313.8098" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5313.8098" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minLiquidity: uint</text>
<text text-anchor="start" x="5313.8098" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: address</text>
<polyline fill="none" stroke="#000000" points="5305.8098,-1802.5 5919.0624,-1802.5 "/>
<text text-anchor="start" x="5313.8098" y="-1785.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5313.8098" y="-1769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(address, address, tokenId: uint)</text>
<text text-anchor="start" x="5313.8098" y="-1752.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5313.8098" y="-1735.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificates(owner: address): uint[]</text>
<text text-anchor="start" x="5313.8098" y="-1718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidity(certificateId: uint): uint</text>
<text text-anchor="start" x="5313.8098" y="-1701.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enteredAt(certificateId: uint): uint</text>
<text text-anchor="start" x="5313.8098" y="-1685.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnableAt(certificateId: uint): uint</text>
<text text-anchor="start" x="5313.8098" y="-1668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificateData(certificateId: uint): CertificateData</text>
<text text-anchor="start" x="5313.8098" y="-1651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(owner: address, liquidityAmount: uint, expiryAtCreation: uint): uint</text>
<text text-anchor="start" x="5313.8098" y="-1634.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBurnableAt(spender: address, certificateId: uint, timestamp: uint)</text>
<text text-anchor="start" x="5313.8098" y="-1617.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(spender: address, certificateId: uint)</text>
<text text-anchor="start" x="5313.8098" y="-1601.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;split(certificateId: uint, percentageSplit: uint): uint</text>
<text text-anchor="start" x="5313.8098" y="-1584.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5313.8098" y="-1567.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateDataModified(certificateId: uint, liquidity: uint, enteredAt: uint, burnableAt: uint)</text>
<text text-anchor="start" x="5313.8098" y="-1550.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateSplit(certificateId: uint, newCertificateId: uint)</text>
<text text-anchor="start" x="5313.8098" y="-1533.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
<text text-anchor="start" x="5313.8098" y="-1517.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string, _liquidityPool: address)</text>
</g>
<!-- 1&#45;&gt;15 -->
<g id="edge23" class="edge">
<title>1&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5443.1461,-1936.3223C5402.3006,-1998.8224 5363.7534,-2069.5305 5340.4361,-2140.6 5173.0802,-2650.6899 5422.4622,-4152.7284 5049.4361,-4538.8 4942.4922,-4649.4839 4525.6984,-4724.9288 4267.5999,-4762.1194"/>
<polygon fill="#000000" stroke="#000000" points="4266.744,-4758.7062 4257.3416,-4763.5895 4267.737,-4765.6354 4266.744,-4758.7062"/>
</g>
<!-- 18 -->
<g id="node38" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5349.5843,-2141.1 5349.5843,-2954.7 5875.2879,-2954.7 5875.2879,-2141.1 5349.5843,-2141.1"/>
<text text-anchor="middle" x="5612.4361" y="-2938.1" font-family="Times,serif" font-size="14.00" fill="#000000">ERC721</text>
<polyline fill="none" stroke="#000000" points="5349.5843,-2929.9 5875.2879,-2929.9 "/>
<text text-anchor="start" x="5357.5843" y="-2913.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5357.5843" y="-2896.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_ERC721_RECEIVED: bytes4</text>
<text text-anchor="start" x="5357.5843" y="-2879.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_holderTokens: mapping(address=&gt;EnumerableSet.UintSet)</text>
<text text-anchor="start" x="5357.5843" y="-2862.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenOwners: EnumerableMap.UintToAddressMap</text>
<text text-anchor="start" x="5357.5843" y="-2846.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenApprovals: mapping(uint=&gt;address)</text>
<text text-anchor="start" x="5357.5843" y="-2829.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_operatorApprovals: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="5357.5843" y="-2812.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_name: string</text>
<text text-anchor="start" x="5357.5843" y="-2795.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_symbol: string</text>
<text text-anchor="start" x="5357.5843" y="-2778.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenURIs: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="5357.5843" y="-2762.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_baseURI: string</text>
<text text-anchor="start" x="5357.5843" y="-2745.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721: bytes4</text>
<text text-anchor="start" x="5357.5843" y="-2728.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_METADATA: bytes4</text>
<text text-anchor="start" x="5357.5843" y="-2711.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_ENUMERABLE: bytes4</text>
<polyline fill="none" stroke="#000000" points="5349.5843,-2703.5 5875.2879,-2703.5 "/>
<text text-anchor="start" x="5357.5843" y="-2686.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5357.5843" y="-2670.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkOnERC721Received(from: address, to: address, tokenId: uint, _data: bytes): bool</text>
<text text-anchor="start" x="5357.5843" y="-2653.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5357.5843" y="-2636.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeTransfer(from: address, to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="5357.5843" y="-2619.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exists(tokenId: uint): bool</text>
<text text-anchor="start" x="5357.5843" y="-2602.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isApprovedOrOwner(spender: address, tokenId: uint): bool</text>
<text text-anchor="start" x="5357.5843" y="-2586.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2569.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="5357.5843" y="-2552.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2535.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2518.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2502.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setTokenURI(tokenId: uint, _tokenURI: string)</text>
<text text-anchor="start" x="5357.5843" y="-2485.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setBaseURI(baseURI_: string)</text>
<text text-anchor="start" x="5357.5843" y="-2468.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2451.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2434.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5357.5843" y="-2418.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
<text text-anchor="start" x="5357.5843" y="-2401.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(owner: address): uint</text>
<text text-anchor="start" x="5357.5843" y="-2384.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ownerOf(tokenId: uint): address</text>
<text text-anchor="start" x="5357.5843" y="-2367.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="5357.5843" y="-2350.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="5357.5843" y="-2334.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenURI(tokenId: uint): string</text>
<text text-anchor="start" x="5357.5843" y="-2317.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;baseURI(): string</text>
<text text-anchor="start" x="5357.5843" y="-2300.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenOfOwnerByIndex(owner: address, index: uint): uint</text>
<text text-anchor="start" x="5357.5843" y="-2283.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;totalSupply(): uint</text>
<text text-anchor="start" x="5357.5843" y="-2266.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenByIndex(index: uint): uint</text>
<text text-anchor="start" x="5357.5843" y="-2250.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2233.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getApproved(tokenId: uint): address</text>
<text text-anchor="start" x="5357.5843" y="-2216.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(operator: address, approved: bool)</text>
<text text-anchor="start" x="5357.5843" y="-2199.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isApprovedForAll(owner: address, operator: address): bool</text>
<text text-anchor="start" x="5357.5843" y="-2182.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2166.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="5357.5843" y="-2149.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint, _data: bytes)</text>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge22" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M5612.4361,-1936.1344C5612.4361,-1990.0936 5612.4361,-2050.023 5612.4361,-2110.6612"/>
<polygon fill="none" stroke="#000000" points="5601.9362,-2110.9459 5612.4361,-2140.9459 5622.9362,-2110.946 5601.9362,-2110.9459"/>
</g>
<!-- 1struct0 -->
<g id="node4" class="node">
<title>1struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5558.3614,-763.1 5558.3614,-863.1 5666.5108,-863.1 5666.5108,-763.1 5558.3614,-763.1"/>
<text text-anchor="middle" x="5612.4361" y="-846.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5612.4361" y="-829.7" font-family="Times,serif" font-size="14.00" fill="#000000">CertificateData</text>
<polyline fill="none" stroke="#000000" points="5558.3614,-821.5 5666.5108,-821.5 "/>
<text text-anchor="start" x="5566.3614" y="-804.9" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: uint</text>
<text text-anchor="start" x="5566.3614" y="-788.1" font-family="Times,serif" font-size="14.00" fill="#000000">enteredAt: uint</text>
<text text-anchor="start" x="5566.3614" y="-771.3" font-family="Times,serif" font-size="14.00" fill="#000000">burnableAt: uint</text>
</g>
<!-- 1struct0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>1struct0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M5612.4361,-863.2887C5612.4361,-981.6342 5612.4361,-1284.144 5612.4361,-1496.5699"/>
<polygon fill="#000000" stroke="#000000" points="5612.4362,-1496.8373 5616.4361,-1502.8373 5612.4361,-1508.8373 5608.4361,-1502.8372 5612.4362,-1496.8373"/>
</g>
<!-- 2 -->
<g id="node5" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2259.2771,-322.3 2259.2771,-1303.9 3167.5951,-1303.9 3167.5951,-322.3 2259.2771,-322.3"/>
<text text-anchor="middle" x="2713.4361" y="-1287.3" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityPool</text>
<polyline fill="none" stroke="#000000" points="2259.2771,-1279.1 3167.5951,-1279.1 "/>
<text text-anchor="start" x="2267.2771" y="-1262.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2267.2771" y="-1245.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="2267.2771" y="-1228.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="2267.2771" y="-1212.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;hedge: PoolHedger</text>
<text text-anchor="start" x="2267.2771" y="-1195.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="2267.2771" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;INITIAL_RATE: uint</text>
<text text-anchor="start" x="2267.2771" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="2267.2771" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2267.2771" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityCertificate: LiquidityCertificate</text>
<text text-anchor="start" x="2267.2771" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateral: Collateral</text>
<text text-anchor="start" x="2267.2771" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalQuoteAmountReserved: uint</text>
<text text-anchor="start" x="2267.2771" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tokensBurnableForRound: uint</text>
<text text-anchor="start" x="2267.2771" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedQuoteFunds: uint</text>
<text text-anchor="start" x="2267.2771" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalTokenSupply: uint</text>
<text text-anchor="start" x="2267.2771" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;expiryToTokenValue: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="2259.2771,-1019.1 3167.5951,-1019.1 "/>
<text text-anchor="start" x="2267.2771" y="-1002.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2267.2771" y="-985.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _liquidityCertificate: LiquidityCertificate, _hedge: PoolHedger, _shortCollateral: ShortCollateral, _quoteAsset: IERC20)</text>
<text text-anchor="start" x="2267.2771" y="-968.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(beneficiary: address, amount: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-952.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;signalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="2267.2771" y="-935.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unSignalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="2267.2771" y="-918.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(beneficiary: address, certificateId: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-901.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;endRound(short: ICollateralShort, basePrice: uint, maxExpiryTimestamp: uint)</text>
<text text-anchor="start" x="2267.2771" y="-884.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startRound(lastMaxExpiryTimestamp: uint, newMaxExpiryTimestamp: uint)</text>
<text text-anchor="start" x="2267.2771" y="-868.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockQuote(amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="2267.2771" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockBase(amount: uint, exchangeGlobals: LyraGlobals.ExchangeGlobals, freeCollatLiq: uint)</text>
<text text-anchor="start" x="2267.2771" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeBase(amountBase: uint, exchangeGlobals: LyraGlobals.ExchangeGlobals): uint</text>
<text text-anchor="start" x="2267.2771" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateCollateral(amountToLiquidate: uint, amountCollateral: uint, exchangeGlobals: LyraGlobals.ExchangeGlobals): uint</text>
<text text-anchor="start" x="2267.2771" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reserveQuote(amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendReservedQuote(user: address, amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendPremium(recipient: address, amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="2267.2771" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferQuoteToHedge(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2267.2771" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposit(beneficiary: address, certificateId: uint, amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="2267.2771" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawUnSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="2267.2771" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdraw(beneficiary: address, certificateId: uint, value: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="2267.2771" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundEnded(maxExpiryTimestamp: uint, pricePerToken: uint, totalQuoteAmountReserved: uint, totalTokenSupply: uint)</text>
<text text-anchor="start" x="2267.2771" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundStarted(lastMaxExpiryTimestmp: uint, newMaxExpiryTimestmp: uint, totalTokenSupply: uint, totalPoolValueQuote: uint)</text>
<text text-anchor="start" x="2267.2771" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteLocked(amount: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="2267.2771" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseLocked(quoteSpent: uint, baseReceivedAndLocked: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="2267.2771" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteFreed(amount: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="2267.2771" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseFreed(amountSoldBase: uint, receivedQuote: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="2267.2771" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralLiquidated(totalAmountToLiquidate: uint, baseFreed: uint, quoteReceived: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="2267.2771" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReserved(amount: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="2267.2771" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReservedQuoteSent(user: address, amount: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="2267.2771" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralQuoteTransferred(recipient: address, amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DeltaQuoteTransferredToPoolHedger(amount: uint)</text>
<text text-anchor="start" x="2267.2771" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="2267.2771" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="2267.2771" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="2267.2771" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2267.2771" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenPriceQuote(short: ICollateralShort, spotPrice: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTotalPoolValueQuote(basePrice: uint, usedDeltaLiquidity: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUsedCollatLiquidityQuote(basePrice: uint): uint</text>
<text text-anchor="start" x="2267.2771" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidity(basePrice: uint, short: ICollateralShort): Liquidity</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge26" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M3167.6383,-1300.3692C3170.561,-1301.7407 3173.4937,-1303.0846 3176.4361,-1304.4 3318.1892,-1367.7718 4420.9298,-1311.2147 4573.4361,-1340.4 4824.1827,-1388.3856 5094.4515,-1489.4491 5296.4729,-1575.5888"/>
<polygon fill="#000000" stroke="#000000" points="5295.1681,-1578.8374 5305.739,-1579.5497 5297.9196,-1572.4008 5295.1681,-1578.8374"/>
</g>
<!-- 5 -->
<g id="node17" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2772.7074,-1340.9 2772.7074,-2104.1 4050.1648,-2104.1 4050.1648,-1340.9 2772.7074,-1340.9"/>
<text text-anchor="middle" x="3411.4361" y="-2087.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarket</text>
<polyline fill="none" stroke="#000000" points="2772.7074,-2079.3 4050.1648,-2079.3 "/>
<text text-anchor="start" x="2780.7074" y="-2062.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2780.7074" y="-2045.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="2780.7074" y="-2029.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="2780.7074" y="-2012.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="2780.7074" y="-1995.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="2780.7074" y="-1978.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="2780.7074" y="-1961.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="2780.7074" y="-1945.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="2780.7074" y="-1928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="2780.7074" y="-1911.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="2780.7074" y="-1894.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextListingId: uint</text>
<text text-anchor="start" x="2780.7074" y="-1877.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextBoardId: uint</text>
<text text-anchor="start" x="2780.7074" y="-1861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="2780.7074" y="-1844.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2780.7074" y="-1827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxExpiryTimestamp: uint</text>
<text text-anchor="start" x="2780.7074" y="-1810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionBoards: mapping(uint=&gt;OptionBoard)</text>
<text text-anchor="start" x="2780.7074" y="-1793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionListings: mapping(uint=&gt;OptionListing)</text>
<text text-anchor="start" x="2780.7074" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingToUserToCallAmount: mapping(uint=&gt;mapping(address=&gt;int))</text>
<text text-anchor="start" x="2780.7074" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingToUserToPutAmount: mapping(uint=&gt;mapping(address=&gt;int))</text>
<text text-anchor="start" x="2780.7074" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardToPriceAtExpiry: mapping(uint=&gt;uint)</text>
<text text-anchor="start" x="2780.7074" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingToEthReturnedRatio: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="2772.7074,-1718.5 4050.1648,-1718.5 "/>
<text text-anchor="start" x="2780.7074" y="-1701.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2780.7074" y="-1685.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_canDoTrade(account: address, listingId: uint, isLong: bool, isCall: bool, isOpen: bool, amount: uint): bool</text>
<text text-anchor="start" x="2780.7074" y="-1668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doTrade(listing: OptionListing, board: OptionBoard, trade: Trade, pricingGlobals: LyraGlobals.PricingGlobals): uint</text>
<text text-anchor="start" x="2780.7074" y="-1651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidateExpiredBoard(exchangeGlobals: LyraGlobals.ExchangeGlobals, board: OptionBoard)</text>
<text text-anchor="start" x="2780.7074" y="-1634.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2780.7074" y="-1617.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _liquidityPool: LiquidityPool, _optionPricer: OptionMarketPricer, _greekCache: OptionGreekCache, _shortCollateral: ShortCollateral, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="2780.7074" y="-1601.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferOwnership(newOwner: address)</text>
<text text-anchor="start" x="2780.7074" y="-1584.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOptionBoard(expiry: uint, baseIV: uint, strikes: uint[], skews: uint[]): uint</text>
<text text-anchor="start" x="2780.7074" y="-1567.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(_listingId: uint, isLong: bool, isCall: bool, amount: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1550.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(_listingId: uint, isLong: bool, isCall: bool, amount: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1533.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): uint[]</text>
<text text-anchor="start" x="2780.7074" y="-1517.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardListings(boardId: uint): uint[]</text>
<text text-anchor="start" x="2780.7074" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateExpiredBoard(boardId: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1483.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exerciseOptions(listingId: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1466.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2780.7074" y="-1449.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCreated(boardId: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1433.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionOpened(trader: address, listingId: uint, isLong: bool, isCall: bool, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1416.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionClosed(trader: address, listingId: uint, isLong: bool, isCall: bool, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1399.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardLiquidated(boardId: uint, totalUserLongProfitQuote: uint, totalBoardLongCallCollateral: uint, totalBoardLongPutCollateral: uint, totalAMMShortCallProfitBase: uint, totalAMMShortPutProfitQuote: uint)</text>
<text text-anchor="start" x="2780.7074" y="-1382.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnershipTransferred(previousOwner: address, newOwner: address)</text>
<text text-anchor="start" x="2780.7074" y="-1365.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="2780.7074" y="-1349.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge25" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3083.541,-1304.0662C3090.904,-1313.646 3098.2544,-1323.2042 3105.5791,-1332.7237"/>
<polygon fill="#000000" stroke="#000000" points="3102.8529,-1334.9201 3111.7255,-1340.7105 3108.4004,-1330.651 3102.8529,-1334.9201"/>
</g>
<!-- 7 -->
<g id="node23" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1658.8553,-1366.1 1658.8553,-2078.9 2678.0169,-2078.9 2678.0169,-1366.1 1658.8553,-1366.1"/>
<text text-anchor="middle" x="2168.4361" y="-2062.3" font-family="Times,serif" font-size="14.00" fill="#000000">PoolHedger</text>
<polyline fill="none" stroke="#000000" points="1658.8553,-2054.1 2678.0169,-2054.1 "/>
<text text-anchor="start" x="1666.8553" y="-2037.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1666.8553" y="-2020.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="1666.8553" y="-2003.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="1666.8553" y="-1987.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionGreekCache: OptionGreekCache</text>
<text text-anchor="start" x="1666.8553" y="-1970.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="1666.8553" y="-1953.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="1666.8553" y="-1936.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="1666.8553" y="-1919.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1666.8553" y="-1903.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="1666.8553" y="-1886.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortingInitialized: bool</text>
<text text-anchor="start" x="1666.8553" y="-1869.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortId: uint</text>
<text text-anchor="start" x="1666.8553" y="-1852.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortBuffer: uint</text>
<polyline fill="none" stroke="#000000" points="1658.8553,-1844.5 2678.0169,-1844.5 "/>
<text text-anchor="start" x="1666.8553" y="-1827.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1666.8553" y="-1811.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openShort(exchangeGlobals: LyraGlobals.ExchangeGlobals)</text>
<text text-anchor="start" x="1666.8553" y="-1794.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updatePosition(netDelta: int)</text>
<text text-anchor="start" x="1666.8553" y="-1777.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLong(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1760.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLong(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1743.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortTo(exchangeGlobals: LyraGlobals.ExchangeGlobals, desiredShort: uint, currentShort: uint, currentCollateral: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1727.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendAllQuoteToLP()</text>
<text text-anchor="start" x="1666.8553" y="-1710.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1666.8553" y="-1693.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionGreekCache: OptionGreekCache, _liquidityPool: LiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="1666.8553" y="-1676.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initShort()</text>
<text text-anchor="start" x="1666.8553" y="-1659.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reopenShort()</text>
<text text-anchor="start" x="1666.8553" y="-1643.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortBuffer(newShortBuffer: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1626.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDelta()</text>
<text text-anchor="start" x="1666.8553" y="-1609.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="1666.8553" y="-1592.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;endRound()</text>
<text text-anchor="start" x="1666.8553" y="-1575.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1666.8553" y="-1559.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortBufferSet(newShortBuffer: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1542.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortInitialized(shortId: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1525.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionUpdated(netDelta: int)</text>
<text text-anchor="start" x="1666.8553" y="-1508.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongIncreased(purchaseAmount: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1491.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongDecreased(amount: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1475.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralSetTo(newCollateral: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1458.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortSetTo(newShort: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1441.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReturnedToLP(amountQuote: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1424.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
<text text-anchor="start" x="1666.8553" y="-1407.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="1666.8553" y="-1391.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortPosition(short: ICollateralShort): (shortBalance: uint, collateral: uint)</text>
<text text-anchor="start" x="1666.8553" y="-1374.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getValueQuote(short: ICollateralShort, spotPrice: uint): (value: uint)</text>
</g>
<!-- 2&#45;&gt;7 -->
<g id="edge27" class="edge">
<title>2&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M2412.471,-1304.0662C2401.8025,-1321.8994 2391.1928,-1339.6577 2380.7081,-1357.2305"/>
<polygon fill="#000000" stroke="#000000" points="2377.6886,-1355.4606 2375.5715,-1365.8417 2383.7003,-1359.0466 2377.6886,-1355.4606"/>
</g>
<!-- 2&#45;&gt;15 -->
<g id="edge24" class="edge">
<title>2&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2718.1141,-1304.2454C2719.1237,-1656.3234 2714.5032,-2073.7833 2687.4361,-2104.6 2616.5473,-2185.309 2518.509,-2059.1817 2448.4361,-2140.6 2212.2659,-2415.0081 2401.2141,-2596.2484 2448.4361,-2955.2 2543.4702,-3677.5888 2343.6064,-4037.5852 2872.4361,-4538.8 3010.5516,-4669.7033 3545.7728,-4740.5268 3847.4988,-4770.7878"/>
<polygon fill="#000000" stroke="#000000" points="3847.3907,-4774.2943 3857.6886,-4771.8032 3848.0849,-4767.3288 3847.3907,-4774.2943"/>
</g>
<!-- 2struct0 -->
<g id="node6" class="node">
<title>2struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2742.0964,-101.3 2742.0964,-184.5 2820.7758,-184.5 2820.7758,-101.3 2742.0964,-101.3"/>
<text text-anchor="middle" x="2781.4361" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2781.4361" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">Collateral</text>
<polyline fill="none" stroke="#000000" points="2742.0964,-142.9 2820.7758,-142.9 "/>
<text text-anchor="start" x="2750.0964" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">quote: uint</text>
<text text-anchor="start" x="2750.0964" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">base: uint</text>
</g>
<!-- 2struct0&#45;&gt;2 -->
<g id="edge3" class="edge">
<title>2struct0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2777.2081,-184.5708C2774.1595,-214.6175 2769.6766,-258.7999 2764.4766,-310.0512"/>
<polygon fill="#000000" stroke="#000000" points="2764.4601,-310.2145 2767.8339,-316.5876 2763.2487,-322.1532 2759.8748,-315.78 2764.4601,-310.2145"/>
</g>
<!-- 2struct1 -->
<g id="node7" class="node">
<title>2struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2566.8516,-84.5 2566.8516,-201.3 2724.0206,-201.3 2724.0206,-84.5 2566.8516,-84.5"/>
<text text-anchor="middle" x="2645.4361" y="-184.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2645.4361" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">Liquidity</text>
<polyline fill="none" stroke="#000000" points="2566.8516,-159.7 2724.0206,-159.7 "/>
<text text-anchor="start" x="2574.8516" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">freeCollatLiquidity: uint</text>
<text text-anchor="start" x="2574.8516" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">usedCollatLiquidity: uint</text>
<text text-anchor="start" x="2574.8516" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">freeDeltaLiquidity: uint</text>
<text text-anchor="start" x="2574.8516" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">usedDeltaLiquidity: uint</text>
</g>
<!-- 2struct1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>2struct1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2651.3813,-201.4956C2654.2949,-230.2117 2658.1028,-267.7411 2662.4002,-310.0962"/>
<polygon fill="#000000" stroke="#000000" points="2662.4135,-310.2284 2666.9988,-315.794 2663.6249,-322.1671 2659.0397,-316.6016 2662.4135,-310.2284"/>
</g>
<!-- 3 -->
<g id="node8" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1265.5572,-3607.1 1265.5572,-4538.3 2177.315,-4538.3 2177.315,-3607.1 1265.5572,-3607.1"/>
<text text-anchor="middle" x="1721.4361" y="-4521.7" font-family="Times,serif" font-size="14.00" fill="#000000">LyraGlobals</text>
<polyline fill="none" stroke="#000000" points="1265.5572,-4513.5 2177.315,-4513.5 "/>
<text text-anchor="start" x="1273.5572" y="-4496.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1273.5572" y="-4480.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="1273.5572" y="-4463.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchanger: IExchanger</text>
<text text-anchor="start" x="1273.5572" y="-4446.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangeRates: IExchangeRates</text>
<text text-anchor="start" x="1273.5572" y="-4429.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralShort: ICollateralShort</text>
<text text-anchor="start" x="1273.5572" y="-4412.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPaused: bool</text>
<text text-anchor="start" x="1273.5572" y="-4396.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingCutoff: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4379.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4362.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;spotPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4345.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4328.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaNormFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4312.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;standardSize: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4295.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;skewAdjustmentFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="1273.5572" y="-4278.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rateAndCarry: mapping(address=&gt;int)</text>
<text text-anchor="start" x="1273.5572" y="-4261.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minDelta: mapping(address=&gt;int)</text>
<text text-anchor="start" x="1273.5572" y="-4244.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-4228.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseKey: mapping(address=&gt;bytes32)</text>
<polyline fill="none" stroke="#000000" points="1265.5572,-4219.9 2177.315,-4219.9 "/>
<text text-anchor="start" x="1273.5572" y="-4203.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1273.5572" y="-4186.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobals(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="1273.5572" y="-4169.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _tradingCutoff: uint, pricingGlobals: PricingGlobals, _quoteKey: bytes32, _baseKey: bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-4152.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaused(_isPaused: bool)</text>
<text text-anchor="start" x="1273.5572" y="-4136.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): uint</text>
<text text-anchor="start" x="1273.5572" y="-4119.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricingGlobals(_contractAddress: address): PricingGlobals</text>
<text text-anchor="start" x="1273.5572" y="-4102.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGreekCacheGlobals(_contractAddress: address): GreekCacheGlobals</text>
<text text-anchor="start" x="1273.5572" y="-4085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalsForOptionTrade(_contractAddress: address, isBuy: bool): (pricingGlobals: PricingGlobals, exchangeGlobals: ExchangeGlobals, tradeCutoff: uint)</text>
<text text-anchor="start" x="1273.5572" y="-4068.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1273.5572" y="-4052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalsSet(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="1273.5572" y="-4035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Paused(isPaused: bool)</text>
<text text-anchor="start" x="1273.5572" y="-4018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradingCutoffSet(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="1273.5572" y="-4001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionPriceFeeCoefficientSet(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SpotPriceFeeCoefficientSet(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaFeeCoefficientSet(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StandardSizeSet(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SkewAdjustmentFactorSet(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaNormFactorSet(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RateAndCarrySet(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="1273.5572" y="-3884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinDeltaSet(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="1273.5572" y="-3867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteKeySet(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-3850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseKeySet(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-3833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="1273.5572" y="-3816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTradingCutoff(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOptionPriceFeeCoefficient(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSpotPriceFeeCoefficient(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3766.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaFeeCoefficient(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaNormFactor(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStandardSize(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3716.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSkewAdjustmentFactor(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="1273.5572" y="-3699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndCarry(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="1273.5572" y="-3682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMinDelta(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="1273.5572" y="-3665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setQuoteKey(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-3648.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBaseKey(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="1273.5572" y="-3632.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="1273.5572" y="-3615.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeGlobals(_contractAddress: address, exchangeType: ExchangeType): (exchangeGlobals: ExchangeGlobals)</text>
</g>
<!-- 9 -->
<g id="node25" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2062.2088,-4650.9 2062.2088,-4926.9 2534.6634,-4926.9 2534.6634,-4650.9 2062.2088,-4650.9"/>
<text text-anchor="middle" x="2298.4361" y="-4910.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2298.4361" y="-4893.5" font-family="Times,serif" font-size="14.00" fill="#000000">ICollateralShort</text>
<polyline fill="none" stroke="#000000" points="2062.2088,-4885.3 2534.6634,-4885.3 "/>
<text text-anchor="middle" x="2298.4361" y="-4868.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2062.2088,-4860.5 2534.6634,-4860.5 "/>
<text text-anchor="start" x="2070.2088" y="-4843.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2070.2088" y="-4827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;loans(id: uint): (uint, address, uint, bytes32, uint, bool, uint, uint, uint)</text>
<text text-anchor="start" x="2070.2088" y="-4810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCratio(): uint</text>
<text text-anchor="start" x="2070.2088" y="-4793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCollateral(): uint</text>
<text text-anchor="start" x="2070.2088" y="-4776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;issueFeeRate(): uint</text>
<text text-anchor="start" x="2070.2088" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repay(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4726.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repayWithCollateral(id: uint, repayAmount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4709.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;draw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4692.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4675.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="2070.2088" y="-4659.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (short: uint, collateral: uint)</text>
</g>
<!-- 3&#45;&gt;9 -->
<g id="edge30" class="edge">
<title>3&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M2096.6295,-4538.408C2126.4933,-4575.4764 2154.9909,-4610.849 2180.6697,-4642.7228"/>
<polygon fill="#000000" stroke="#000000" points="2178.1374,-4645.1584 2187.1366,-4650.7498 2183.5884,-4640.7667 2178.1374,-4645.1584"/>
</g>
<!-- 10 -->
<g id="node27" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="958.4721,-4734.9 958.4721,-4842.9 1364.4001,-4842.9 1364.4001,-4734.9 958.4721,-4734.9"/>
<text text-anchor="middle" x="1161.4361" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1161.4361" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">IExchangeRates</text>
<polyline fill="none" stroke="#000000" points="958.4721,-4801.3 1364.4001,-4801.3 "/>
<text text-anchor="middle" x="1161.4361" y="-4784.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="958.4721,-4776.5 1364.4001,-4776.5 "/>
<text text-anchor="start" x="966.4721" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="966.4721" y="-4743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, isInvalid: bool)</text>
</g>
<!-- 3&#45;&gt;10 -->
<g id="edge32" class="edge">
<title>3&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M1357.2969,-4538.408C1299.1605,-4612.7603 1246.359,-4680.2897 1210.2684,-4726.447"/>
<polygon fill="#000000" stroke="#000000" points="1207.3532,-4724.4931 1203.9508,-4734.5268 1212.8677,-4728.8049 1207.3532,-4724.4931"/>
</g>
<!-- 11 -->
<g id="node28" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1382.1936,-4734.9 1382.1936,-4842.9 2044.6786,-4842.9 2044.6786,-4734.9 1382.1936,-4734.9"/>
<text text-anchor="middle" x="1713.4361" y="-4826.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1713.4361" y="-4809.5" font-family="Times,serif" font-size="14.00" fill="#000000">IExchanger</text>
<polyline fill="none" stroke="#000000" points="1382.1936,-4801.3 2044.6786,-4801.3 "/>
<text text-anchor="middle" x="1713.4361" y="-4784.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1382.1936,-4776.5 2044.6786,-4776.5 "/>
<text text-anchor="start" x="1390.1936" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1390.1936" y="-4743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
</g>
<!-- 3&#45;&gt;11 -->
<g id="edge31" class="edge">
<title>3&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M1716.2341,-4538.408C1715.4156,-4611.6828 1714.6712,-4678.3309 1714.1563,-4724.4267"/>
<polygon fill="#000000" stroke="#000000" points="1710.6555,-4724.4883 1714.0435,-4734.5268 1717.655,-4724.5665 1710.6555,-4724.4883"/>
</g>
<!-- 12 -->
<g id="node29" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-4726.5 0,-4851.3 940.8722,-4851.3 940.8722,-4726.5 0,-4726.5"/>
<text text-anchor="middle" x="470.4361" y="-4834.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="470.4361" y="-4817.9" font-family="Times,serif" font-size="14.00" fill="#000000">ISynthetix</text>
<polyline fill="none" stroke="#000000" points="0,-4809.7 940.8722,-4809.7 "/>
<text text-anchor="middle" x="470.4361" y="-4793.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-4784.9 940.8722,-4784.9 "/>
<text text-anchor="start" x="8" y="-4768.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-4751.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="8" y="-4734.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge29" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M1265.372,-4333.7976C1022.66,-4472.7507 743.1362,-4632.7787 588.6346,-4721.2311"/>
<polygon fill="#000000" stroke="#000000" points="586.491,-4718.4253 579.5516,-4726.4312 589.969,-4724.5002 586.491,-4718.4253"/>
</g>
<!-- 3&#45;&gt;15 -->
<g id="edge28" class="edge">
<title>3&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2177.486,-4515.0578C2192.9475,-4523.5955 2208.6084,-4531.5438 2224.4361,-4538.8 2354.1337,-4598.2598 2401.8972,-4556.8093 2543.4361,-4574.8 3009.6224,-4634.0558 3555.0344,-4713.7388 3847.1796,-4757.2628"/>
<polygon fill="#000000" stroke="#000000" points="3847.058,-4760.7833 3857.4648,-4758.7958 3848.09,-4753.8598 3847.058,-4760.7833"/>
</g>
<!-- 3struct0 -->
<g id="node9" class="node">
<title>3struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1792.3733,-3197.3 1792.3733,-3364.5 1942.4989,-3364.5 1942.4989,-3197.3 1792.3733,-3197.3"/>
<text text-anchor="middle" x="1867.4361" y="-3347.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1867.4361" y="-3331.1" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeGlobals</text>
<polyline fill="none" stroke="#000000" points="1792.3733,-3322.9 1942.4989,-3322.9 "/>
<text text-anchor="start" x="1800.3733" y="-3306.3" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="1800.3733" y="-3289.5" font-family="Times,serif" font-size="14.00" fill="#000000">quoteKey: bytes32</text>
<text text-anchor="start" x="1800.3733" y="-3272.7" font-family="Times,serif" font-size="14.00" fill="#000000">baseKey: bytes32</text>
<text text-anchor="start" x="1800.3733" y="-3255.9" font-family="Times,serif" font-size="14.00" fill="#000000">synthetix: ISynthetix</text>
<text text-anchor="start" x="1800.3733" y="-3239.1" font-family="Times,serif" font-size="14.00" fill="#000000">short: ICollateralShort</text>
<text text-anchor="start" x="1800.3733" y="-3222.3" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="1800.3733" y="-3205.5" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 3struct0&#45;&gt;3 -->
<g id="edge5" class="edge">
<title>3struct0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M1852.0187,-3364.5131C1841.2505,-3422.9121 1825.9114,-3506.1003 1809.5109,-3595.0448"/>
<polygon fill="#000000" stroke="#000000" points="1809.4719,-3595.2571 1812.3175,-3601.883 1807.2958,-3607.0582 1804.4501,-3600.4323 1809.4719,-3595.2571"/>
</g>
<!-- 3struct1 -->
<g id="node10" class="node">
<title>3struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1960.0742,-3239.3 1960.0742,-3322.5 2088.798,-3322.5 2088.798,-3239.3 1960.0742,-3239.3"/>
<text text-anchor="middle" x="2024.4361" y="-3305.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2024.4361" y="-3289.1" font-family="Times,serif" font-size="14.00" fill="#000000">GreekCacheGlobals</text>
<polyline fill="none" stroke="#000000" points="1960.0742,-3280.9 2088.798,-3280.9 "/>
<text text-anchor="start" x="1968.0742" y="-3264.3" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="1968.0742" y="-3247.5" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 3struct1&#45;&gt;3 -->
<g id="edge6" class="edge">
<title>3struct1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2016.3783,-3322.862C2004.8698,-3379.8493 1981.7238,-3484.4845 1951.4361,-3570.6 1948.5382,-3578.8394 1945.5554,-3587.1281 1942.4972,-3595.4523"/>
<polygon fill="#000000" stroke="#000000" points="1942.4527,-3595.5725 1944.1176,-3602.5888 1938.2813,-3606.8241 1936.6165,-3599.8078 1942.4527,-3595.5725"/>
</g>
<!-- 3struct2 -->
<g id="node11" class="node">
<title>3struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1456.9855,-3180.5 1456.9855,-3381.3 1649.8867,-3381.3 1649.8867,-3180.5 1456.9855,-3180.5"/>
<text text-anchor="middle" x="1553.4361" y="-3364.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1553.4361" y="-3347.9" font-family="Times,serif" font-size="14.00" fill="#000000">PricingGlobals</text>
<polyline fill="none" stroke="#000000" points="1456.9855,-3339.7 1649.8867,-3339.7 "/>
<text text-anchor="start" x="1464.9855" y="-3323.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="1464.9855" y="-3306.3" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="1464.9855" y="-3289.5" font-family="Times,serif" font-size="14.00" fill="#000000">vegaFeeCoefficient: uint</text>
<text text-anchor="start" x="1464.9855" y="-3272.7" font-family="Times,serif" font-size="14.00" fill="#000000">vegaNormFactor: uint</text>
<text text-anchor="start" x="1464.9855" y="-3255.9" font-family="Times,serif" font-size="14.00" fill="#000000">standardSize: uint</text>
<text text-anchor="start" x="1464.9855" y="-3239.1" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentFactor: uint</text>
<text text-anchor="start" x="1464.9855" y="-3222.3" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="1464.9855" y="-3205.5" font-family="Times,serif" font-size="14.00" fill="#000000">minDelta: int</text>
<text text-anchor="start" x="1464.9855" y="-3188.7" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 3struct2&#45;&gt;3 -->
<g id="edge7" class="edge">
<title>3struct2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M1574.7987,-3381.5838C1586.8862,-3438.5535 1602.98,-3514.405 1620.077,-3594.9848"/>
<polygon fill="#000000" stroke="#000000" points="1620.1157,-3595.1676 1625.2739,-3600.2067 1622.6064,-3606.9063 1617.4482,-3601.8672 1620.1157,-3595.1676"/>
</g>
<!-- 3enum0 -->
<g id="node12" class="node">
<title>3enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1668.3344,-3230.9 1668.3344,-3330.9 1774.5378,-3330.9 1774.5378,-3230.9 1668.3344,-3230.9"/>
<text text-anchor="middle" x="1721.4361" y="-3314.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="1721.4361" y="-3297.5" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeType</text>
<polyline fill="none" stroke="#000000" points="1668.3344,-3289.3 1774.5378,-3289.3 "/>
<text text-anchor="start" x="1676.3344" y="-3272.7" font-family="Times,serif" font-size="14.00" fill="#000000">BASE_QUOTE</text>
<text text-anchor="start" x="1676.3344" y="-3255.9" font-family="Times,serif" font-size="14.00" fill="#000000">QUOTE_BASE</text>
<text text-anchor="start" x="1676.3344" y="-3239.1" font-family="Times,serif" font-size="14.00" fill="#000000">ALL</text>
</g>
<!-- 3enum0&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>3enum0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M1721.4361,-3331.0313C1721.4361,-3387.9632 1721.4361,-3487.0023 1721.4361,-3594.5114"/>
<polygon fill="#000000" stroke="#000000" points="1721.4362,-3594.636 1725.4361,-3600.6361 1721.4361,-3606.636 1717.4361,-3600.636 1721.4362,-3594.636"/>
</g>
<!-- 4 -->
<g id="node13" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3573.7597,-2149.5 3573.7597,-2946.3 5067.1125,-2946.3 5067.1125,-2149.5 3573.7597,-2149.5"/>
<text text-anchor="middle" x="4320.4361" y="-2929.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionGreekCache</text>
<polyline fill="none" stroke="#000000" points="3573.7597,-2921.5 5067.1125,-2921.5 "/>
<text text-anchor="start" x="3581.7597" y="-2904.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3581.7597" y="-2888.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="3581.7597" y="-2871.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="3581.7597" y="-2854.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="3581.7597" y="-2837.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: BlackScholes</text>
<text text-anchor="start" x="3581.7597" y="-2820.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="3581.7597" y="-2804.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3581.7597" y="-2787.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_LISTINGS_PER_BOARD: uint</text>
<text text-anchor="start" x="3581.7597" y="-2770.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRICE_SCALING_PERIOD: uint</text>
<text text-anchor="start" x="3581.7597" y="-2753.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_ACCEPTABLE_PERCENT: uint</text>
<text text-anchor="start" x="3581.7597" y="-2736.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_ACCEPTABLE_PERCENT: uint</text>
<text text-anchor="start" x="3581.7597" y="-2720.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="3581.7597" y="-2703.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingCaches: mapping(uint=&gt;OptionListingCache)</text>
<text text-anchor="start" x="3581.7597" y="-2686.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardCaches: mapping(uint=&gt;OptionBoardCache)</text>
<text text-anchor="start" x="3581.7597" y="-2669.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globalCache: GlobalCache</text>
<polyline fill="none" stroke="#000000" points="3573.7597,-2661.5 5067.1125,-2661.5 "/>
<text text-anchor="start" x="3581.7597" y="-2644.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3581.7597" y="-2628.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketListing(listingId: uint): OptionMarket.OptionListing</text>
<text text-anchor="start" x="3581.7597" y="-2611.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateAllStaleBoards(greekCacheGlobals: LyraGlobals.GreekCacheGlobals)</text>
<text text-anchor="start" x="3581.7597" y="-2594.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardCachedGreeks(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, boardCacheId: uint)</text>
<text text-anchor="start" x="3581.7597" y="-2577.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateListingCachedGreeks(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, listingCache: OptionListingCache, boardCache: OptionBoardCache, returnCallPrice: bool, newCallExposure: int, newPutExposure: int): (pricing: OptionMarketPricer.Pricing)</text>
<text text-anchor="start" x="3581.7597" y="-2560.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isGlobalCacheStale(spotPrice: uint): bool</text>
<text text-anchor="start" x="3581.7597" y="-2544.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isBoardCacheStale(boardCacheId: uint, spotPrice: uint): bool</text>
<text text-anchor="start" x="3581.7597" y="-2527.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isUpdatedAtTimeStale(updatedAt: uint): bool</text>
<text text-anchor="start" x="3581.7597" y="-2510.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPriceMoveAcceptable(pastPrice: uint, currentPrice: uint, timeToExpirySec: uint): bool</text>
<text text-anchor="start" x="3581.7597" y="-2493.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardLastUpdatedAt(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="3581.7597" y="-2476.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateGlobalLastUpdatedAt()</text>
<text text-anchor="start" x="3581.7597" y="-2460.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): uint</text>
<text text-anchor="start" x="3581.7597" y="-2443.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSecondsTo(fromTime: uint, toTime: uint): uint</text>
<text text-anchor="start" x="3581.7597" y="-2426.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentPrice(): uint</text>
<text text-anchor="start" x="3581.7597" y="-2409.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3581.7597" y="-2392.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionPricer: OptionMarketPricer, _blackScholes: BlackScholes)</text>
<text text-anchor="start" x="3581.7597" y="-2376.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBoard(boardId: uint)</text>
<text text-anchor="start" x="3581.7597" y="-2359.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeBoard(boardCacheId: uint)</text>
<text text-anchor="start" x="3581.7597" y="-2342.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateAllStaleBoards(): int</text>
<text text-anchor="start" x="3581.7597" y="-2325.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateBoardCachedGreeks(boardCacheId: uint)</text>
<text text-anchor="start" x="3581.7597" y="-2308.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateListingCacheAndGetPrice(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, listingCacheId: uint, newCallExposure: int, newPutExposure: int, iv: uint, skew: uint): OptionMarketPricer.Pricing</text>
<text text-anchor="start" x="3581.7597" y="-2292.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isGlobalCacheStale(): bool</text>
<text text-anchor="start" x="3581.7597" y="-2275.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isBoardCacheStale(boardCacheId: uint): bool</text>
<text text-anchor="start" x="3581.7597" y="-2258.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3581.7597" y="-2241.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingGreeksUpdated(listingId: uint, callDelta: int, putDelta: int, vega: uint, price: uint, baseIv: uint, skew: uint)</text>
<text text-anchor="start" x="3581.7597" y="-2224.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingExposureUpdated(listingId: uint, newCallExposure: int, newPutExposure: int)</text>
<text text-anchor="start" x="3581.7597" y="-2208.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalCacheUpdated(netDelta: int, netStdVega: int)</text>
<text text-anchor="start" x="3581.7597" y="-2191.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="3581.7597" y="-2174.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarketPricer()</text>
<text text-anchor="start" x="3581.7597" y="-2157.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 4&#45;&gt;0 -->
<g id="edge37" class="edge">
<title>4&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M4574.2646,-2946.3075C4582.0157,-2958.4735 4589.7366,-2970.5923 4597.3929,-2982.6096"/>
<polygon fill="#000000" stroke="#000000" points="4594.6309,-2984.7882 4602.956,-2991.3413 4600.5346,-2981.0269 4594.6309,-2984.7882"/>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge34" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M4285.2066,-2946.6165C4253.8385,-3198.3823 4197.4224,-3490.7088 4100.4361,-3570.6 4019.9772,-3636.877 2321.1147,-3567.619 2224.4361,-3606.6 2211.6637,-3611.7498 2199.0187,-3617.3859 2186.5154,-3623.4538"/>
<polygon fill="#000000" stroke="#000000" points="2184.846,-3620.3748 2177.4364,-3627.9477 2187.9513,-3626.6483 2184.846,-3620.3748"/>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge35" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3888.3495,-2149.4261C3874.4064,-2136.7596 3860.4352,-2124.0752 3846.4884,-2111.4208"/>
<polygon fill="#000000" stroke="#000000" points="3848.5011,-2108.5209 3838.7431,-2104.3939 3843.7976,-2113.7053 3848.5011,-2108.5209"/>
</g>
<!-- 6 -->
<g id="node21" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2871.3717,-3126.1 2871.3717,-3435.7 4091.5005,-3435.7 4091.5005,-3126.1 2871.3717,-3126.1"/>
<text text-anchor="middle" x="3481.4361" y="-3419.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketPricer</text>
<polyline fill="none" stroke="#000000" points="2871.3717,-3410.9 4091.5005,-3410.9 "/>
<text text-anchor="start" x="2879.3717" y="-3394.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2879.3717" y="-3377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<text text-anchor="start" x="2879.3717" y="-3360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="2879.3717" y="-3343.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="2871.3717,-3335.7 4091.5005,-3335.7 "/>
<text text-anchor="start" x="2879.3717" y="-3319.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2879.3717" y="-3302.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(val: int): (absVal: uint)</text>
<text text-anchor="start" x="2879.3717" y="-3285.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2879.3717" y="-3268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address, _greekCache: OptionGreekCache)</text>
<text text-anchor="start" x="2879.3717" y="-3251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCacheAndGetTotalCost(listing: OptionMarket.OptionListing, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals, boardBaseIv: uint): (totalCost: uint, newBaseIv: uint, newSkew: uint)</text>
<text text-anchor="start" x="2879.3717" y="-3235.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2879.3717" y="-3218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="2879.3717" y="-3201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2879.3717" y="-3184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ivImpactForTrade(listing: OptionMarket.OptionListing, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals, boardBaseIv: uint): (uint, uint)</text>
<text text-anchor="start" x="2879.3717" y="-3167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremium(trade: OptionMarket.Trade, pricing: Pricing, pricingGlobals: LyraGlobals.PricingGlobals): (premium: uint)</text>
<text text-anchor="start" x="2879.3717" y="-3151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVegaUtil(trade: OptionMarket.Trade, pricing: Pricing, pricingGlobals: LyraGlobals.PricingGlobals): (vegaUtil: uint)</text>
<text text-anchor="start" x="2879.3717" y="-3134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFee(pricingGlobals: LyraGlobals.PricingGlobals, amount: uint, optionPrice: uint, vegaUtil: uint): (fee: uint)</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge36" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3857.6872,-2946.3075C3787.8476,-3007.3999 3719.6235,-3067.3009 3660.8663,-3119.151"/>
<polygon fill="#000000" stroke="#000000" points="3658.191,-3116.844 3653.01,-3126.0856 3662.8234,-3122.092 3658.191,-3116.844"/>
</g>
<!-- 4&#45;&gt;15 -->
<g id="edge33" class="edge">
<title>4&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4274.7812,-2946.5012C4253.0314,-3135.6418 4226.5565,-3364.7935 4202.4361,-3570.6 4161.7336,-3917.8933 4113.607,-4320.7565 4084.3152,-4565.1094"/>
<polygon fill="#000000" stroke="#000000" points="4080.8233,-4564.8331 4083.108,-4575.1787 4087.7736,-4565.6664 4080.8233,-4564.8331"/>
</g>
<!-- 4struct0 -->
<g id="node14" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4254.3102,-1605.3 4254.3102,-1839.7 4386.562,-1839.7 4386.562,-1605.3 4254.3102,-1605.3"/>
<text text-anchor="middle" x="4320.4361" y="-1823.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4320.4361" y="-1806.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListingCache</text>
<polyline fill="none" stroke="#000000" points="4254.3102,-1798.1 4386.562,-1798.1 "/>
<text text-anchor="start" x="4262.3102" y="-1781.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="4262.3102" y="-1764.7" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="4262.3102" y="-1747.9" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="4262.3102" y="-1731.1" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="4262.3102" y="-1714.3" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="4262.3102" y="-1697.5" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="4262.3102" y="-1680.7" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
<text text-anchor="start" x="4262.3102" y="-1663.9" font-family="Times,serif" font-size="14.00" fill="#000000">callExposure: int</text>
<text text-anchor="start" x="4262.3102" y="-1647.1" font-family="Times,serif" font-size="14.00" fill="#000000">putExposure: int</text>
<text text-anchor="start" x="4262.3102" y="-1630.3" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAt: uint</text>
<text text-anchor="start" x="4262.3102" y="-1613.5" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAtPrice: uint</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge9" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4320.4361,-1839.8831C4320.4361,-1918.8178 4320.4361,-2028.0202 4320.4361,-2137.0504"/>
<polygon fill="#000000" stroke="#000000" points="4320.4362,-2137.3098 4324.4361,-2143.3098 4320.4361,-2149.3098 4316.4361,-2143.3098 4320.4362,-2137.3098"/>
</g>
<!-- 4struct1 -->
<g id="node15" class="node">
<title>4struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4404.7043,-1622.1 4404.7043,-1822.9 4564.1679,-1822.9 4564.1679,-1622.1 4404.7043,-1622.1"/>
<text text-anchor="middle" x="4484.4361" y="-1806.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4484.4361" y="-1789.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoardCache</text>
<polyline fill="none" stroke="#000000" points="4404.7043,-1781.3 4564.1679,-1781.3 "/>
<text text-anchor="start" x="4412.7043" y="-1764.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="4412.7043" y="-1747.9" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="4412.7043" y="-1731.1" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="4412.7043" y="-1714.3" font-family="Times,serif" font-size="14.00" fill="#000000">listings: uint[]</text>
<text text-anchor="start" x="4412.7043" y="-1697.5" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="4412.7043" y="-1680.7" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4412.7043" y="-1663.9" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4412.7043" y="-1647.1" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="4412.7043" y="-1630.3" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
</g>
<!-- 4struct1&#45;&gt;4 -->
<g id="edge10" class="edge">
<title>4struct1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4464.4085,-1823.2973C4448.5472,-1903.1264 4425.2629,-2020.3146 4402.0228,-2137.28"/>
<polygon fill="#000000" stroke="#000000" points="4401.9675,-2137.5588 4404.7215,-2144.2233 4399.6288,-2149.3287 4396.8749,-2142.6642 4401.9675,-2137.5588"/>
</g>
<!-- 4struct2 -->
<g id="node16" class="node">
<title>4struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4068.4133,-1647.3 4068.4133,-1797.7 4236.4589,-1797.7 4236.4589,-1647.3 4068.4133,-1647.3"/>
<text text-anchor="middle" x="4152.4361" y="-1781.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4152.4361" y="-1764.3" font-family="Times,serif" font-size="14.00" fill="#000000">GlobalCache</text>
<polyline fill="none" stroke="#000000" points="4068.4133,-1756.1 4236.4589,-1756.1 "/>
<text text-anchor="start" x="4076.4133" y="-1739.5" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="4076.4133" y="-1722.7" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
<text text-anchor="start" x="4076.4133" y="-1705.9" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="4076.4133" y="-1689.1" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4076.4133" y="-1672.3" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4076.4133" y="-1655.5" font-family="Times,serif" font-size="14.00" fill="#000000">minExpiryTimestamp: uint</text>
</g>
<!-- 4struct2&#45;&gt;4 -->
<g id="edge11" class="edge">
<title>4struct2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4167.7903,-1797.9369C4183.8698,-1876.937 4210.4268,-2007.4136 4236.9195,-2137.5752"/>
<polygon fill="#000000" stroke="#000000" points="4236.9244,-2137.5993 4242.0407,-2142.6809 4239.3178,-2149.3582 4234.2015,-2144.2766 4236.9244,-2137.5993"/>
</g>
<!-- 5&#45;&gt;2 -->
<g id="edge39" class="edge">
<title>5&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M3125.07,-1340.7105C3117.8016,-1331.2141 3110.4957,-1321.6742 3103.1655,-1312.1078"/>
<polygon fill="#000000" stroke="#000000" points="3105.8636,-1309.8745 3097.0027,-1304.0662 3100.3075,-1314.1325 3105.8636,-1309.8745"/>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge40" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2772.6765,-2073.8485C2744.1942,-2084.9806 2715.7058,-2095.3083 2687.4361,-2104.6 2585.3865,-2138.1417 2527.7771,-2068.1834 2448.4361,-2140.6 1965.0794,-2581.7725 2377.2049,-2978.9951 2097.4361,-3570.6 2093.1587,-3579.645 2088.7041,-3588.6876 2084.0904,-3597.7161"/>
<polygon fill="#000000" stroke="#000000" points="2080.9087,-3596.2492 2079.4244,-3606.7395 2087.1266,-3599.4645 2080.9087,-3596.2492"/>
</g>
<!-- 5&#45;&gt;4 -->
<g id="edge41" class="edge">
<title>5&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M3825.2766,-2104.3939C3839.1849,-2117.0356 3853.1445,-2129.7161 3867.1026,-2142.3876"/>
<polygon fill="#000000" stroke="#000000" points="3865.0997,-2145.2964 3874.8566,-2149.4261 3869.8045,-2140.1133 3865.0997,-2145.2964"/>
</g>
<!-- 8 -->
<g id="node24" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2457.5983,-2367.9 2457.5983,-2727.9 3305.2739,-2727.9 3305.2739,-2367.9 2457.5983,-2367.9"/>
<text text-anchor="middle" x="2881.4361" y="-2711.3" font-family="Times,serif" font-size="14.00" fill="#000000">ShortCollateral</text>
<polyline fill="none" stroke="#000000" points="2457.5983,-2703.1 3305.2739,-2703.1 "/>
<text text-anchor="start" x="2465.5983" y="-2686.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2465.5983" y="-2669.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="2465.5983" y="-2652.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="2465.5983" y="-2636.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="2465.5983" y="-2619.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="2465.5983" y="-2602.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<polyline fill="none" stroke="#000000" points="2457.5983,-2594.3 3305.2739,-2594.3 "/>
<text text-anchor="start" x="2465.5983" y="-2577.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2465.5983" y="-2560.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _liquidityPool: LiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="2465.5983" y="-2544.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2527.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2510.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendQuoteToLP(amount: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2493.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendBaseToLP(amount: uint): uint</text>
<text text-anchor="start" x="2465.5983" y="-2476.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;processExercise(listingId: uint, receiver: address, callAmt: int, putAmt: int, strike: uint, priceAtExpiry: uint, listingToShortCallEthReturned: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2460.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2465.5983" y="-2443.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionsExercised(listingId: uint, optionOwner: address, strike: uint, priceAtExpiry: uint, callAmt: int, putAmt: int)</text>
<text text-anchor="start" x="2465.5983" y="-2426.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; quoteSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2409.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; baseSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="2465.5983" y="-2392.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="2465.5983" y="-2376.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge42" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M3166.2171,-2104.3939C3109.3958,-2192.885 3051.3549,-2283.2755 3002.6221,-2359.1699"/>
<polygon fill="#000000" stroke="#000000" points="2999.4879,-2357.5734 2997.0298,-2367.8792 3005.3781,-2361.3557 2999.4879,-2357.5734"/>
</g>
<!-- 5&#45;&gt;15 -->
<g id="edge38" class="edge">
<title>5&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4050.4967,-2101.9615C4053.4768,-2102.8576 4056.4567,-2103.7372 4059.4361,-2104.6 4121.5273,-2122.5799 5177.4399,-2094.1894 5222.4361,-2140.6 5333.0358,-2254.6762 5250.922,-3414.2855 5222.4361,-3570.6 5139.9892,-4023.0226 5191.8313,-4223.1046 4857.4361,-4538.8 4771.6999,-4619.7417 4473.939,-4698.4264 4266.94,-4745.2772"/>
<polygon fill="#000000" stroke="#000000" points="4266.138,-4741.8701 4257.1528,-4747.484 4267.6777,-4748.6986 4266.138,-4741.8701"/>
</g>
<!-- 5struct0 -->
<g id="node18" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3531.1861,-721.1 3531.1861,-905.1 3627.6861,-905.1 3627.6861,-721.1 3531.1861,-721.1"/>
<text text-anchor="middle" x="3579.4361" y="-888.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3579.4361" y="-871.7" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListing</text>
<polyline fill="none" stroke="#000000" points="3531.1861,-863.5 3627.6861,-863.5 "/>
<text text-anchor="start" x="3539.1861" y="-846.9" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="3539.1861" y="-830.1" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="3539.1861" y="-813.3" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="3539.1861" y="-796.5" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="3539.1861" y="-779.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="3539.1861" y="-762.9" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="3539.1861" y="-746.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
<text text-anchor="start" x="3539.1861" y="-729.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge12" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3572.7386,-905.1515C3564.5983,-1004.3202 3548.606,-1166.4677 3522.4361,-1304.4 3520.9077,-1312.4558 3519.3077,-1320.585 3517.6451,-1328.7666"/>
<polygon fill="#000000" stroke="#000000" points="3517.5896,-1329.036 3520.295,-1335.7204 3515.1654,-1340.7887 3512.46,-1334.1043 3517.5896,-1329.036"/>
</g>
<!-- 5struct1 -->
<g id="node19" class="node">
<title>5struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3185.1335,-754.7 3185.1335,-871.5 3291.7387,-871.5 3291.7387,-754.7 3185.1335,-754.7"/>
<text text-anchor="middle" x="3238.4361" y="-854.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3238.4361" y="-838.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoard</text>
<polyline fill="none" stroke="#000000" points="3185.1335,-829.9 3291.7387,-829.9 "/>
<text text-anchor="start" x="3193.1335" y="-813.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="3193.1335" y="-796.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="3193.1335" y="-779.7" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="3193.1335" y="-762.9" font-family="Times,serif" font-size="14.00" fill="#000000">listingIds: uint[]</text>
</g>
<!-- 5struct1&#45;&gt;5 -->
<g id="edge13" class="edge">
<title>5struct1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3243.2749,-871.7367C3251.4844,-964.2668 3270.2524,-1149.5565 3300.4361,-1304.4 3302.0049,-1312.4481 3303.6418,-1320.5701 3305.3381,-1328.7452"/>
<polygon fill="#000000" stroke="#000000" points="3305.3948,-1329.0152 3310.5442,-1334.0634 3307.8649,-1340.7582 3302.7155,-1335.7101 3305.3948,-1329.0152"/>
</g>
<!-- 5struct2 -->
<g id="node20" class="node">
<title>5struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3309.3127,-729.5 3309.3127,-896.7 3513.5595,-896.7 3513.5595,-729.5 3309.3127,-729.5"/>
<text text-anchor="middle" x="3411.4361" y="-880.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3411.4361" y="-863.3" font-family="Times,serif" font-size="14.00" fill="#000000">Trade</text>
<polyline fill="none" stroke="#000000" points="3309.3127,-855.1 3513.5595,-855.1 "/>
<text text-anchor="start" x="3317.3127" y="-838.5" font-family="Times,serif" font-size="14.00" fill="#000000">isBuy: bool</text>
<text text-anchor="start" x="3317.3127" y="-821.7" font-family="Times,serif" font-size="14.00" fill="#000000">isLong: bool</text>
<text text-anchor="start" x="3317.3127" y="-804.9" font-family="Times,serif" font-size="14.00" fill="#000000">isCall: bool</text>
<text text-anchor="start" x="3317.3127" y="-788.1" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="3317.3127" y="-771.3" font-family="Times,serif" font-size="14.00" fill="#000000">vol: uint</text>
<text text-anchor="start" x="3317.3127" y="-754.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="3317.3127" y="-737.7" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: LiquidityPool.Liquidity</text>
</g>
<!-- 5struct2&#45;&gt;5 -->
<g id="edge14" class="edge">
<title>5struct2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3411.4361,-897.0241C3411.4361,-996.0093 3411.4361,-1167.531 3411.4361,-1328.6676"/>
<polygon fill="#000000" stroke="#000000" points="3411.4362,-1328.7441 3415.4361,-1334.7442 3411.4361,-1340.7441 3407.4361,-1334.7441 3411.4362,-1328.7441"/>
</g>
<!-- 6&#45;&gt;3 -->
<g id="edge46" class="edge">
<title>6&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2871.0756,-3424.9581C2581.6866,-3495.8394 2285.6587,-3573.1192 2224.4361,-3606.6 2211.5995,-3613.6199 2198.8363,-3621.04 2186.1689,-3628.8055"/>
<polygon fill="#000000" stroke="#000000" points="2184.0673,-3625.9904 2177.4147,-3634.2362 2187.7575,-3631.9388 2184.0673,-3625.9904"/>
</g>
<!-- 6&#45;&gt;4 -->
<g id="edge44" class="edge">
<title>6&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M3664.2667,-3126.0856C3723.8679,-3074.555 3792.9376,-3014.5285 3863.4306,-2953.035"/>
<polygon fill="#000000" stroke="#000000" points="3865.9073,-2955.5191 3871.1416,-2946.3075 3861.3053,-2950.2444 3865.9073,-2955.5191"/>
</g>
<!-- 6&#45;&gt;5 -->
<g id="edge45" class="edge">
<title>6&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3406.248,-3125.8741C3384.3655,-3073.0038 3363.4086,-3012.7005 3352.4361,-2955.2 3299.4312,-2677.4313 3316.7628,-2358.4221 3345.9945,-2114.5274"/>
<polygon fill="#000000" stroke="#000000" points="3349.4898,-2114.7769 3347.2168,-2104.4288 3342.5405,-2113.9358 3349.4898,-2114.7769"/>
</g>
<!-- 6&#45;&gt;15 -->
<g id="edge43" class="edge">
<title>6&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3540.6398,-3435.8985C3643.1067,-3704.1627 3853.8627,-4255.9335 3972.129,-4565.5614"/>
<polygon fill="#000000" stroke="#000000" points="3968.9369,-4567.0133 3975.7748,-4575.1062 3975.4762,-4564.5156 3968.9369,-4567.0133"/>
</g>
<!-- 6struct0 -->
<g id="node22" class="node">
<title>6struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3361.2071,-2489.5 3361.2071,-2606.3 3555.6651,-2606.3 3555.6651,-2489.5 3361.2071,-2489.5"/>
<text text-anchor="middle" x="3458.4361" y="-2589.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3458.4361" y="-2572.9" font-family="Times,serif" font-size="14.00" fill="#000000">Pricing</text>
<polyline fill="none" stroke="#000000" points="3361.2071,-2564.7 3555.6651,-2564.7 "/>
<text text-anchor="start" x="3369.2071" y="-2548.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPrice: uint</text>
<text text-anchor="start" x="3369.2071" y="-2531.3" font-family="Times,serif" font-size="14.00" fill="#000000">preTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="3369.2071" y="-2514.5" font-family="Times,serif" font-size="14.00" fill="#000000">postTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="3369.2071" y="-2497.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
</g>
<!-- 6struct0&#45;&gt;6 -->
<g id="edge15" class="edge">
<title>6struct0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3460.2697,-2606.3373C3463.6804,-2715.0343 3471.1143,-2951.9484 3476.1985,-3113.9805"/>
<polygon fill="#000000" stroke="#000000" points="3476.1993,-3114.0071 3480.3855,-3119.8787 3476.5757,-3126.0012 3472.3894,-3120.1297 3476.1993,-3114.0071"/>
</g>
<!-- 7&#45;&gt;2 -->
<g id="edge50" class="edge">
<title>7&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2388.7886,-1365.8417C2399.333,-1348.3327 2409.9855,-1330.6199 2420.6798,-1312.8142"/>
<polygon fill="#000000" stroke="#000000" points="2423.7853,-1314.4412 2425.9328,-1304.0662 2417.7841,-1310.8375 2423.7853,-1314.4412"/>
</g>
<!-- 7&#45;&gt;3 -->
<g id="edge48" class="edge">
<title>7&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M1899.4049,-2078.9408C1733.5116,-2321.8601 1536.2267,-2658.6363 1448.4361,-2991.2 1382.7095,-3240.1819 1384.9756,-3321.0309 1448.4361,-3570.6 1450.7032,-3579.5156 1453.1641,-3588.444 1455.8019,-3597.3726"/>
<polygon fill="#000000" stroke="#000000" points="1452.487,-3598.5025 1458.7328,-3607.0606 1459.1871,-3596.4755 1452.487,-3598.5025"/>
</g>
<!-- 7&#45;&gt;4 -->
<g id="edge49" class="edge">
<title>7&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M2678.2462,-2072.5965C2706.4388,-2084.7262 2734.9193,-2095.5317 2763.4361,-2104.6 2933.237,-2158.5967 3392.6899,-2093.1526 3564.4361,-2140.6 3571.255,-2142.4838 3578.0808,-2144.4377 3584.911,-2146.4585"/>
<polygon fill="#000000" stroke="#000000" points="3584.3366,-2149.9405 3594.9209,-2149.4666 3586.3513,-2143.2366 3584.3366,-2149.9405"/>
</g>
<!-- 7&#45;&gt;9 -->
<g id="edge51" class="edge">
<title>7&#45;&gt;9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2170.1983,-2079.1085C2174.4558,-2782.7673 2187.8018,-4302.4524 2224.4361,-4538.8 2229.644,-4572.3992 2238.1632,-4607.805 2247.6032,-4641.0668"/>
<polygon fill="#000000" stroke="#000000" points="2244.2904,-4642.2111 2250.4233,-4650.8504 2251.0166,-4640.2722 2244.2904,-4642.2111"/>
</g>
<!-- 7&#45;&gt;15 -->
<g id="edge47" class="edge">
<title>7&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2213.6897,-2079.1432C2260.1521,-2457.5858 2331.3068,-3073.3328 2372.4361,-3606.6 2376.4228,-3658.2904 2380.7522,-4500.2666 2415.4361,-4538.8 2439.3303,-4565.3462 3410.2327,-4700.6698 3847.6174,-4760.4477"/>
<polygon fill="#000000" stroke="#000000" points="3847.1484,-4763.916 3857.5302,-4761.802 3848.0961,-4756.9805 3847.1484,-4763.916"/>
</g>
<!-- 8&#45;&gt;2 -->
<g id="edge53" class="edge">
<title>8&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2823.804,-2367.8291C2800.7986,-2288.0388 2776.6705,-2192.5094 2763.4361,-2104.6 2741.1105,-1956.303 2728.4676,-1610.7618 2721.4825,-1314.3879"/>
<polygon fill="#000000" stroke="#000000" points="2724.9797,-1314.224 2721.2467,-1304.3086 2717.9816,-1314.3878 2724.9797,-1314.224"/>
</g>
<!-- 8&#45;&gt;15 -->
<g id="edge52" class="edge">
<title>8&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2842.2101,-2728.1002C2804.8244,-2936.9006 2767.0416,-3288.392 2862.4361,-3570.6 3035.7869,-4083.4283 3191,-4185.8332 3601.4361,-4538.8 3674.6879,-4601.7951 3766.3691,-4655.8225 3848.2765,-4697.3735"/>
<polygon fill="#000000" stroke="#000000" points="3847.196,-4700.7481 3857.7014,-4702.1218 3850.3455,-4694.4967 3847.196,-4700.7481"/>
</g>
<!-- 9struct0 -->
<g id="node26" class="node">
<title>9struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2233.1026,-3972.3 2233.1026,-4173.1 2363.7696,-4173.1 2363.7696,-3972.3 2233.1026,-3972.3"/>
<text text-anchor="middle" x="2298.4361" y="-4156.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2298.4361" y="-4139.7" font-family="Times,serif" font-size="14.00" fill="#000000">Loan</text>
<polyline fill="none" stroke="#000000" points="2233.1026,-4131.5 2363.7696,-4131.5 "/>
<text text-anchor="start" x="2241.1026" y="-4114.9" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="2241.1026" y="-4098.1" font-family="Times,serif" font-size="14.00" fill="#000000">account: address</text>
<text text-anchor="start" x="2241.1026" y="-4081.3" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="2241.1026" y="-4064.5" font-family="Times,serif" font-size="14.00" fill="#000000">currency: bytes32</text>
<text text-anchor="start" x="2241.1026" y="-4047.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="2241.1026" y="-4030.9" font-family="Times,serif" font-size="14.00" fill="#000000">short: bool</text>
<text text-anchor="start" x="2241.1026" y="-4014.1" font-family="Times,serif" font-size="14.00" fill="#000000">accruedInterest: uint</text>
<text text-anchor="start" x="2241.1026" y="-3997.3" font-family="Times,serif" font-size="14.00" fill="#000000">interestIndex: uint</text>
<text text-anchor="start" x="2241.1026" y="-3980.5" font-family="Times,serif" font-size="14.00" fill="#000000">lastInteraction: uint</text>
</g>
<!-- 9struct0&#45;&gt;9 -->
<g id="edge16" class="edge">
<title>9struct0&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M2298.4361,-4173.4165C2298.4361,-4294.5259 2298.4361,-4498.9181 2298.4361,-4638.6822"/>
<polygon fill="#000000" stroke="#000000" points="2298.4362,-4638.7345 2302.4361,-4644.7345 2298.4361,-4650.7345 2294.4361,-4644.7344 2298.4362,-4638.7345"/>
</g>
<!-- 13 -->
<g id="node30" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5146.6538,-80.5 5146.6538,-205.3 5386.2184,-205.3 5386.2184,-80.5 5146.6538,-80.5"/>
<text text-anchor="middle" x="5266.4361" y="-188.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5266.4361" y="-171.9" font-family="Times,serif" font-size="14.00" fill="#000000">ITestERC20</text>
<polyline fill="none" stroke="#000000" points="5146.6538,-163.7 5386.2184,-163.7 "/>
<text text-anchor="middle" x="5266.4361" y="-147.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5146.6538,-138.9 5386.2184,-138.9 "/>
<text text-anchor="start" x="5154.6538" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5154.6538" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="5154.6538" y="-88.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(account: address, amount: uint)</text>
</g>
<!-- 14 -->
<g id="node31" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4398.0579,-574.3 4398.0579,-1051.9 5540.8143,-1051.9 5540.8143,-574.3 4398.0579,-574.3"/>
<text text-anchor="middle" x="4969.4361" y="-1035.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketViewer</text>
<polyline fill="none" stroke="#000000" points="4398.0579,-1027.1 5540.8143,-1027.1 "/>
<text text-anchor="start" x="4406.0579" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4406.0579" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="4406.0579" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="4406.0579" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketPricer: OptionMarketPricer</text>
<text text-anchor="start" x="4406.0579" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="4406.0579" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="4406.0579" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: BlackScholes</text>
<text text-anchor="start" x="4406.0579" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="4398.0579,-884.7 5540.8143,-884.7 "/>
<text text-anchor="start" x="4406.0579" y="-868.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4406.0579" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingCache(listingId: uint): OptionGreekCache.OptionListingCache</text>
<text text-anchor="start" x="4406.0579" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalCache(): OptionGreekCache.GlobalCache</text>
<text text-anchor="start" x="4406.0579" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPricingForTrade(pricingGlobals: LyraGlobals.PricingGlobals, trade: OptionMarket.Trade, _listingId: uint, newCallExposure: int, newPutExposure: int): OptionMarketPricer.Pricing</text>
<text text-anchor="start" x="4406.0579" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): (timeToMaturity: uint)</text>
<text text-anchor="start" x="4406.0579" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4406.0579" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionMarketPricer: OptionMarketPricer, _greekCache: OptionGreekCache, _liquidityPool: LiquidityPool, _blackScholes: BlackScholes)</text>
<text text-anchor="start" x="4406.0579" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (boards: BoardView[])</text>
<text text-anchor="start" x="4406.0579" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingsForBoard(boardId: uint): (boardListings: ListingView[])</text>
<text text-anchor="start" x="4406.0579" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingViewAndBalance(listingId: uint, user: address): (listingView: ListingView, callAmt: int, putAmt: int)</text>
<text text-anchor="start" x="4406.0579" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOwnedOptions(user: address): (ownedListings: OwnedOptionView[])</text>
<text text-anchor="start" x="4406.0579" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4406.0579" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4406.0579" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoard(boardId: uint): OptionMarket.OptionBoard</text>
<text text-anchor="start" x="4406.0579" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListing(listingId: uint): OptionMarket.OptionListing</text>
<text text-anchor="start" x="4406.0579" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingView(listingId: uint): (listingView: ListingView)</text>
<text text-anchor="start" x="4406.0579" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForTrade(_listingId: uint, isCall: bool, isBuy: bool, isLong: bool, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="4406.0579" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPremiumForTrade(listing: OptionMarket.OptionListing, board: OptionMarket.OptionBoard, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals): (uint, uint)</text>
</g>
<!-- 14&#45;&gt;0 -->
<g id="edge56" class="edge">
<title>14&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M5030.5439,-1052.2096C5149.6202,-1538.8034 5387.2146,-2625.9762 5222.4361,-2955.2 5217.7162,-2964.6303 5212.5791,-2973.858 5207.0704,-2982.8828"/>
<polygon fill="#000000" stroke="#000000" points="5204.03,-2981.1432 5201.6764,-2991.4733 5209.9582,-2984.8656 5204.03,-2981.1432"/>
</g>
<!-- 14&#45;&gt;5 -->
<g id="edge55" class="edge">
<title>14&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M4555.6818,-1051.9632C4399.9562,-1142.0977 4221.4078,-1245.7204 4059.4361,-1340.4 4059.3436,-1340.4541 4059.2511,-1340.5081 4059.1586,-1340.5622"/>
<polygon fill="#000000" stroke="#000000" points="4057.4013,-1337.5353 4050.5351,-1345.6041 4060.9344,-1343.5782 4057.4013,-1337.5353"/>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge54" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5186.2711,-1052.0215C5286.9049,-1147.1571 5414.1431,-1247.3989 5549.4361,-1304.4 5627.4003,-1337.2476 5871.022,-1278.263 5928.4361,-1340.4 6110.5612,-1537.5067 5947.4361,-2279.5335 5947.4361,-2547.9 5947.4361,-2547.9 5947.4361,-2547.9 5947.4361,-3280.9 5947.4361,-3937.7896 5719.6348,-4176.8855 5171.4361,-4538.8 5024.8866,-4635.5503 4547.5444,-4718.1819 4267.5165,-4759.8912"/>
<polygon fill="#000000" stroke="#000000" points="4266.6039,-4756.4882 4257.2262,-4761.4187 4267.6318,-4763.4123 4266.6039,-4756.4882"/>
</g>
<!-- 14struct0 -->
<g id="node32" class="node">
<title>14struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4925.0823,-101.3 4925.0823,-184.5 5013.7899,-184.5 5013.7899,-101.3 4925.0823,-101.3"/>
<text text-anchor="middle" x="4969.4361" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4969.4361" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">BoardView</text>
<polyline fill="none" stroke="#000000" points="4925.0823,-142.9 5013.7899,-142.9 "/>
<text text-anchor="start" x="4933.0823" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="4933.0823" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
</g>
<!-- 14struct0&#45;&gt;14 -->
<g id="edge17" class="edge">
<title>14struct0&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M4969.4361,-184.5708C4969.4361,-259.1817 4969.4361,-420.9548 4969.4361,-561.688"/>
<polygon fill="#000000" stroke="#000000" points="4969.4362,-561.937 4973.4361,-567.937 4969.4361,-573.937 4965.4361,-567.937 4969.4362,-561.937"/>
</g>
<!-- 14struct1 -->
<g id="node33" class="node">
<title>14struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5032.1861,-.5 5032.1861,-285.3 5128.6861,-285.3 5128.6861,-.5 5032.1861,-.5"/>
<text text-anchor="middle" x="5080.4361" y="-268.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5080.4361" y="-251.9" font-family="Times,serif" font-size="14.00" fill="#000000">ListingView</text>
<polyline fill="none" stroke="#000000" points="5032.1861,-243.7 5128.6861,-243.7 "/>
<text text-anchor="start" x="5040.1861" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="5040.1861" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="5040.1861" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="5040.1861" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5040.1861" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">vol: uint</text>
<text text-anchor="start" x="5040.1861" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="5040.1861" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="5040.1861" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="5040.1861" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="5040.1861" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">vega: uint</text>
<text text-anchor="start" x="5040.1861" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="5040.1861" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="5040.1861" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="5040.1861" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
</g>
<!-- 14struct1&#45;&gt;14 -->
<g id="edge18" class="edge">
<title>14struct1&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M5056.8279,-285.4422C5043.5051,-365.8836 5026.4709,-468.733 5010.986,-562.2282"/>
<polygon fill="#000000" stroke="#000000" points="5010.9689,-562.332 5013.9348,-568.9049 5009.0081,-574.1707 5006.0423,-567.5977 5010.9689,-562.332"/>
</g>
<!-- 14struct2 -->
<g id="node34" class="node">
<title>14struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4781.6191,-50.9 4781.6191,-234.9 4907.2531,-234.9 4907.2531,-50.9 4781.6191,-50.9"/>
<text text-anchor="middle" x="4844.4361" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4844.4361" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000">OwnedOptionView</text>
<polyline fill="none" stroke="#000000" points="4781.6191,-193.3 4907.2531,-193.3 "/>
<text text-anchor="start" x="4789.6191" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="4789.6191" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="4789.6191" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="4789.6191" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="4789.6191" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">callAmount: int</text>
<text text-anchor="start" x="4789.6191" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">putAmount: int</text>
<text text-anchor="start" x="4789.6191" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="4789.6191" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
</g>
<!-- 14struct2&#45;&gt;14 -->
<g id="edge19" class="edge">
<title>14struct2&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M4861.6201,-235.0337C4877.3257,-319.2407 4901.287,-447.7115 4922.6353,-562.1728"/>
<polygon fill="#000000" stroke="#000000" points="4922.6912,-562.4731 4927.7235,-567.6379 4924.8915,-574.2697 4919.8592,-569.1048 4922.6912,-562.4731"/>
</g>
<!-- 17 -->
<g id="node37" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5364.1786,-3142.9 5364.1786,-3418.9 5860.6936,-3418.9 5860.6936,-3142.9 5364.1786,-3142.9"/>
<text text-anchor="middle" x="5612.4361" y="-3402.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5612.4361" y="-3385.5" font-family="Times,serif" font-size="14.00" fill="#000000">Address</text>
<polyline fill="none" stroke="#000000" points="5364.1786,-3377.3 5860.6936,-3377.3 "/>
<text text-anchor="middle" x="5612.4361" y="-3360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5364.1786,-3352.5 5860.6936,-3352.5 "/>
<text text-anchor="start" x="5372.1786" y="-3335.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5372.1786" y="-3319.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_verifyCallResult(success: bool, returndata: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3302.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5372.1786" y="-3285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isContract(account: address): bool</text>
<text text-anchor="start" x="5372.1786" y="-3268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="5372.1786" y="-3151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes, errorMessage: string): bytes</text>
</g>
<!-- 18&#45;&gt;17 -->
<g id="edge57" class="edge">
<title>18&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5612.4361,-2954.8599C5612.4361,-3018.3598 5612.4361,-3080.2195 5612.4361,-3132.6886"/>
<polygon fill="#000000" stroke="#000000" points="5608.9362,-3132.7142 5612.4361,-3142.7142 5615.9362,-3132.7142 5608.9362,-3132.7142"/>
</g>
<!-- 18&#45;&gt;18 -->
<g id="edge58" class="edge">
<title>18&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5875.3918,-2464.2633C5886.7054,-2485.7086 5893.2879,-2513.5875 5893.2879,-2547.9 5893.2879,-2577.5213 5888.3823,-2602.348 5879.7621,-2622.38"/>
<polygon fill="#000000" stroke="#000000" points="5876.5406,-2621.0043 5875.3918,-2631.5367 5882.8579,-2624.0195 5876.5406,-2621.0043"/>
</g>
</g>
</svg>
