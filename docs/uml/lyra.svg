<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="9711pt" height="7303pt"
 viewBox="0.00 0.00 9711.41 7302.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 7298.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-7298.8 9707.4114,-7298.8 9707.4114,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5790.7601,-5233.1 5790.7601,-5811.5 6643.4337,-5811.5 6643.4337,-5233.1 5790.7601,-5233.1"/>
<text text-anchor="middle" x="6217.0969" y="-5794.9" font-family="Times,serif" font-size="14.00" fill="#000000">BlackScholes</text>
<polyline fill="none" stroke="#000000" points="5790.7601,-5786.7 6643.4337,-5786.7 "/>
<text text-anchor="start" x="5798.7601" y="-5770.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5798.7601" y="-5753.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SECONDS_PER_YEAR: uint</text>
<text text-anchor="start" x="5798.7601" y="-5736.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<text text-anchor="start" x="5798.7601" y="-5719.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LN_2_PRECISE: uint</text>
<text text-anchor="start" x="5798.7601" y="-5702.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SQRT_TWOPI: uint</text>
<text text-anchor="start" x="5798.7601" y="-5686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="5798.7601" y="-5669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_CDF_STD_DIST_INPUT: int</text>
<text text-anchor="start" x="5798.7601" y="-5652.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_EXP: int</text>
<text text-anchor="start" x="5798.7601" y="-5635.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_EXP: uint</text>
<text text-anchor="start" x="5798.7601" y="-5618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_T_ANNUALISED: uint</text>
<text text-anchor="start" x="5798.7601" y="-5602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_VOLATILITY: uint</text>
<text text-anchor="start" x="5798.7601" y="-5585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;VEGA_STANDARDISATION_MIN_DAYS: uint</text>
<polyline fill="none" stroke="#000000" points="5790.7601,-5577.1 6643.4337,-5577.1 "/>
<text text-anchor="start" x="5798.7601" y="-5560.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5798.7601" y="-5543.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;floor(x: uint): uint</text>
<text text-anchor="start" x="5798.7601" y="-5526.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln(x: uint): int</text>
<text text-anchor="start" x="5798.7601" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrtPrecise(x: uint): uint</text>
<text text-anchor="start" x="5798.7601" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal(x: int): uint</text>
<text text-anchor="start" x="5798.7601" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF(x: int): uint</text>
<text text-anchor="start" x="5798.7601" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="5798.7601" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2(tAnnualised: uint, volatility: uint, spot: uint, strike: uint, rate: int): (d1: int, d2: int)</text>
<text text-anchor="start" x="5798.7601" y="-5426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_optionPrices(tAnnualised: uint, spot: uint, strike: uint, rate: int, d1: int, d2: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="5798.7601" y="-5409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_delta(d1: int): (callDelta: int, putDelta: int)</text>
<text text-anchor="start" x="5798.7601" y="-5392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_vega(tAnnualised: uint, spot: uint, d1: int): (vega: uint)</text>
<text text-anchor="start" x="5798.7601" y="-5375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_standardVega(d1: int, spot: uint, timeToExpirySec: uint): uint</text>
<text text-anchor="start" x="5798.7601" y="-5358.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5798.7601" y="-5342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;optionPrices(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): (call: uint, put: uint)</text>
<text text-anchor="start" x="5798.7601" y="-5325.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pricesDeltaStdVega(timeToExpirySec: uint, volatilityDecimal: uint, spotDecimal: uint, strikeDecimal: uint, rateDecimal: int): PricesDeltaStdVega</text>
<text text-anchor="start" x="5798.7601" y="-5308.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5798.7601" y="-5291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(x: int): uint</text>
<text text-anchor="start" x="5798.7601" y="-5274.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: uint): uint</text>
<text text-anchor="start" x="5798.7601" y="-5258.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp(x: int): uint</text>
<text text-anchor="start" x="5798.7601" y="-5241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt(x: uint): (y: uint)</text>
</g>
<!-- 23 -->
<g id="node50" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5000.3851,-6867.1 5000.3851,-7294.3 5399.8087,-7294.3 5399.8087,-6867.1 5000.3851,-6867.1"/>
<text text-anchor="middle" x="5200.0969" y="-7277.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5200.0969" y="-7260.9" font-family="Times,serif" font-size="14.00" fill="#000000">SafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="5000.3851,-7252.7 5399.8087,-7252.7 "/>
<text text-anchor="start" x="5008.3851" y="-7236.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5008.3851" y="-7219.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: uint</text>
<text text-anchor="start" x="5008.3851" y="-7202.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5008.3851" y="-7185.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="5008.3851" y="-7168.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="5008.3851" y="-7152.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: uint</text>
<text text-anchor="start" x="5008.3851" y="-7135.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: uint</text>
<polyline fill="none" stroke="#000000" points="5000.3851,-7127.1 5399.8087,-7127.1 "/>
<text text-anchor="start" x="5008.3851" y="-7110.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5008.3851" y="-7093.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-7076.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: uint, y: uint, precisionUnit: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-7060.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5008.3851" y="-7043.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-7026.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-7009.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6992.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6976.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6959.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: uint, y: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6942.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6925.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: uint): uint</text>
<text text-anchor="start" x="5008.3851" y="-6908.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5008.3851" y="-6892.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): uint</text>
<text text-anchor="start" x="5008.3851" y="-6875.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): uint</text>
</g>
<!-- 0&#45;&gt;23 -->
<g id="edge27" class="edge">
<title>0&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6028.1904,-5811.7708C5830.5513,-6114.6231 5524.5903,-6583.4625 5345.1394,-6858.4441"/>
<polygon fill="#000000" stroke="#000000" points="5342.1371,-6856.6405 5339.603,-6866.9279 5347.9992,-6860.4661 5342.1371,-6856.6405"/>
</g>
<!-- 24 -->
<g id="node51" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6022.8535,-6125.7 6022.8535,-6552.9 6411.3403,-6552.9 6411.3403,-6125.7 6022.8535,-6125.7"/>
<text text-anchor="middle" x="6217.0969" y="-6536.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="6217.0969" y="-6519.5" font-family="Times,serif" font-size="14.00" fill="#000000">SignedSafeDecimalMath</text>
<polyline fill="none" stroke="#000000" points="6022.8535,-6511.3 6411.3403,-6511.3 "/>
<text text-anchor="start" x="6030.8535" y="-6494.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6030.8535" y="-6477.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT_TO_HIGH_PRECISION_CONVERSION_FACTOR: int</text>
<text text-anchor="start" x="6030.8535" y="-6461.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6030.8535" y="-6444.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<text text-anchor="start" x="6030.8535" y="-6427.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;highPrecisionDecimals: uint8</text>
<text text-anchor="start" x="6030.8535" y="-6410.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNIT: int</text>
<text text-anchor="start" x="6030.8535" y="-6393.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRECISE_UNIT: int</text>
<polyline fill="none" stroke="#000000" points="6022.8535,-6385.7 6411.3403,-6385.7 "/>
<text text-anchor="start" x="6030.8535" y="-6369.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6030.8535" y="-6352.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_multiplyDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6335.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_divideDecimalRound(x: int, y: int, precisionUnit: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6318.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6030.8535" y="-6301.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6285.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6268.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;multiplyDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6251.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimal(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6234.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRound(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6217.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;divideDecimalRoundPrecise(x: int, y: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6201.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimalToPreciseDecimal(i: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6184.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseDecimalToDecimal(i: int): int</text>
<text text-anchor="start" x="6030.8535" y="-6167.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6030.8535" y="-6150.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unit(): int</text>
<text text-anchor="start" x="6030.8535" y="-6133.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;preciseUnit(): int</text>
</g>
<!-- 0&#45;&gt;24 -->
<g id="edge28" class="edge">
<title>0&#45;&gt;24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6217.0969,-5811.781C6217.0969,-5911.5226 6217.0969,-6021.6364 6217.0969,-6115.3455"/>
<polygon fill="#000000" stroke="#000000" points="6213.597,-6115.5224 6217.0969,-6125.5224 6220.597,-6115.5225 6213.597,-6115.5224"/>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6514.7301,-4672.1 6514.7301,-4805.7 6643.4637,-4805.7 6643.4637,-4672.1 6514.7301,-4672.1"/>
<text text-anchor="middle" x="6579.0969" y="-4789.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6579.0969" y="-4772.3" font-family="Times,serif" font-size="14.00" fill="#000000">PricesDeltaStdVega</text>
<polyline fill="none" stroke="#000000" points="6514.7301,-4764.1 6643.4637,-4764.1 "/>
<text text-anchor="start" x="6522.7301" y="-4747.5" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="6522.7301" y="-4730.7" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="6522.7301" y="-4713.9" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="6522.7301" y="-4697.1" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="6522.7301" y="-4680.3" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6579.9355,-4805.9795C6578.5914,-4898.3432 6567.0142,-5067.86 6506.0969,-5196.6 6502.0047,-5205.2483 6497.6107,-5213.8375 6492.9549,-5222.3524"/>
<polygon fill="#000000" stroke="#000000" points="6492.7967,-5222.6342 6493.3462,-5229.8244 6486.9204,-5233.097 6486.3709,-5225.9069 6492.7967,-5222.6342"/>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6693.4706,-3615.9 6693.4706,-4076.7 7306.7232,-4076.7 7306.7232,-3615.9 6693.4706,-3615.9"/>
<text text-anchor="middle" x="7000.0969" y="-4060.1" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityCertificate</text>
<polyline fill="none" stroke="#000000" points="6693.4706,-4051.9 7306.7232,-4051.9 "/>
<text text-anchor="start" x="6701.4706" y="-4035.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6701.4706" y="-4018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextId: uint</text>
<text text-anchor="start" x="6701.4706" y="-4001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_certificateData: mapping(uint=&gt;CertificateData)</text>
<text text-anchor="start" x="6701.4706" y="-3984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="6701.4706" y="-3968.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6701.4706" y="-3951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_LIQUIDITY: uint</text>
<text text-anchor="start" x="6701.4706" y="-3934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: address</text>
<polyline fill="none" stroke="#000000" points="6693.4706,-3926.3 7306.7232,-3926.3 "/>
<text text-anchor="start" x="6701.4706" y="-3909.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6701.4706" y="-3892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(address, address, tokenId: uint)</text>
<text text-anchor="start" x="6701.4706" y="-3876.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6701.4706" y="-3859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_liquidityPool: address)</text>
<text text-anchor="start" x="6701.4706" y="-3842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificates(owner: address): uint[]</text>
<text text-anchor="start" x="6701.4706" y="-3825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidity(certificateId: uint): uint</text>
<text text-anchor="start" x="6701.4706" y="-3808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enteredAt(certificateId: uint): uint</text>
<text text-anchor="start" x="6701.4706" y="-3792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnableAt(certificateId: uint): uint</text>
<text text-anchor="start" x="6701.4706" y="-3775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;certificateData(certificateId: uint): CertificateData</text>
<text text-anchor="start" x="6701.4706" y="-3758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(owner: address, liquidityAmount: uint, expiryAtCreation: uint): uint</text>
<text text-anchor="start" x="6701.4706" y="-3741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBurnableAt(spender: address, certificateId: uint, timestamp: uint)</text>
<text text-anchor="start" x="6701.4706" y="-3724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(spender: address, certificateId: uint)</text>
<text text-anchor="start" x="6701.4706" y="-3708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;split(certificateId: uint, percentageSplit: uint): uint</text>
<text text-anchor="start" x="6701.4706" y="-3691.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6701.4706" y="-3674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateDataModified(certificateId: uint, liquidity: uint, enteredAt: uint, burnableAt: uint)</text>
<text text-anchor="start" x="6701.4706" y="-3657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CertificateSplit(certificateId: uint, newCertificateId: uint)</text>
<text text-anchor="start" x="6701.4706" y="-3640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyLiquidityPool()</text>
<text text-anchor="start" x="6701.4706" y="-3624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
</g>
<!-- 18 -->
<g id="node39" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6737.2451,-4332.1 6737.2451,-5145.7 7262.9487,-5145.7 7262.9487,-4332.1 6737.2451,-4332.1"/>
<text text-anchor="middle" x="7000.0969" y="-5129.1" font-family="Times,serif" font-size="14.00" fill="#000000">ERC721</text>
<polyline fill="none" stroke="#000000" points="6737.2451,-5120.9 7262.9487,-5120.9 "/>
<text text-anchor="start" x="6745.2451" y="-5104.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6745.2451" y="-5087.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_ERC721_RECEIVED: bytes4</text>
<text text-anchor="start" x="6745.2451" y="-5070.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_holderTokens: mapping(address=&gt;EnumerableSet.UintSet)</text>
<text text-anchor="start" x="6745.2451" y="-5053.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenOwners: EnumerableMap.UintToAddressMap</text>
<text text-anchor="start" x="6745.2451" y="-5037.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenApprovals: mapping(uint=&gt;address)</text>
<text text-anchor="start" x="6745.2451" y="-5020.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_operatorApprovals: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="6745.2451" y="-5003.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_name: string</text>
<text text-anchor="start" x="6745.2451" y="-4986.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_symbol: string</text>
<text text-anchor="start" x="6745.2451" y="-4969.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_tokenURIs: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="6745.2451" y="-4953.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_baseURI: string</text>
<text text-anchor="start" x="6745.2451" y="-4936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721: bytes4</text>
<text text-anchor="start" x="6745.2451" y="-4919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_METADATA: bytes4</text>
<text text-anchor="start" x="6745.2451" y="-4902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC721_ENUMERABLE: bytes4</text>
<polyline fill="none" stroke="#000000" points="6737.2451,-4894.5 7262.9487,-4894.5 "/>
<text text-anchor="start" x="6745.2451" y="-4877.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6745.2451" y="-4861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkOnERC721Received(from: address, to: address, tokenId: uint, _data: bytes): bool</text>
<text text-anchor="start" x="6745.2451" y="-4844.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6745.2451" y="-4827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeTransfer(from: address, to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="6745.2451" y="-4810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exists(tokenId: uint): bool</text>
<text text-anchor="start" x="6745.2451" y="-4793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isApprovedOrOwner(spender: address, tokenId: uint): bool</text>
<text text-anchor="start" x="6745.2451" y="-4777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_safeMint(to: address, tokenId: uint, _data: bytes)</text>
<text text-anchor="start" x="6745.2451" y="-4743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_transfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setTokenURI(tokenId: uint, _tokenURI: string)</text>
<text text-anchor="start" x="6745.2451" y="-4676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setBaseURI(baseURI_: string)</text>
<text text-anchor="start" x="6745.2451" y="-4659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4625.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6745.2451" y="-4609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
<text text-anchor="start" x="6745.2451" y="-4592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(owner: address): uint</text>
<text text-anchor="start" x="6745.2451" y="-4575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ownerOf(tokenId: uint): address</text>
<text text-anchor="start" x="6745.2451" y="-4558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="6745.2451" y="-4541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="6745.2451" y="-4525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenURI(tokenId: uint): string</text>
<text text-anchor="start" x="6745.2451" y="-4508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;baseURI(): string</text>
<text text-anchor="start" x="6745.2451" y="-4491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenOfOwnerByIndex(owner: address, index: uint): uint</text>
<text text-anchor="start" x="6745.2451" y="-4474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;totalSupply(): uint</text>
<text text-anchor="start" x="6745.2451" y="-4457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenByIndex(index: uint): uint</text>
<text text-anchor="start" x="6745.2451" y="-4441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getApproved(tokenId: uint): address</text>
<text text-anchor="start" x="6745.2451" y="-4407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(operator: address, approved: bool)</text>
<text text-anchor="start" x="6745.2451" y="-4390.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isApprovedForAll(owner: address, operator: address): bool</text>
<text text-anchor="start" x="6745.2451" y="-4373.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4357.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint)</text>
<text text-anchor="start" x="6745.2451" y="-4340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, tokenId: uint, _data: bytes)</text>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge29" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M7000.0969,-4076.7469C7000.0969,-4145.8337 7000.0969,-4224.0105 7000.0969,-4301.8137"/>
<polygon fill="none" stroke="#000000" points="6989.597,-4301.8837 7000.0969,-4331.8838 7010.597,-4301.8838 6989.597,-4301.8837"/>
</g>
<!-- 1&#45;&gt;23 -->
<g id="edge30" class="edge">
<title>1&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6823.909,-4076.8823C6784.9453,-4139.9072 6749.0518,-4210.4334 6728.0969,-4281.2 6687.8777,-4417.0239 6777.4749,-6723.2128 6685.0969,-6830.6 6602.7687,-6926.3046 5799.3411,-7019.9624 5409.7947,-7060.1826"/>
<polygon fill="#000000" stroke="#000000" points="5409.4044,-7056.7042 5399.8157,-7061.2105 5410.1217,-7063.6673 5409.4044,-7056.7042"/>
</g>
<!-- 1struct0 -->
<g id="node4" class="node">
<title>1struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6946.0222,-2794.5 6946.0222,-2894.5 7054.1716,-2894.5 7054.1716,-2794.5 6946.0222,-2794.5"/>
<text text-anchor="middle" x="7000.0969" y="-2877.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7000.0969" y="-2861.1" font-family="Times,serif" font-size="14.00" fill="#000000">CertificateData</text>
<polyline fill="none" stroke="#000000" points="6946.0222,-2852.9 7054.1716,-2852.9 "/>
<text text-anchor="start" x="6954.0222" y="-2836.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: uint</text>
<text text-anchor="start" x="6954.0222" y="-2819.5" font-family="Times,serif" font-size="14.00" fill="#000000">enteredAt: uint</text>
<text text-anchor="start" x="6954.0222" y="-2802.7" font-family="Times,serif" font-size="14.00" fill="#000000">burnableAt: uint</text>
</g>
<!-- 1struct0&#45;&gt;1 -->
<g id="edge2" class="edge">
<title>1struct0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M7000.0969,-2894.5222C7000.0969,-3022.0264 7000.0969,-3365.8782 7000.0969,-3603.3497"/>
<polygon fill="#000000" stroke="#000000" points="7000.097,-3603.6382 7004.0969,-3609.6383 7000.0969,-3615.6382 6996.0969,-3609.6382 7000.097,-3603.6382"/>
</g>
<!-- 2 -->
<g id="node5" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5502.9718,-2278.1 5502.9718,-3410.9 6843.222,-3410.9 6843.222,-2278.1 5502.9718,-2278.1"/>
<text text-anchor="middle" x="6173.0969" y="-3394.3" font-family="Times,serif" font-size="14.00" fill="#000000">LiquidityPool</text>
<polyline fill="none" stroke="#000000" points="5502.9718,-3386.1 6843.222,-3386.1 "/>
<text text-anchor="start" x="5510.9718" y="-3369.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5510.9718" y="-3352.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="5510.9718" y="-3335.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="5510.9718" y="-3319.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityCertificate: LiquidityCertificate</text>
<text text-anchor="start" x="5510.9718" y="-3302.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="5510.9718" y="-3285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolHedger: PoolHedger</text>
<text text-anchor="start" x="5510.9718" y="-3268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="5510.9718" y="-3251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="5510.9718" y="-3235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;INITIAL_RATE: uint</text>
<text text-anchor="start" x="5510.9718" y="-3218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;errorMessages: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="5510.9718" y="-3201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="5510.9718" y="-3184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalQuoteAmountReserved: uint</text>
<text text-anchor="start" x="5510.9718" y="-3167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tokensBurnableForRound: uint</text>
<text text-anchor="start" x="5510.9718" y="-3151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalTokenSupply: uint</text>
<text text-anchor="start" x="5510.9718" y="-3134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;counter: uint</text>
<text text-anchor="start" x="5510.9718" y="-3117.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5510.9718" y="-3100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateral: Collateral</text>
<text text-anchor="start" x="5510.9718" y="-3083.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;queuedQuoteFunds: uint</text>
<text text-anchor="start" x="5510.9718" y="-3067.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;expiryToTokenValue: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="5502.9718,-3058.9 6843.222,-3058.9 "/>
<text text-anchor="start" x="5510.9718" y="-3042.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5510.9718" y="-3025.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-3008.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_require(pass: bool, error: Error)</text>
<text text-anchor="start" x="5510.9718" y="-2991.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5510.9718" y="-2975.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _liquidityCertificate: LiquidityCertificate, _poolHedger: PoolHedger, _shortCollateral: ShortCollateral, _quoteAsset: IERC20, _baseAsset: IERC20, _errorMessages: string[])</text>
<text text-anchor="start" x="5510.9718" y="-2958.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(beneficiary: address, amount: uint): uint</text>
<text text-anchor="start" x="5510.9718" y="-2941.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;signalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2924.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unSignalWithdrawal(certificateId: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2907.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(beneficiary: address, certificateId: uint): (value: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2891.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;endRound()</text>
<text text-anchor="start" x="5510.9718" y="-2874.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;startRound(lastMaxExpiryTimestamp: uint, newMaxExpiryTimestamp: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2857.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeBase()</text>
<text text-anchor="start" x="5510.9718" y="-2840.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockQuote(amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2823.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lockBase(amount: uint, exchangeGlobals: LyraGlobals.ExchangeGlobals, liquidity: Liquidity)</text>
<text text-anchor="start" x="5510.9718" y="-2807.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeQuoteCollateral(amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2790.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;freeBase(amountBase: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2773.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendPremium(recipient: address, amount: uint, freeCollatLiq: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2756.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;boardLiquidation(amountQuoteFreed: uint, amountQuoteReserved: uint, amountBaseFreed: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2739.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendReservedQuote(user: address, amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2723.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferQuoteToHedge(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint): uint</text>
<text text-anchor="start" x="5510.9718" y="-2706.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5510.9718" y="-2689.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposit(beneficiary: address, certificateId: uint, amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2672.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2655.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawUnSignaled(certificateId: uint, tokensBurnableForRound: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2639.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdraw(beneficiary: address, certificateId: uint, value: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2622.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundEnded(maxExpiryTimestamp: uint, pricePerToken: uint, totalQuoteAmountReserved: uint, totalTokenSupply: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2605.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoundStarted(lastMaxExpiryTimestmp: uint, newMaxExpiryTimestmp: uint, totalTokenSupply: uint, totalPoolValueQuote: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2588.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteLocked(quoteLocked: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2571.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseLocked(baseLocked: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2555.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteFreed(quoteFreed: uint, lockedCollateralQuote: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2538.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseFreed(baseFreed: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2521.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BasePurchased(caller: address, quoteSpent: uint, amountPurchased: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2504.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSold(caller: address, amountSold: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2487.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralLiquidated(totalAmountToLiquidate: uint, baseFreed: uint, quoteReceived: uint, lockedCollateralBase: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2471.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReserved(amountQuoteReserved: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2454.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReservedQuoteSent(user: address, amount: uint, totalQuoteAmountReserved: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2437.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralQuoteTransferred(recipient: address, amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2420.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DeltaQuoteTransferredToPoolHedger(amount: uint)</text>
<text text-anchor="start" x="5510.9718" y="-2403.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="5510.9718" y="-2387.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="5510.9718" y="-2370.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="5510.9718" y="-2353.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; reentrancyGuard()</text>
<text text-anchor="start" x="5510.9718" y="-2336.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="5510.9718" y="-2319.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenPriceQuote(): uint</text>
<text text-anchor="start" x="5510.9718" y="-2303.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTotalPoolValueQuote(basePrice: uint, usedDeltaLiquidity: uint): uint</text>
<text text-anchor="start" x="5510.9718" y="-2286.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiquidity(basePrice: uint, short: ICollateralShort): Liquidity</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge33" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M6649.1535,-3411.0392C6659.2364,-3423.2595 6669.2276,-3435.3913 6679.0969,-3447.4 6721.5948,-3499.1101 6766.8632,-3554.9109 6809.5958,-3607.9224"/>
<polygon fill="#000000" stroke="#000000" points="6806.8817,-3610.1323 6815.8816,-3615.7227 6812.3322,-3605.7401 6806.8817,-3610.1323"/>
</g>
<!-- 5 -->
<g id="node18" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5446.78,-870.5 5446.78,-1784.9 6955.4138,-1784.9 6955.4138,-870.5 5446.78,-870.5"/>
<text text-anchor="middle" x="6201.0969" y="-1768.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarket</text>
<polyline fill="none" stroke="#000000" points="5446.78,-1760.1 6955.4138,-1760.1 "/>
<text text-anchor="start" x="5454.78" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5454.78" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="5454.78" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="5454.78" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="5454.78" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="5454.78" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortCollateral: ShortCollateral</text>
<text text-anchor="start" x="5454.78" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="5454.78" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="5454.78" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="5454.78" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;errorMessages: mapping(uint=&gt;string)</text>
<text text-anchor="start" x="5454.78" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="5454.78" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="5454.78" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextListingId: uint</text>
<text text-anchor="start" x="5454.78" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextBoardId: uint</text>
<text text-anchor="start" x="5454.78" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="5454.78" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5454.78" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxExpiryTimestamp: uint</text>
<text text-anchor="start" x="5454.78" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionBoards: mapping(uint=&gt;OptionBoard)</text>
<text text-anchor="start" x="5454.78" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionListings: mapping(uint=&gt;OptionListing)</text>
<text text-anchor="start" x="5454.78" y="-1424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardToPriceAtExpiry: mapping(uint=&gt;uint)</text>
<text text-anchor="start" x="5454.78" y="-1407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingToEthReturnedRatio: mapping(uint=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="5446.78,-1399.3 6955.4138,-1399.3 "/>
<text text-anchor="start" x="5454.78" y="-1382.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5454.78" y="-1365.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addListingToBoard(boardId: uint, strike: uint, skew: uint): (listingId: uint)</text>
<text text-anchor="start" x="5454.78" y="-1349.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doTrade(listing: OptionListing, board: OptionBoard, trade: Trade, pricingGlobals: LyraGlobals.PricingGlobals): uint</text>
<text text-anchor="start" x="5454.78" y="-1332.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_liquidateExpiredBoard(board: OptionBoard)</text>
<text text-anchor="start" x="5454.78" y="-1315.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_require(pass: bool, error: Error)</text>
<text text-anchor="start" x="5454.78" y="-1298.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5454.78" y="-1281.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _liquidityPool: LiquidityPool, _optionPricer: OptionMarketPricer, _greekCache: OptionGreekCache, _shortCollateral: ShortCollateral, _optionToken: OptionToken, _quoteAsset: IERC20, _baseAsset: IERC20, _errorMessages: string[])</text>
<text text-anchor="start" x="5454.78" y="-1265.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferOwnership(newOwner: address)</text>
<text text-anchor="start" x="5454.78" y="-1248.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="5454.78" y="-1231.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardBaseIv(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="5454.78" y="-1214.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setListingSkew(listingId: uint, skew: uint)</text>
<text text-anchor="start" x="5454.78" y="-1197.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOptionBoard(expiry: uint, baseIV: uint, strikes: uint[], skews: uint[]): uint</text>
<text text-anchor="start" x="5454.78" y="-1181.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addListingToBoard(boardId: uint, strike: uint, skew: uint)</text>
<text text-anchor="start" x="5454.78" y="-1164.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (_liveBoards: uint[])</text>
<text text-anchor="start" x="5454.78" y="-1147.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoardListings(boardId: uint): uint[]</text>
<text text-anchor="start" x="5454.78" y="-1130.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="5454.78" y="-1113.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(_listingId: uint, tradeType: TradeType, amount: uint): (totalCost: uint)</text>
<text text-anchor="start" x="5454.78" y="-1097.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;liquidateExpiredBoard(boardId: uint)</text>
<text text-anchor="start" x="5454.78" y="-1080.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleOptions(listingId: uint, tradeType: TradeType)</text>
<text text-anchor="start" x="5454.78" y="-1063.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5454.78" y="-1046.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardCreated(boardId: uint, expiry: uint, baseIv: uint)</text>
<text text-anchor="start" x="5454.78" y="-1029.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardFrozen(boardId: uint, frozen: bool)</text>
<text text-anchor="start" x="5454.78" y="-1013.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardBaseIvSet(boardId: uint, baseIv: uint)</text>
<text text-anchor="start" x="5454.78" y="-996.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingSkewSet(listingId: uint, skew: uint)</text>
<text text-anchor="start" x="5454.78" y="-979.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingAdded(boardId: uint, listingId: uint, strike: uint, skew: uint)</text>
<text text-anchor="start" x="5454.78" y="-962.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionOpened(trader: address, listingId: uint, tradeType: TradeType, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="5454.78" y="-945.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionClosed(trader: address, listingId: uint, tradeType: TradeType, amount: uint, totalCost: uint)</text>
<text text-anchor="start" x="5454.78" y="-929.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BoardLiquidated(boardId: uint, totalUserLongProfitQuote: uint, totalBoardLongCallCollateral: uint, totalBoardLongPutCollateral: uint, totalAMMShortCallProfitBase: uint, totalAMMShortPutProfitQuote: uint)</text>
<text text-anchor="start" x="5454.78" y="-912.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnershipTransferred(previousOwner: address, newOwner: address)</text>
<text text-anchor="start" x="5454.78" y="-895.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="5454.78" y="-878.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge32" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M5789.0831,-2277.7019C5784.7781,-2265.7014 5780.7721,-2253.6619 5777.0969,-2241.6 5722.6642,-2062.9531 5711.3086,-1996.1842 5777.0969,-1821.4 5780.5247,-1812.2931 5784.2053,-1803.2446 5788.1176,-1794.2609"/>
<polygon fill="#000000" stroke="#000000" points="5791.4054,-1795.4814 5792.2777,-1784.9225 5785.0112,-1792.6329 5791.4054,-1795.4814"/>
</g>
<!-- 8 -->
<g id="node27" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3857.5161,-3447.9 3857.5161,-4244.7 4876.6777,-4244.7 4876.6777,-3447.9 3857.5161,-3447.9"/>
<text text-anchor="middle" x="4367.0969" y="-4228.1" font-family="Times,serif" font-size="14.00" fill="#000000">PoolHedger</text>
<polyline fill="none" stroke="#000000" points="3857.5161,-4219.9 4876.6777,-4219.9 "/>
<text text-anchor="start" x="3865.5161" y="-4203.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3865.5161" y="-4186.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="3865.5161" y="-4169.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="3865.5161" y="-4152.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionGreekCache: OptionGreekCache</text>
<text text-anchor="start" x="3865.5161" y="-4136.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="3865.5161" y="-4119.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="3865.5161" y="-4102.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="3865.5161" y="-4085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;counter: uint</text>
<text text-anchor="start" x="3865.5161" y="-4068.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3865.5161" y="-4052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="3865.5161" y="-4035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortingInitialized: bool</text>
<text text-anchor="start" x="3865.5161" y="-4018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortId: uint</text>
<text text-anchor="start" x="3865.5161" y="-4001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;shortBuffer: uint</text>
<text text-anchor="start" x="3865.5161" y="-3984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastInteraction: uint</text>
<text text-anchor="start" x="3865.5161" y="-3968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;interactionDelay: uint</text>
<polyline fill="none" stroke="#000000" points="3857.5161,-3959.9 4876.6777,-3959.9 "/>
<text text-anchor="start" x="3865.5161" y="-3943.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3865.5161" y="-3926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openShort(exchangeGlobals: LyraGlobals.ExchangeGlobals)</text>
<text text-anchor="start" x="3865.5161" y="-3909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_hedgeDelta(expectedHedge: int)</text>
<text text-anchor="start" x="3865.5161" y="-3892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updatePosition(exchangeGlobals: LyraGlobals.ExchangeGlobals, longBalance: uint, shortBalance: uint, collateral: uint, expectedHedge: int): int</text>
<text text-anchor="start" x="3865.5161" y="-3876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLong(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLong(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint, currentBalance: uint): (newBalance: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortTo(exchangeGlobals: LyraGlobals.ExchangeGlobals, desiredShort: uint, currentShort: uint, currentCollateral: uint): (newShortAmount: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendAllQuoteToLP()</text>
<text text-anchor="start" x="3865.5161" y="-3808.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3865.5161" y="-3792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortBuffer(newShortBuffer: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setInteractionDelay(newInteractionDelay: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionGreekCache: OptionGreekCache, _liquidityPool: LiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="3865.5161" y="-3741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initShort()</text>
<text text-anchor="start" x="3865.5161" y="-3724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reopenShort()</text>
<text text-anchor="start" x="3865.5161" y="-3708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDelta()</text>
<text text-anchor="start" x="3865.5161" y="-3691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentHedgedNetDelta(): int</text>
<text text-anchor="start" x="3865.5161" y="-3674.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3865.5161" y="-3657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortBufferSet(newShortBuffer: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; InteractionDelaySet(newInteractionDelay: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortInitialized(shortId: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionUpdated(oldNetDelta: int, currentNetDelta: int, expectedNetDelta: int)</text>
<text text-anchor="start" x="3865.5161" y="-3590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseExchanged(baseAmount: uint, quoteReceived: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteExchanged(quoteAmount: uint, baseReceived: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LongSetTo(oldAmount: uint, newAmount: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ShortSetTo(oldShort: uint, newShort: uint, oldCollateral: uint, newCollateral: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteReturnedToLP(amountQuote: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; reentrancyGuard()</text>
<text text-anchor="start" x="3865.5161" y="-3489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3865.5161" y="-3472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortPosition(short: ICollateralShort): (shortBalance: uint, collateral: uint)</text>
<text text-anchor="start" x="3865.5161" y="-3456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getValueQuote(short: ICollateralShort, spotPrice: uint): (value: uint)</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge34" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M5502.9076,-3121.042C5300.1826,-3214.235 5079.9347,-3324.6603 4885.0437,-3442.5794"/>
<polygon fill="#000000" stroke="#000000" points="4883.1022,-3439.6635 4876.3687,-3447.8434 4886.7336,-3445.6479 4883.1022,-3439.6635"/>
</g>
<!-- 2&#45;&gt;23 -->
<g id="edge31" class="edge">
<title>2&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6408.8355,-3411.0097C6504.8239,-3671.2058 6604.3125,-3986.7975 6652.0969,-4281.2 6706.5979,-4616.9835 6690.1076,-5473.9525 6652.0969,-5812 6600.2165,-6273.3975 6751.9603,-6505.8756 6420.0969,-6830.6 6279.2113,-6968.4549 5720.1306,-7036.8102 5410.0312,-7064.735"/>
<polygon fill="#000000" stroke="#000000" points="5409.6666,-7061.2535 5400.0181,-7065.6304 5410.2902,-7068.2257 5409.6666,-7061.2535"/>
</g>
<!-- 2struct0 -->
<g id="node6" class="node">
<title>2struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5776.7572,-1989.9 5776.7572,-2073.1 5855.4366,-2073.1 5855.4366,-1989.9 5776.7572,-1989.9"/>
<text text-anchor="middle" x="5816.0969" y="-2056.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5816.0969" y="-2039.7" font-family="Times,serif" font-size="14.00" fill="#000000">Collateral</text>
<polyline fill="none" stroke="#000000" points="5776.7572,-2031.5 5855.4366,-2031.5 "/>
<text text-anchor="start" x="5784.7572" y="-2014.9" font-family="Times,serif" font-size="14.00" fill="#000000">quote: uint</text>
<text text-anchor="start" x="5784.7572" y="-1998.1" font-family="Times,serif" font-size="14.00" fill="#000000">base: uint</text>
</g>
<!-- 2struct0&#45;&gt;2 -->
<g id="edge3" class="edge">
<title>2struct0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5822.5085,-2073.4399C5829.8186,-2116.4889 5843.4914,-2184.9948 5864.0969,-2241.6 5867.1049,-2249.8632 5870.2008,-2258.158 5873.3768,-2266.4756"/>
<polygon fill="#000000" stroke="#000000" points="5873.4382,-2266.6348 5879.3294,-2270.7933 5877.7567,-2277.8308 5871.8654,-2273.6723 5873.4382,-2266.6348"/>
</g>
<!-- 2struct1 -->
<g id="node7" class="node">
<title>2struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5873.5124,-1973.1 5873.5124,-2089.9 6030.6814,-2089.9 6030.6814,-1973.1 5873.5124,-1973.1"/>
<text text-anchor="middle" x="5952.0969" y="-2073.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5952.0969" y="-2056.5" font-family="Times,serif" font-size="14.00" fill="#000000">Liquidity</text>
<polyline fill="none" stroke="#000000" points="5873.5124,-2048.3 6030.6814,-2048.3 "/>
<text text-anchor="start" x="5881.5124" y="-2031.7" font-family="Times,serif" font-size="14.00" fill="#000000">freeCollatLiquidity: uint</text>
<text text-anchor="start" x="5881.5124" y="-2014.9" font-family="Times,serif" font-size="14.00" fill="#000000">usedCollatLiquidity: uint</text>
<text text-anchor="start" x="5881.5124" y="-1998.1" font-family="Times,serif" font-size="14.00" fill="#000000">freeDeltaLiquidity: uint</text>
<text text-anchor="start" x="5881.5124" y="-1981.3" font-family="Times,serif" font-size="14.00" fill="#000000">usedDeltaLiquidity: uint</text>
</g>
<!-- 2struct1&#45;&gt;2 -->
<g id="edge4" class="edge">
<title>2struct1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5967.9907,-2089.969C5979.5456,-2132.4765 5996.4957,-2194.8315 6015.7797,-2265.7721"/>
<polygon fill="#000000" stroke="#000000" points="6015.8737,-2266.118 6021.3075,-2270.8586 6019.0215,-2277.6978 6013.5877,-2272.9572 6015.8737,-2266.118"/>
</g>
<!-- 2enum0 -->
<g id="node8" class="node">
<title>2enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6048.4699,-1821.9 6048.4699,-2241.1 6297.7239,-2241.1 6297.7239,-1821.9 6048.4699,-1821.9"/>
<text text-anchor="middle" x="6173.0969" y="-2224.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6173.0969" y="-2207.7" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
<polyline fill="none" stroke="#000000" points="6048.4699,-2199.5 6297.7239,-2199.5 "/>
<text text-anchor="start" x="6056.4699" y="-2182.9" font-family="Times,serif" font-size="14.00" fill="#000000">QuoteTransferFailed</text>
<text text-anchor="start" x="6056.4699" y="-2166.1" font-family="Times,serif" font-size="14.00" fill="#000000">AlreadySignalledWithdrawal</text>
<text text-anchor="start" x="6056.4699" y="-2149.3" font-family="Times,serif" font-size="14.00" fill="#000000">SignallingBetweenRounds</text>
<text text-anchor="start" x="6056.4699" y="-2132.5" font-family="Times,serif" font-size="14.00" fill="#000000">UnSignalMustSignalFirst</text>
<text text-anchor="start" x="6056.4699" y="-2115.7" font-family="Times,serif" font-size="14.00" fill="#000000">UnSignalAlreadyBurnable</text>
<text text-anchor="start" x="6056.4699" y="-2098.9" font-family="Times,serif" font-size="14.00" fill="#000000">WithdrawNotBurnable</text>
<text text-anchor="start" x="6056.4699" y="-2082.1" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundWithLiveBoards</text>
<text text-anchor="start" x="6056.4699" y="-2065.3" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundAlreadyEnded</text>
<text text-anchor="start" x="6056.4699" y="-2048.5" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundMustExchangeBase</text>
<text text-anchor="start" x="6056.4699" y="-2031.7" font-family="Times,serif" font-size="14.00" fill="#000000">EndRoundMustHedgeDelta</text>
<text text-anchor="start" x="6056.4699" y="-2014.9" font-family="Times,serif" font-size="14.00" fill="#000000">StartRoundMustEndRound</text>
<text text-anchor="start" x="6056.4699" y="-1998.1" font-family="Times,serif" font-size="14.00" fill="#000000">ReceivedZeroFromBaseQuoteExchange</text>
<text text-anchor="start" x="6056.4699" y="-1981.3" font-family="Times,serif" font-size="14.00" fill="#000000">ReceivedZeroFromQuoteBaseExchange</text>
<text text-anchor="start" x="6056.4699" y="-1964.5" font-family="Times,serif" font-size="14.00" fill="#000000">LockingMoreQuoteThanIsFree</text>
<text text-anchor="start" x="6056.4699" y="-1947.7" font-family="Times,serif" font-size="14.00" fill="#000000">LockingMoreBaseThanCanBeExchanged</text>
<text text-anchor="start" x="6056.4699" y="-1930.9" font-family="Times,serif" font-size="14.00" fill="#000000">FreeingMoreBaseThanLocked</text>
<text text-anchor="start" x="6056.4699" y="-1914.1" font-family="Times,serif" font-size="14.00" fill="#000000">SendPremiumNotEnoughCollateral</text>
<text text-anchor="start" x="6056.4699" y="-1897.3" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyPoolHedger</text>
<text text-anchor="start" x="6056.4699" y="-1880.5" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyOptionMarket</text>
<text text-anchor="start" x="6056.4699" y="-1863.7" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyShortCollateral</text>
<text text-anchor="start" x="6056.4699" y="-1846.9" font-family="Times,serif" font-size="14.00" fill="#000000">ReentrancyDetected</text>
<text text-anchor="start" x="6056.4699" y="-1830.1" font-family="Times,serif" font-size="14.00" fill="#000000">Last</text>
</g>
<!-- 2enum0&#45;&gt;2 -->
<g id="edge5" class="edge">
<title>2enum0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M6173.0969,-2241.1319C6173.0969,-2249.1926 6173.0969,-2257.3894 6173.0969,-2265.7043"/>
<polygon fill="#000000" stroke="#000000" points="6173.097,-2265.9688 6177.0969,-2271.9689 6173.0969,-2277.9688 6169.0969,-2271.9688 6173.097,-2265.9688"/>
</g>
<!-- 3 -->
<g id="node9" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2234.218,-5848.5 2234.218,-6830.1 3145.9758,-6830.1 3145.9758,-5848.5 2234.218,-5848.5"/>
<text text-anchor="middle" x="2690.0969" y="-6813.5" font-family="Times,serif" font-size="14.00" fill="#000000">LyraGlobals</text>
<polyline fill="none" stroke="#000000" points="2234.218,-6805.3 3145.9758,-6805.3 "/>
<text text-anchor="start" x="2242.218" y="-6788.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2242.218" y="-6771.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="2242.218" y="-6755.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchanger: IExchanger</text>
<text text-anchor="start" x="2242.218" y="-6738.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exchangeRates: IExchangeRates</text>
<text text-anchor="start" x="2242.218" y="-6721.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralShort: ICollateralShort</text>
<text text-anchor="start" x="2242.218" y="-6704.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPaused: bool</text>
<text text-anchor="start" x="2242.218" y="-6687.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;tradingCutoff: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6671.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6654.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;spotPriceFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6637.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaFeeCoefficient: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6620.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;vegaNormFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6603.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;standardSize: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6587.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;skewAdjustmentFactor: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6570.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rateAndCarry: mapping(address=&gt;int)</text>
<text text-anchor="start" x="2242.218" y="-6553.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minDelta: mapping(address=&gt;int)</text>
<text text-anchor="start" x="2242.218" y="-6536.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;volatilityCutoff: mapping(address=&gt;uint)</text>
<text text-anchor="start" x="2242.218" y="-6519.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteKey: mapping(address=&gt;bytes32)</text>
<text text-anchor="start" x="2242.218" y="-6503.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseKey: mapping(address=&gt;bytes32)</text>
<polyline fill="none" stroke="#000000" points="2234.218,-6494.9 3145.9758,-6494.9 "/>
<text text-anchor="start" x="2242.218" y="-6478.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2242.218" y="-6461.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobals(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="2242.218" y="-6444.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGlobalsForContract(_contractAddress: address, _tradingCutoff: uint, pricingGlobals: PricingGlobals, _quoteKey: bytes32, _baseKey: bytes32)</text>
<text text-anchor="start" x="2242.218" y="-6427.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaused(_isPaused: bool)</text>
<text text-anchor="start" x="2242.218" y="-6411.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPriceForMarket(_contractAddress: address): uint</text>
<text text-anchor="start" x="2242.218" y="-6394.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPricingGlobals(_contractAddress: address): PricingGlobals</text>
<text text-anchor="start" x="2242.218" y="-6377.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGreekCacheGlobals(_contractAddress: address): GreekCacheGlobals</text>
<text text-anchor="start" x="2242.218" y="-6360.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalsForOptionTrade(_contractAddress: address, isBuy: bool): (pricingGlobals: PricingGlobals, exchangeGlobals: ExchangeGlobals, tradeCutoff: uint)</text>
<text text-anchor="start" x="2242.218" y="-6343.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2242.218" y="-6327.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalsSet(_synthetix: ISynthetix, _exchanger: IExchanger, _exchangeRates: IExchangeRates, _collateralShort: ICollateralShort)</text>
<text text-anchor="start" x="2242.218" y="-6310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Paused(isPaused: bool)</text>
<text text-anchor="start" x="2242.218" y="-6293.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TradingCutoffSet(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="2242.218" y="-6276.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionPriceFeeCoefficientSet(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6259.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SpotPriceFeeCoefficientSet(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6243.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaFeeCoefficientSet(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6226.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; StandardSizeSet(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="2242.218" y="-6209.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SkewAdjustmentFactorSet(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="2242.218" y="-6192.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VegaNormFactorSet(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="2242.218" y="-6175.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RateAndCarrySet(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="2242.218" y="-6159.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinDeltaSet(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="2242.218" y="-6142.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VolatilityCutoffSet(_contractAddress: address, _volatilityCutoff: uint)</text>
<text text-anchor="start" x="2242.218" y="-6125.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteKeySet(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="2242.218" y="-6108.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseKeySet(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="2242.218" y="-6091.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2242.218" y="-6075.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTradingCutoff(_contractAddress: address, _tradingCutoff: uint)</text>
<text text-anchor="start" x="2242.218" y="-6058.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOptionPriceFeeCoefficient(_contractAddress: address, _optionPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6041.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSpotPriceFeeCoefficient(_contractAddress: address, _spotPriceFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6024.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaFeeCoefficient(_contractAddress: address, _vegaFeeCoefficient: uint)</text>
<text text-anchor="start" x="2242.218" y="-6007.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVegaNormFactor(_contractAddress: address, _vegaNormFactor: uint)</text>
<text text-anchor="start" x="2242.218" y="-5991.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStandardSize(_contractAddress: address, _standardSize: uint)</text>
<text text-anchor="start" x="2242.218" y="-5974.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSkewAdjustmentFactor(_contractAddress: address, _skewAdjustmentFactor: uint)</text>
<text text-anchor="start" x="2242.218" y="-5957.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndCarry(_contractAddress: address, _rateAndCarry: int)</text>
<text text-anchor="start" x="2242.218" y="-5940.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMinDelta(_contractAddress: address, _minDelta: int)</text>
<text text-anchor="start" x="2242.218" y="-5923.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVolatilityCutoff(_contractAddress: address, _volatilityCutoff: uint)</text>
<text text-anchor="start" x="2242.218" y="-5907.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setQuoteKey(_contractAddress: address, _quoteKey: bytes32)</text>
<text text-anchor="start" x="2242.218" y="-5890.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBaseKey(_contractAddress: address, _baseKey: bytes32)</text>
<text text-anchor="start" x="2242.218" y="-5873.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSpotPrice(to: bytes32): uint</text>
<text text-anchor="start" x="2242.218" y="-5856.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExchangeGlobals(_contractAddress: address, exchangeType: ExchangeType): (exchangeGlobals: ExchangeGlobals)</text>
</g>
<!-- 10 -->
<g id="node29" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="267.8696,-6942.7 267.8696,-7218.7 740.3242,-7218.7 740.3242,-6942.7 267.8696,-6942.7"/>
<text text-anchor="middle" x="504.0969" y="-7202.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="504.0969" y="-7185.3" font-family="Times,serif" font-size="14.00" fill="#000000">ICollateralShort</text>
<polyline fill="none" stroke="#000000" points="267.8696,-7177.1 740.3242,-7177.1 "/>
<text text-anchor="middle" x="504.0969" y="-7160.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="267.8696,-7152.3 740.3242,-7152.3 "/>
<text text-anchor="start" x="275.8696" y="-7135.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="275.8696" y="-7118.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;loans(id: uint): (uint, address, uint, bytes32, uint, bool, uint, uint, uint)</text>
<text text-anchor="start" x="275.8696" y="-7102.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCratio(): uint</text>
<text text-anchor="start" x="275.8696" y="-7085.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;minCollateral(): uint</text>
<text text-anchor="start" x="275.8696" y="-7068.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;issueFeeRate(): uint</text>
<text text-anchor="start" x="275.8696" y="-7051.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="275.8696" y="-7034.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repay(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="275.8696" y="-7018.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;repayWithCollateral(id: uint, repayAmount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="275.8696" y="-7001.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;draw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="275.8696" y="-6984.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="275.8696" y="-6967.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(id: uint, amount: uint): (short: uint, collateral: uint)</text>
<text text-anchor="start" x="275.8696" y="-6950.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (short: uint, collateral: uint)</text>
</g>
<!-- 3&#45;&gt;10 -->
<g id="edge37" class="edge">
<title>3&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M2234.0653,-6808.3244C2218.6468,-6816.4363 2202.9827,-6823.8961 2187.0969,-6830.6 2039.8441,-6892.7413 898.0154,-6808.5637 749.0969,-6866.6 708.7766,-6882.3136 670.648,-6907.7955 637.0101,-6935.7922"/>
<polygon fill="#000000" stroke="#000000" points="634.3762,-6933.4363 629.0077,-6942.5704 638.9005,-6938.7778 634.3762,-6933.4363"/>
</g>
<!-- 11 -->
<g id="node31" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="758.1329,-7026.7 758.1329,-7134.7 1164.0609,-7134.7 1164.0609,-7026.7 758.1329,-7026.7"/>
<text text-anchor="middle" x="961.0969" y="-7118.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="961.0969" y="-7101.3" font-family="Times,serif" font-size="14.00" fill="#000000">IExchangeRates</text>
<polyline fill="none" stroke="#000000" points="758.1329,-7093.1 1164.0609,-7093.1 "/>
<text text-anchor="middle" x="961.0969" y="-7076.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="758.1329,-7068.3 1164.0609,-7068.3 "/>
<text text-anchor="start" x="766.1329" y="-7051.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="766.1329" y="-7034.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, isInvalid: bool)</text>
</g>
<!-- 3&#45;&gt;11 -->
<g id="edge39" class="edge">
<title>3&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M2233.9709,-6808.1022C2218.5802,-6816.2795 2202.9474,-6823.8131 2187.0969,-6830.6 1979.8229,-6919.3503 1379.6228,-6776.1226 1173.0969,-6866.6 1100.7054,-6898.3141 1039.9186,-6967.1699 1002.2542,-7018.2792"/>
<polygon fill="#000000" stroke="#000000" points="999.226,-7016.4927 996.1809,-7026.6405 1004.8896,-7020.6066 999.226,-7016.4927"/>
</g>
<!-- 12 -->
<g id="node32" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1181.8544,-7026.7 1181.8544,-7134.7 1844.3394,-7134.7 1844.3394,-7026.7 1181.8544,-7026.7"/>
<text text-anchor="middle" x="1513.0969" y="-7118.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1513.0969" y="-7101.3" font-family="Times,serif" font-size="14.00" fill="#000000">IExchanger</text>
<polyline fill="none" stroke="#000000" points="1181.8544,-7093.1 1844.3394,-7093.1 "/>
<text text-anchor="middle" x="1513.0969" y="-7076.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1181.8544,-7068.3 1844.3394,-7068.3 "/>
<text text-anchor="start" x="1189.8544" y="-7051.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1189.8544" y="-7034.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge38" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M2233.9686,-6799.1542C2218.4637,-6810.1253 2202.8248,-6820.6411 2187.0969,-6830.6 2047.6921,-6918.8714 1872.5236,-6982.6712 1735.7062,-7023.7338"/>
<polygon fill="#000000" stroke="#000000" points="1734.5056,-7020.4394 1725.9227,-7026.651 1736.5058,-7027.1476 1734.5056,-7020.4394"/>
</g>
<!-- 14 -->
<g id="node35" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2842.6608,-7018.3 2842.6608,-7143.1 3783.533,-7143.1 3783.533,-7018.3 2842.6608,-7018.3"/>
<text text-anchor="middle" x="3313.0969" y="-7126.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3313.0969" y="-7109.7" font-family="Times,serif" font-size="14.00" fill="#000000">ISynthetix</text>
<polyline fill="none" stroke="#000000" points="2842.6608,-7101.5 3783.533,-7101.5 "/>
<text text-anchor="middle" x="3313.0969" y="-7084.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2842.6608,-7076.7 3783.533,-7076.7 "/>
<text text-anchor="start" x="2850.6608" y="-7060.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2850.6608" y="-7043.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="2850.6608" y="-7026.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 3&#45;&gt;14 -->
<g id="edge36" class="edge">
<title>3&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M3102.6119,-6830.2127C3161.7639,-6900.6064 3215.4661,-6964.5147 3253.8212,-7010.1591"/>
<polygon fill="#000000" stroke="#000000" points="3251.209,-7012.4909 3260.3219,-7017.8952 3256.5681,-7007.9876 3251.209,-7012.4909"/>
</g>
<!-- 3&#45;&gt;23 -->
<g id="edge35" class="edge">
<title>3&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3146.2259,-6642.269C3272.0076,-6714.0143 3411.5395,-6783.3276 3548.0969,-6830.6 3651.6842,-6866.459 3683.6881,-6850.3604 3792.0969,-6866.6 4217.5111,-6930.3269 4714.9851,-7006.3179 4990.1024,-7048.4722"/>
<polygon fill="#000000" stroke="#000000" points="4989.7847,-7051.9643 5000.1995,-7050.0194 4990.8451,-7045.045 4989.7847,-7051.9643"/>
</g>
<!-- 3struct0 -->
<g id="node10" class="node">
<title>3struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2600.0341,-5438.7 2600.0341,-5605.9 2750.1597,-5605.9 2750.1597,-5438.7 2600.0341,-5438.7"/>
<text text-anchor="middle" x="2675.0969" y="-5589.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2675.0969" y="-5572.5" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeGlobals</text>
<polyline fill="none" stroke="#000000" points="2600.0341,-5564.3 2750.1597,-5564.3 "/>
<text text-anchor="start" x="2608.0341" y="-5547.7" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
<text text-anchor="start" x="2608.0341" y="-5530.9" font-family="Times,serif" font-size="14.00" fill="#000000">quoteKey: bytes32</text>
<text text-anchor="start" x="2608.0341" y="-5514.1" font-family="Times,serif" font-size="14.00" fill="#000000">baseKey: bytes32</text>
<text text-anchor="start" x="2608.0341" y="-5497.3" font-family="Times,serif" font-size="14.00" fill="#000000">synthetix: ISynthetix</text>
<text text-anchor="start" x="2608.0341" y="-5480.5" font-family="Times,serif" font-size="14.00" fill="#000000">short: ICollateralShort</text>
<text text-anchor="start" x="2608.0341" y="-5463.7" font-family="Times,serif" font-size="14.00" fill="#000000">quoteBaseFeeRate: uint</text>
<text text-anchor="start" x="2608.0341" y="-5446.9" font-family="Times,serif" font-size="14.00" fill="#000000">baseQuoteFeeRate: uint</text>
</g>
<!-- 3struct0&#45;&gt;3 -->
<g id="edge6" class="edge">
<title>3struct0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2676.6387,-5606.2747C2677.7065,-5664.4373 2679.226,-5747.1983 2680.862,-5836.3061"/>
<polygon fill="#000000" stroke="#000000" points="2680.8627,-5836.3471 2684.9722,-5842.2726 2681.083,-5848.3451 2676.9735,-5842.4195 2680.8627,-5836.3471"/>
</g>
<!-- 3struct1 -->
<g id="node11" class="node">
<title>3struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2117.735,-5480.7 2117.735,-5563.9 2246.4588,-5563.9 2246.4588,-5480.7 2117.735,-5480.7"/>
<text text-anchor="middle" x="2182.0969" y="-5547.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2182.0969" y="-5530.5" font-family="Times,serif" font-size="14.00" fill="#000000">GreekCacheGlobals</text>
<polyline fill="none" stroke="#000000" points="2117.735,-5522.3 2246.4588,-5522.3 "/>
<text text-anchor="start" x="2125.735" y="-5505.7" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="2125.735" y="-5488.9" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 3struct1&#45;&gt;3 -->
<g id="edge7" class="edge">
<title>3struct1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2186.9474,-5564.1337C2194.9618,-5622.3307 2214.4198,-5729.8242 2256.0969,-5812 2260.4334,-5820.5503 2264.9289,-5829.0866 2269.569,-5837.6011"/>
<polygon fill="#000000" stroke="#000000" points="2269.7183,-5837.8712 2276.1215,-5841.1877 2275.5229,-5848.374 2269.1197,-5845.0575 2269.7183,-5837.8712"/>
</g>
<!-- 3struct2 -->
<g id="node12" class="node">
<title>3struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2264.6463,-5413.5 2264.6463,-5631.1 2457.5475,-5631.1 2457.5475,-5413.5 2264.6463,-5413.5"/>
<text text-anchor="middle" x="2361.0969" y="-5614.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2361.0969" y="-5597.7" font-family="Times,serif" font-size="14.00" fill="#000000">PricingGlobals</text>
<polyline fill="none" stroke="#000000" points="2264.6463,-5589.5 2457.5475,-5589.5 "/>
<text text-anchor="start" x="2272.6463" y="-5572.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="2272.6463" y="-5556.1" font-family="Times,serif" font-size="14.00" fill="#000000">spotPriceFeeCoefficient: uint</text>
<text text-anchor="start" x="2272.6463" y="-5539.3" font-family="Times,serif" font-size="14.00" fill="#000000">vegaFeeCoefficient: uint</text>
<text text-anchor="start" x="2272.6463" y="-5522.5" font-family="Times,serif" font-size="14.00" fill="#000000">vegaNormFactor: uint</text>
<text text-anchor="start" x="2272.6463" y="-5505.7" font-family="Times,serif" font-size="14.00" fill="#000000">standardSize: uint</text>
<text text-anchor="start" x="2272.6463" y="-5488.9" font-family="Times,serif" font-size="14.00" fill="#000000">skewAdjustmentFactor: uint</text>
<text text-anchor="start" x="2272.6463" y="-5472.1" font-family="Times,serif" font-size="14.00" fill="#000000">rateAndCarry: int</text>
<text text-anchor="start" x="2272.6463" y="-5455.3" font-family="Times,serif" font-size="14.00" fill="#000000">minDelta: int</text>
<text text-anchor="start" x="2272.6463" y="-5438.5" font-family="Times,serif" font-size="14.00" fill="#000000">volatilityCutoff: uint</text>
<text text-anchor="start" x="2272.6463" y="-5421.7" font-family="Times,serif" font-size="14.00" fill="#000000">spotPrice: uint</text>
</g>
<!-- 3struct2&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>3struct2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2399.4762,-5631.1157C2419.0774,-5685.6592 2443.679,-5752.5826 2467.0969,-5812 2470.3912,-5820.3586 2473.731,-5828.7844 2477.1088,-5837.2621"/>
<polygon fill="#000000" stroke="#000000" points="2477.1203,-5837.2912 2483.0602,-5841.38 2481.5705,-5848.4356 2475.6306,-5844.3468 2477.1203,-5837.2912"/>
</g>
<!-- 3enum0 -->
<g id="node13" class="node">
<title>3enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2475.9952,-5472.3 2475.9952,-5572.3 2582.1986,-5572.3 2582.1986,-5472.3 2475.9952,-5472.3"/>
<text text-anchor="middle" x="2529.0969" y="-5555.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2529.0969" y="-5538.9" font-family="Times,serif" font-size="14.00" fill="#000000">ExchangeType</text>
<polyline fill="none" stroke="#000000" points="2475.9952,-5530.7 2582.1986,-5530.7 "/>
<text text-anchor="start" x="2483.9952" y="-5514.1" font-family="Times,serif" font-size="14.00" fill="#000000">BASE_QUOTE</text>
<text text-anchor="start" x="2483.9952" y="-5497.3" font-family="Times,serif" font-size="14.00" fill="#000000">QUOTE_BASE</text>
<text text-anchor="start" x="2483.9952" y="-5480.5" font-family="Times,serif" font-size="14.00" fill="#000000">ALL</text>
</g>
<!-- 3enum0&#45;&gt;3 -->
<g id="edge9" class="edge">
<title>3enum0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2538.9862,-5572.4834C2550.1914,-5629.3447 2569.6906,-5728.2942 2591.031,-5836.5866"/>
<polygon fill="#000000" stroke="#000000" points="2591.0505,-5836.6862 2596.1352,-5841.7996 2593.3707,-5848.4598 2588.2861,-5843.3464 2591.0505,-5836.6862"/>
</g>
<!-- 4 -->
<g id="node14" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4395.4205,-4281.7 4395.4205,-5196.1 5888.7733,-5196.1 5888.7733,-4281.7 4395.4205,-4281.7"/>
<text text-anchor="middle" x="5142.0969" y="-5179.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionGreekCache</text>
<polyline fill="none" stroke="#000000" points="4395.4205,-5171.3 5888.7733,-5171.3 "/>
<text text-anchor="start" x="4403.4205" y="-5154.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4403.4205" y="-5137.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="4403.4205" y="-5121.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="4403.4205" y="-5104.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionPricer: OptionMarketPricer</text>
<text text-anchor="start" x="4403.4205" y="-5087.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: BlackScholes</text>
<text text-anchor="start" x="4403.4205" y="-5070.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="4403.4205" y="-5053.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4403.4205" y="-5037.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_LISTINGS_PER_BOARD: uint</text>
<text text-anchor="start" x="4403.4205" y="-5020.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;staleUpdateDuration: uint</text>
<text text-anchor="start" x="4403.4205" y="-5003.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;priceScalingPeriod: uint</text>
<text text-anchor="start" x="4403.4205" y="-4986.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxAcceptablePercent: uint</text>
<text text-anchor="start" x="4403.4205" y="-4969.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minAcceptablePercent: uint</text>
<text text-anchor="start" x="4403.4205" y="-4953.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liveBoards: uint[]</text>
<text text-anchor="start" x="4403.4205" y="-4936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;listingCaches: mapping(uint=&gt;OptionListingCache)</text>
<text text-anchor="start" x="4403.4205" y="-4919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;boardCaches: mapping(uint=&gt;OptionBoardCache)</text>
<text text-anchor="start" x="4403.4205" y="-4902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globalCache: GlobalCache</text>
<polyline fill="none" stroke="#000000" points="4395.4205,-4894.5 5888.7733,-4894.5 "/>
<text text-anchor="start" x="4403.4205" y="-4877.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4403.4205" y="-4861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addNewListingToListingCache(boardCache: OptionBoardCache, listingId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketListing(listingId: uint): OptionMarket.OptionListing</text>
<text text-anchor="start" x="4403.4205" y="-4827.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateAllStaleBoards(greekCacheGlobals: LyraGlobals.GreekCacheGlobals)</text>
<text text-anchor="start" x="4403.4205" y="-4810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardCachedGreeks(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, boardCacheId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4793.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateListingCachedGreeks(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, listingCache: OptionListingCache, boardCache: OptionBoardCache, returnCallPrice: bool, newCallExposure: int, newPutExposure: int): (pricing: OptionMarketPricer.Pricing)</text>
<text text-anchor="start" x="4403.4205" y="-4777.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isGlobalCacheStale(spotPrice: uint): bool</text>
<text text-anchor="start" x="4403.4205" y="-4760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isBoardCacheStale(boardCacheId: uint, spotPrice: uint): bool</text>
<text text-anchor="start" x="4403.4205" y="-4743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isUpdatedAtTimeStale(updatedAt: uint): bool</text>
<text text-anchor="start" x="4403.4205" y="-4726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPriceMoveAcceptable(pastPrice: uint, currentPrice: uint, timeToExpirySec: uint): bool</text>
<text text-anchor="start" x="4403.4205" y="-4709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateBoardLastUpdatedAt(boardCache: OptionBoardCache)</text>
<text text-anchor="start" x="4403.4205" y="-4693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateGlobalLastUpdatedAt()</text>
<text text-anchor="start" x="4403.4205" y="-4676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): uint</text>
<text text-anchor="start" x="4403.4205" y="-4659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSecondsTo(fromTime: uint, toTime: uint): uint</text>
<text text-anchor="start" x="4403.4205" y="-4642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentPrice(): uint</text>
<text text-anchor="start" x="4403.4205" y="-4625.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4403.4205" y="-4609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionPricer: OptionMarketPricer, _blackScholes: BlackScholes)</text>
<text text-anchor="start" x="4403.4205" y="-4592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setStaleCacheParameters(_staleUpdateDuration: uint, _priceScalingPeriod: uint, _maxAcceptablePercent: uint, _minAcceptablePercent: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBoard(boardId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeBoard(boardId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBoardIv(boardId: uint, newIv: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setListingSkew(listingId: uint, newSkew: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addListingToBoard(boardId: uint, listingId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateAllStaleBoards(): int</text>
<text text-anchor="start" x="4403.4205" y="-4474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateBoardCachedGreeks(boardCacheId: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateListingCacheAndGetPrice(greekCacheGlobals: LyraGlobals.GreekCacheGlobals, listingCacheId: uint, newCallExposure: int, newPutExposure: int, iv: uint, skew: uint): OptionMarketPricer.Pricing</text>
<text text-anchor="start" x="4403.4205" y="-4441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isGlobalCacheStale(): bool</text>
<text text-anchor="start" x="4403.4205" y="-4424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isBoardCacheStale(boardCacheId: uint): bool</text>
<text text-anchor="start" x="4403.4205" y="-4407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalNetDelta(): int</text>
<text text-anchor="start" x="4403.4205" y="-4390.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4403.4205" y="-4373.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingGreeksUpdated(listingId: uint, callDelta: int, putDelta: int, vega: uint, price: uint, baseIv: uint, skew: uint)</text>
<text text-anchor="start" x="4403.4205" y="-4357.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ListingExposureUpdated(listingId: uint, newCallExposure: int, newPutExposure: int)</text>
<text text-anchor="start" x="4403.4205" y="-4340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GlobalCacheUpdated(netDelta: int, netStdVega: int)</text>
<text text-anchor="start" x="4403.4205" y="-4323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="4403.4205" y="-4306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarketPricer()</text>
<text text-anchor="start" x="4403.4205" y="-4289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 4&#45;&gt;0 -->
<g id="edge44" class="edge">
<title>4&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M5769.7619,-5196.3072C5783.8958,-5206.6072 5797.944,-5216.8448 5811.866,-5226.9904"/>
<polygon fill="#000000" stroke="#000000" points="5809.9052,-5229.8922 5820.0482,-5232.9531 5814.0278,-5224.2349 5809.9052,-5229.8922"/>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge41" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M5198.0336,-5196.2082C5217.7566,-5443.8729 5219.0141,-5718.0293 5143.0969,-5812 4898.1816,-6115.1573 3797.1661,-6252.1379 3156.5118,-6307.1354"/>
<polygon fill="#000000" stroke="#000000" points="3155.839,-6303.68 3146.1735,-6308.0192 3156.4353,-6310.6546 3155.839,-6303.68"/>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge42" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M5398.2784,-4281.6905C5402.1886,-4269.5099 5405.8084,-4257.3346 5409.0969,-4245.2 5638.0946,-3400.1933 5283.9822,-3125.2231 5503.0969,-2277.6 5559.6784,-2058.7202 5597.5131,-2005.9472 5728.0969,-1821.4 5734.7193,-1812.0409 5741.5203,-1802.6914 5748.4768,-1793.3641"/>
<polygon fill="#000000" stroke="#000000" points="5751.4219,-1795.2709 5754.6296,-1785.1733 5745.8251,-1791.0667 5751.4219,-1795.2709"/>
</g>
<!-- 6 -->
<g id="node24" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3914.0325,-5367.5 3914.0325,-5677.1 5134.1613,-5677.1 5134.1613,-5367.5 3914.0325,-5367.5"/>
<text text-anchor="middle" x="4524.0969" y="-5660.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketPricer</text>
<polyline fill="none" stroke="#000000" points="3914.0325,-5652.3 5134.1613,-5652.3 "/>
<text text-anchor="start" x="3922.0325" y="-5635.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3922.0325" y="-5618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<text text-anchor="start" x="3922.0325" y="-5602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="3922.0325" y="-5585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="3914.0325,-5577.1 5134.1613,-5577.1 "/>
<text text-anchor="start" x="3922.0325" y="-5560.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3922.0325" y="-5543.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs(val: int): (absVal: uint)</text>
<text text-anchor="start" x="3922.0325" y="-5526.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3922.0325" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address, _greekCache: OptionGreekCache)</text>
<text text-anchor="start" x="3922.0325" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateCacheAndGetTotalCost(listing: OptionMarket.OptionListing, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals, boardBaseIv: uint): (totalCost: uint, newBaseIv: uint, newSkew: uint)</text>
<text text-anchor="start" x="3922.0325" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3922.0325" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="3922.0325" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3922.0325" y="-5426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ivImpactForTrade(listing: OptionMarket.OptionListing, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals, boardBaseIv: uint): (uint, uint)</text>
<text text-anchor="start" x="3922.0325" y="-5409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremium(trade: OptionMarket.Trade, pricing: Pricing, pricingGlobals: LyraGlobals.PricingGlobals): (premium: uint)</text>
<text text-anchor="start" x="3922.0325" y="-5392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVegaUtil(trade: OptionMarket.Trade, pricing: Pricing, pricingGlobals: LyraGlobals.PricingGlobals): (vegaUtil: uint)</text>
<text text-anchor="start" x="3922.0325" y="-5375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFee(pricingGlobals: LyraGlobals.PricingGlobals, amount: uint, optionPrice: uint, vegaUtil: uint): (fee: uint)</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge43" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M4774.5976,-5196.3072C4728.9002,-5254.4275 4684.9733,-5310.5611 4647.0115,-5359.3907"/>
<polygon fill="#000000" stroke="#000000" points="4644.1002,-5357.4332 4640.7277,-5367.4769 4649.6275,-5361.7285 4644.1002,-5357.4332"/>
</g>
<!-- 4&#45;&gt;23 -->
<g id="edge40" class="edge">
<title>4&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5189.017,-5196.3778C5189.7803,-5208.5737 5190.4769,-5220.6651 5191.0969,-5232.6 5221.5057,-5818.0063 5213.095,-6509.1147 5205.7853,-6856.8957"/>
<polygon fill="#000000" stroke="#000000" points="5202.2821,-6857.0125 5205.5693,-6867.0844 5209.2805,-6857.1609 5202.2821,-6857.0125"/>
</g>
<!-- 4struct0 -->
<g id="node15" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5080.971,-3729.1 5080.971,-3963.5 5213.2228,-3963.5 5213.2228,-3729.1 5080.971,-3729.1"/>
<text text-anchor="middle" x="5147.0969" y="-3946.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5147.0969" y="-3930.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListingCache</text>
<polyline fill="none" stroke="#000000" points="5080.971,-3921.9 5213.2228,-3921.9 "/>
<text text-anchor="start" x="5088.971" y="-3905.3" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="5088.971" y="-3888.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="5088.971" y="-3871.7" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="5088.971" y="-3854.9" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="5088.971" y="-3838.1" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="5088.971" y="-3821.3" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="5088.971" y="-3804.5" font-family="Times,serif" font-size="14.00" fill="#000000">stdVega: uint</text>
<text text-anchor="start" x="5088.971" y="-3787.7" font-family="Times,serif" font-size="14.00" fill="#000000">callExposure: int</text>
<text text-anchor="start" x="5088.971" y="-3770.9" font-family="Times,serif" font-size="14.00" fill="#000000">putExposure: int</text>
<text text-anchor="start" x="5088.971" y="-3754.1" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAt: uint</text>
<text text-anchor="start" x="5088.971" y="-3737.3" font-family="Times,serif" font-size="14.00" fill="#000000">updatedAtPrice: uint</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge10" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5146.4381,-3963.9097C5145.9896,-4043.9798 5145.3636,-4155.7232 5144.7264,-4269.4752"/>
<polygon fill="#000000" stroke="#000000" points="5144.7261,-4269.5585 5148.6923,-4275.5808 5144.6588,-4281.5583 5140.6925,-4275.5359 5144.7261,-4269.5585"/>
</g>
<!-- 4struct1 -->
<g id="node16" class="node">
<title>4struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5231.3651,-3745.9 5231.3651,-3946.7 5390.8287,-3946.7 5390.8287,-3745.9 5231.3651,-3745.9"/>
<text text-anchor="middle" x="5311.0969" y="-3930.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5311.0969" y="-3913.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoardCache</text>
<polyline fill="none" stroke="#000000" points="5231.3651,-3905.1 5390.8287,-3905.1 "/>
<text text-anchor="start" x="5239.3651" y="-3888.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="5239.3651" y="-3871.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5239.3651" y="-3854.9" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="5239.3651" y="-3838.1" font-family="Times,serif" font-size="14.00" fill="#000000">listings: uint[]</text>
<text text-anchor="start" x="5239.3651" y="-3821.3" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="5239.3651" y="-3804.5" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="5239.3651" y="-3787.7" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="5239.3651" y="-3770.9" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="5239.3651" y="-3754.1" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
</g>
<!-- 4struct1&#45;&gt;4 -->
<g id="edge11" class="edge">
<title>4struct1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5292.039,-3946.9575C5276.7354,-4027.7858 5254.0529,-4147.5867 5230.9363,-4269.6809"/>
<polygon fill="#000000" stroke="#000000" points="5230.9305,-4269.7119 5233.7444,-4276.3513 5228.6981,-4281.5024 5225.8841,-4274.863 5230.9305,-4269.7119"/>
</g>
<!-- 4struct2 -->
<g id="node17" class="node">
<title>4struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4895.0741,-3771.1 4895.0741,-3921.5 5063.1197,-3921.5 5063.1197,-3771.1 4895.0741,-3771.1"/>
<text text-anchor="middle" x="4979.0969" y="-3904.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4979.0969" y="-3888.1" font-family="Times,serif" font-size="14.00" fill="#000000">GlobalCache</text>
<polyline fill="none" stroke="#000000" points="4895.0741,-3879.9 5063.1197,-3879.9 "/>
<text text-anchor="start" x="4903.0741" y="-3863.3" font-family="Times,serif" font-size="14.00" fill="#000000">netDelta: int</text>
<text text-anchor="start" x="4903.0741" y="-3846.5" font-family="Times,serif" font-size="14.00" fill="#000000">netStdVega: int</text>
<text text-anchor="start" x="4903.0741" y="-3829.7" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAt: uint</text>
<text text-anchor="start" x="4903.0741" y="-3812.9" font-family="Times,serif" font-size="14.00" fill="#000000">minUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4903.0741" y="-3796.1" font-family="Times,serif" font-size="14.00" fill="#000000">maxUpdatedAtPrice: uint</text>
<text text-anchor="start" x="4903.0741" y="-3779.3" font-family="Times,serif" font-size="14.00" fill="#000000">minExpiryTimestamp: uint</text>
</g>
<!-- 4struct2&#45;&gt;4 -->
<g id="edge12" class="edge">
<title>4struct2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4992.8537,-3921.6333C5007.4058,-4001.3219 5031.6461,-4134.0631 5056.4036,-4269.6374"/>
<polygon fill="#000000" stroke="#000000" points="5056.4137,-4269.6928 5061.4265,-4274.8766 5058.5695,-4281.4976 5053.5566,-4276.3138 5056.4137,-4269.6928"/>
</g>
<!-- 5&#45;&gt;2 -->
<g id="edge46" class="edge">
<title>5&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M5774.2793,-1784.9225C5768.7928,-1796.9654 5763.7154,-1809.1296 5759.0969,-1821.4 5693.3086,-1996.1842 5704.6642,-2062.9531 5759.0969,-2241.6 5761.7959,-2250.458 5764.6733,-2259.3039 5767.7169,-2268.1311"/>
<polygon fill="#000000" stroke="#000000" points="5764.4636,-2269.4303 5771.0841,-2277.7019 5771.0669,-2267.1071 5764.4636,-2269.4303"/>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge47" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M5446.6596,-1429.3265C4910.3922,-1514.3163 4247.8611,-1649.2681 4028.0969,-1821.4 3065.0454,-2575.717 3088.3394,-3094.063 2793.0969,-4281.2 2752.036,-4446.3015 2772.0418,-5642.3624 2759.0969,-5812 2758.4334,-5820.6952 2757.7249,-5829.4665 2756.9757,-5838.2966"/>
<polygon fill="#000000" stroke="#000000" points="2753.4861,-5838.0259 2756.1127,-5848.29 2760.4601,-5838.6283 2753.4861,-5838.0259"/>
</g>
<!-- 5&#45;&gt;4 -->
<g id="edge48" class="edge">
<title>5&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5736.6316,-1785.1733C5727.5201,-1797.2148 5718.6592,-1809.2993 5710.0969,-1821.4 5579.5131,-2005.9472 5541.6784,-2058.7202 5485.0969,-2277.6 5265.9822,-3125.2231 5620.0946,-3400.1933 5391.0969,-4245.2 5388.6819,-4254.1113 5386.0882,-4263.0446 5383.333,-4271.9858"/>
<polygon fill="#000000" stroke="#000000" points="5379.9424,-4271.101 5380.2808,-4281.6905 5386.6199,-4273.2013 5379.9424,-4271.101"/>
</g>
<!-- 7 -->
<g id="node26" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7665.5334,-1910.3 7665.5334,-2152.7 7948.6604,-2152.7 7948.6604,-1910.3 7665.5334,-1910.3"/>
<text text-anchor="middle" x="7807.0969" y="-2136.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionToken</text>
<polyline fill="none" stroke="#000000" points="7665.5334,-2127.9 7948.6604,-2127.9 "/>
<text text-anchor="start" x="7673.5334" y="-2111.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7673.5334" y="-2094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: address</text>
<text text-anchor="start" x="7673.5334" y="-2077.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7673.5334" y="-2060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="7665.5334,-2052.7 7948.6604,-2052.7 "/>
<text text-anchor="start" x="7673.5334" y="-2036.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7673.5334" y="-2019.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: address)</text>
<text text-anchor="start" x="7673.5334" y="-2002.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setURI(newURI: string)</text>
<text text-anchor="start" x="7673.5334" y="-1985.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="7673.5334" y="-1968.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="7673.5334" y="-1952.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7673.5334" y="-1935.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="7673.5334" y="-1918.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(uri_: string)</text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge50" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M6955.8395,-1519.9404C7175.8631,-1594.8135 7409.9271,-1693.9454 7607.0969,-1821.4 7641.5045,-1843.6418 7674.2417,-1872.9656 7702.8952,-1902.624"/>
<polygon fill="#000000" stroke="#000000" points="7700.6557,-1905.3471 7710.0905,-1910.1674 7705.721,-1900.5156 7700.6557,-1905.3471"/>
</g>
<!-- 9 -->
<g id="node28" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6586.7594,-1859.9 6586.7594,-2203.1 7565.4344,-2203.1 7565.4344,-1859.9 6586.7594,-1859.9"/>
<text text-anchor="middle" x="7076.0969" y="-2186.5" font-family="Times,serif" font-size="14.00" fill="#000000">ShortCollateral</text>
<polyline fill="none" stroke="#000000" points="6586.7594,-2178.3 7565.4344,-2178.3 "/>
<text text-anchor="start" x="6594.7594" y="-2161.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6594.7594" y="-2144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="6594.7594" y="-2128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="6594.7594" y="-2111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="6594.7594" y="-2094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="6594.7594" y="-2077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<polyline fill="none" stroke="#000000" points="6586.7594,-2069.5 7565.4344,-2069.5 "/>
<text text-anchor="start" x="6594.7594" y="-2052.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6594.7594" y="-2036.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _liquidityPool: LiquidityPool, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="6594.7594" y="-2019.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendQuoteCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6594.7594" y="-2002.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendBaseCollateral(recipient: address, amount: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1985.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendToLP(amountBase: uint, amountQuote: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1968.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;processSettle(listingId: uint, receiver: address, tradeType: OptionMarket.TradeType, amount: uint, strike: uint, priceAtExpiry: uint, listingToShortCallEthReturned: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1952.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6594.7594" y="-1935.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OptionsSettled(listingId: uint, optionOwner: address, strike: uint, priceAtExpiry: uint, tradeType: OptionMarket.TradeType, amount: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1918.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; QuoteSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1901.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseSent(receiver: address, amount: uint)</text>
<text text-anchor="start" x="6594.7594" y="-1884.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="6594.7594" y="-1868.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 5&#45;&gt;9 -->
<g id="edge49" class="edge">
<title>5&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M6769.7571,-1785.0978C6799.0443,-1808.6547 6827.4674,-1831.5166 6854.4311,-1853.2047"/>
<polygon fill="#000000" stroke="#000000" points="6852.387,-1856.0522 6862.3728,-1859.5925 6856.7743,-1850.5977 6852.387,-1856.0522"/>
</g>
<!-- 5&#45;&gt;23 -->
<g id="edge45" class="edge">
<title>5&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6955.6117,-1515.7956C7230.6999,-1600.8605 7494.1922,-1707.7546 7574.0969,-1821.4 7627.8046,-1897.7864 7631.5627,-2167.9991 7574.0969,-2241.6 7533.4983,-2293.5977 7471.0096,-2225.8491 7430.0969,-2277.6 7213.8884,-2551.0843 7411.0969,-3497.6744 7411.0969,-3846.3 7411.0969,-3846.3 7411.0969,-3846.3 7411.0969,-5522.3 7411.0969,-6129.8191 7477.0389,-6436.0255 7015.0969,-6830.6 6894.594,-6933.5293 5861.7447,-7027.7715 5410.0784,-7064.4727"/>
<polygon fill="#000000" stroke="#000000" points="5409.5316,-7061.0054 5399.8472,-7065.3023 5410.0974,-7067.9825 5409.5316,-7061.0054"/>
</g>
<!-- 5struct0 -->
<g id="node19" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6343.8469,-485.9 6343.8469,-669.9 6440.3469,-669.9 6440.3469,-485.9 6343.8469,-485.9"/>
<text text-anchor="middle" x="6392.0969" y="-653.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6392.0969" y="-636.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionListing</text>
<polyline fill="none" stroke="#000000" points="6343.8469,-628.3 6440.3469,-628.3 "/>
<text text-anchor="start" x="6351.8469" y="-611.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="6351.8469" y="-594.9" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="6351.8469" y="-578.1" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="6351.8469" y="-561.3" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="6351.8469" y="-544.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="6351.8469" y="-527.7" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="6351.8469" y="-510.9" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
<text text-anchor="start" x="6351.8469" y="-494.1" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge13" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6372.1885,-669.9755C6361.3883,-718.8246 6347.5304,-779.7948 6334.0969,-834 6332.0832,-842.1256 6330.0373,-850.3224 6327.9644,-858.5744"/>
<polygon fill="#000000" stroke="#000000" points="6327.9481,-858.6395 6330.361,-865.4349 6325.0163,-870.2758 6322.6034,-863.4804 6327.9481,-858.6395"/>
</g>
<!-- 5struct1 -->
<g id="node20" class="node">
<title>5struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6458.7943,-511.1 6458.7943,-644.7 6565.3995,-644.7 6565.3995,-511.1 6458.7943,-511.1"/>
<text text-anchor="middle" x="6512.0969" y="-628.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6512.0969" y="-611.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionBoard</text>
<polyline fill="none" stroke="#000000" points="6458.7943,-603.1 6565.3995,-603.1 "/>
<text text-anchor="start" x="6466.7943" y="-586.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="6466.7943" y="-569.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="6466.7943" y="-552.9" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="6466.7943" y="-536.1" font-family="Times,serif" font-size="14.00" fill="#000000">frozen: bool</text>
<text text-anchor="start" x="6466.7943" y="-519.3" font-family="Times,serif" font-size="14.00" fill="#000000">listingIds: uint[]</text>
</g>
<!-- 5struct1&#45;&gt;5 -->
<g id="edge14" class="edge">
<title>5struct1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6499.9025,-644.9171C6489.3501,-697.3125 6472.151,-771.4955 6449.0969,-834 6446.0447,-842.275 6442.8919,-850.5926 6439.6495,-858.9389"/>
<polygon fill="#000000" stroke="#000000" points="6439.5599,-859.1671 6441.09,-866.2141 6435.1736,-870.3368 6433.6435,-863.2898 6439.5599,-859.1671"/>
</g>
<!-- 5struct2 -->
<g id="node21" class="node">
<title>5struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5730.9735,-511.1 5730.9735,-644.7 5935.2203,-644.7 5935.2203,-511.1 5730.9735,-511.1"/>
<text text-anchor="middle" x="5833.0969" y="-628.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5833.0969" y="-611.3" font-family="Times,serif" font-size="14.00" fill="#000000">Trade</text>
<polyline fill="none" stroke="#000000" points="5730.9735,-603.1 5935.2203,-603.1 "/>
<text text-anchor="start" x="5738.9735" y="-586.5" font-family="Times,serif" font-size="14.00" fill="#000000">isBuy: bool</text>
<text text-anchor="start" x="5738.9735" y="-569.7" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="5738.9735" y="-552.9" font-family="Times,serif" font-size="14.00" fill="#000000">vol: uint</text>
<text text-anchor="start" x="5738.9735" y="-536.1" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5738.9735" y="-519.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidity: LiquidityPool.Liquidity</text>
</g>
<!-- 5struct2&#45;&gt;5 -->
<g id="edge15" class="edge">
<title>5struct2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M5860.5651,-644.8105C5882.2864,-696.8267 5913.8844,-770.5624 5944.0969,-834 5948.1138,-842.4344 5952.1939,-850.9359 5956.3266,-859.4874"/>
<polygon fill="#000000" stroke="#000000" points="5956.355,-859.5461 5962.5714,-863.2008 5961.5888,-870.3447 5955.3724,-866.69 5956.355,-859.5461"/>
</g>
<!-- 5enum0 -->
<g id="node22" class="node">
<title>5enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5953.3802,-519.5 5953.3802,-636.3 6058.8136,-636.3 6058.8136,-519.5 5953.3802,-519.5"/>
<text text-anchor="middle" x="6006.0969" y="-619.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6006.0969" y="-602.9" font-family="Times,serif" font-size="14.00" fill="#000000">TradeType</text>
<polyline fill="none" stroke="#000000" points="5953.3802,-594.7 6058.8136,-594.7 "/>
<text text-anchor="start" x="5961.3802" y="-578.1" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_CALL</text>
<text text-anchor="start" x="5961.3802" y="-561.3" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_CALL</text>
<text text-anchor="start" x="5961.3802" y="-544.5" font-family="Times,serif" font-size="14.00" fill="#000000">LONG_PUT</text>
<text text-anchor="start" x="5961.3802" y="-527.7" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT_PUT</text>
</g>
<!-- 5enum0&#45;&gt;5 -->
<g id="edge16" class="edge">
<title>5enum0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6019.8305,-636.4914C6032.1211,-688.4682 6050.8146,-766.4116 6068.0969,-834 6070.1707,-842.1104 6072.2723,-850.2933 6074.3966,-858.5322"/>
<polygon fill="#000000" stroke="#000000" points="6074.4134,-858.5975 6079.7869,-863.4063 6077.4147,-870.2161 6072.0412,-865.4072 6074.4134,-858.5975"/>
</g>
<!-- 5enum1 -->
<g id="node23" class="node">
<title>5enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6076.8423,-427.1 6076.8423,-728.7 6325.3515,-728.7 6325.3515,-427.1 6076.8423,-427.1"/>
<text text-anchor="middle" x="6201.0969" y="-712.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="6201.0969" y="-695.3" font-family="Times,serif" font-size="14.00" fill="#000000">Error</text>
<polyline fill="none" stroke="#000000" points="6076.8423,-687.1 6325.3515,-687.1 "/>
<text text-anchor="start" x="6084.8423" y="-670.5" font-family="Times,serif" font-size="14.00" fill="#000000">TransferOwnerToZero</text>
<text text-anchor="start" x="6084.8423" y="-653.7" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidBoardId</text>
<text text-anchor="start" x="6084.8423" y="-636.9" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidBoardIdOrNotFrozen</text>
<text text-anchor="start" x="6084.8423" y="-620.1" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidListingIdOrNotFrozen</text>
<text text-anchor="start" x="6084.8423" y="-603.3" font-family="Times,serif" font-size="14.00" fill="#000000">StrikeSkewLengthMismatch</text>
<text text-anchor="start" x="6084.8423" y="-586.5" font-family="Times,serif" font-size="14.00" fill="#000000">BoardMaxExpiryReached</text>
<text text-anchor="start" x="6084.8423" y="-569.7" font-family="Times,serif" font-size="14.00" fill="#000000">CannotStartNewRoundWhenBoardsExist</text>
<text text-anchor="start" x="6084.8423" y="-552.9" font-family="Times,serif" font-size="14.00" fill="#000000">ZeroAmountOrInvalidTradeType</text>
<text text-anchor="start" x="6084.8423" y="-536.1" font-family="Times,serif" font-size="14.00" fill="#000000">BoardFrozenOrTradingCutoffReached</text>
<text text-anchor="start" x="6084.8423" y="-519.3" font-family="Times,serif" font-size="14.00" fill="#000000">QuoteTransferFailed</text>
<text text-anchor="start" x="6084.8423" y="-502.5" font-family="Times,serif" font-size="14.00" fill="#000000">BaseTransferFailed</text>
<text text-anchor="start" x="6084.8423" y="-485.7" font-family="Times,serif" font-size="14.00" fill="#000000">BoardNotExpired</text>
<text text-anchor="start" x="6084.8423" y="-468.9" font-family="Times,serif" font-size="14.00" fill="#000000">BoardAlreadyLiquidated</text>
<text text-anchor="start" x="6084.8423" y="-452.1" font-family="Times,serif" font-size="14.00" fill="#000000">OnlyOwner</text>
<text text-anchor="start" x="6084.8423" y="-435.3" font-family="Times,serif" font-size="14.00" fill="#000000">Last</text>
</g>
<!-- 5enum1&#45;&gt;5 -->
<g id="edge17" class="edge">
<title>5enum1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M6201.0969,-728.7313C6201.0969,-767.7761 6201.0969,-811.9427 6201.0969,-858.1627"/>
<polygon fill="#000000" stroke="#000000" points="6201.097,-858.2776 6205.0969,-864.2776 6201.0969,-870.2776 6197.0969,-864.2775 6201.097,-858.2776"/>
</g>
<!-- 6&#45;&gt;3 -->
<g id="edge54" class="edge">
<title>6&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4176.4397,-5677.1724C3887.2934,-5805.9796 3473.1768,-5990.458 3155.4629,-6131.9914"/>
<polygon fill="#000000" stroke="#000000" points="3153.8018,-6128.8997 3146.0914,-6136.1661 3156.6503,-6135.294 3153.8018,-6128.8997"/>
</g>
<!-- 6&#45;&gt;4 -->
<g id="edge52" class="edge">
<title>6&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4651.7363,-5367.4769C4690.5794,-5318.9822 4735.3345,-5262.73 4781.6762,-5204.2036"/>
<polygon fill="#000000" stroke="#000000" points="4784.4646,-5206.3202 4787.9274,-5196.3072 4778.9762,-5201.9753 4784.4646,-5206.3202"/>
</g>
<!-- 6&#45;&gt;5 -->
<g id="edge53" class="edge">
<title>6&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4295.1644,-5367.3826C4236.5424,-5318.5408 4178.2338,-5260.4671 4136.0969,-5196.6 3797.1676,-4682.8841 3829.0969,-4461.7487 3829.0969,-3846.3 3829.0969,-2844.5 3829.0969,-2844.5 3829.0969,-2844.5 3829.0969,-2582.822 3815.6695,-2474.4354 3988.0969,-2277.6 4360.555,-1852.4185 4956.8109,-1611.396 5436.6119,-1478.6027"/>
<polygon fill="#000000" stroke="#000000" points="5437.7924,-1481.9078 5446.5026,-1475.876 5435.932,-1475.1596 5437.7924,-1481.9078"/>
</g>
<!-- 6&#45;&gt;23 -->
<g id="edge51" class="edge">
<title>6&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4591.3858,-5677.4228C4711.7592,-5954.9227 4964.3306,-6537.1819 5103.3085,-6857.5712"/>
<polygon fill="#000000" stroke="#000000" points="5100.1964,-6859.192 5107.3869,-6866.9732 5106.6182,-6856.4063 5100.1964,-6859.192"/>
</g>
<!-- 6struct0 -->
<g id="node25" class="node">
<title>6struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4144.8679,-4680.5 4144.8679,-4797.3 4339.3259,-4797.3 4339.3259,-4680.5 4144.8679,-4680.5"/>
<text text-anchor="middle" x="4242.0969" y="-4780.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4242.0969" y="-4763.9" font-family="Times,serif" font-size="14.00" fill="#000000">Pricing</text>
<polyline fill="none" stroke="#000000" points="4144.8679,-4755.7 4339.3259,-4755.7 "/>
<text text-anchor="start" x="4152.8679" y="-4739.1" font-family="Times,serif" font-size="14.00" fill="#000000">optionPrice: uint</text>
<text text-anchor="start" x="4152.8679" y="-4722.3" font-family="Times,serif" font-size="14.00" fill="#000000">preTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4152.8679" y="-4705.5" font-family="Times,serif" font-size="14.00" fill="#000000">postTradeAmmNetStdVega: int</text>
<text text-anchor="start" x="4152.8679" y="-4688.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
</g>
<!-- 6struct0&#45;&gt;6 -->
<g id="edge18" class="edge">
<title>6struct0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M4251.5203,-4797.3481C4266.8177,-4885.7155 4300.7217,-5057.7457 4353.0969,-5196.6 4373.3504,-5250.295 4400.4541,-5306.4238 4427.1036,-5356.6622"/>
<polygon fill="#000000" stroke="#000000" points="4427.1267,-5356.7056 4433.4819,-5360.1132 4432.7808,-5367.2902 4426.4256,-5363.8826 4427.1267,-5356.7056"/>
</g>
<!-- 17 -->
<g id="node38" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7439.5055,-2597.3 7439.5055,-3091.7 8174.6883,-3091.7 8174.6883,-2597.3 7439.5055,-2597.3"/>
<text text-anchor="middle" x="7807.0969" y="-3075.1" font-family="Times,serif" font-size="14.00" fill="#000000">ERC1155</text>
<polyline fill="none" stroke="#000000" points="7439.5055,-3066.9 8174.6883,-3066.9 "/>
<text text-anchor="start" x="7447.5055" y="-3050.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7447.5055" y="-3033.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_balances: mapping(uint=&gt;mapping(address=&gt;uint))</text>
<text text-anchor="start" x="7447.5055" y="-3016.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_operatorApprovals: mapping(address=&gt;mapping(address=&gt;bool))</text>
<text text-anchor="start" x="7447.5055" y="-2999.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_uri: string</text>
<text text-anchor="start" x="7447.5055" y="-2983.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC1155: bytes4</text>
<text text-anchor="start" x="7447.5055" y="-2966.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_INTERFACE_ID_ERC1155_METADATA_URI: bytes4</text>
<polyline fill="none" stroke="#000000" points="7439.5055,-2958.1 8174.6883,-2958.1 "/>
<text text-anchor="start" x="7447.5055" y="-2941.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7447.5055" y="-2924.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doSafeTransferAcceptanceCheck(operator: address, from: address, to: address, id: uint, amount: uint, data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2907.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_doSafeBatchTransferAcceptanceCheck(operator: address, from: address, to: address, ids: uint[], amounts: uint[], data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2891.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_asSingletonArray(element: uint): uint[]</text>
<text text-anchor="start" x="7447.5055" y="-2874.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7447.5055" y="-2857.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setURI(newuri: string)</text>
<text text-anchor="start" x="7447.5055" y="-2840.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(account: address, id: uint, amount: uint, data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2823.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintBatch(to: address, ids: uint[], amounts: uint[], data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2807.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(account: address, id: uint, amount: uint)</text>
<text text-anchor="start" x="7447.5055" y="-2790.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnBatch(account: address, ids: uint[], amounts: uint[])</text>
<text text-anchor="start" x="7447.5055" y="-2773.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_beforeTokenTransfer(operator: address, from: address, to: address, ids: uint[], amounts: uint[], data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2756.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7447.5055" y="-2739.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uri(uint): string</text>
<text text-anchor="start" x="7447.5055" y="-2723.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7447.5055" y="-2706.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(uri_: string)</text>
<text text-anchor="start" x="7447.5055" y="-2689.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(account: address, id: uint): uint</text>
<text text-anchor="start" x="7447.5055" y="-2672.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOfBatch(accounts: address[], ids: uint[]): uint[]</text>
<text text-anchor="start" x="7447.5055" y="-2655.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setApprovalForAll(operator: address, approved: bool)</text>
<text text-anchor="start" x="7447.5055" y="-2639.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isApprovedForAll(account: address, operator: address): bool</text>
<text text-anchor="start" x="7447.5055" y="-2622.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeTransferFrom(from: address, to: address, id: uint, amount: uint, data: bytes)</text>
<text text-anchor="start" x="7447.5055" y="-2605.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeBatchTransferFrom(from: address, to: address, ids: uint[], amounts: uint[], data: bytes)</text>
</g>
<!-- 7&#45;&gt;17 -->
<g id="edge55" class="edge">
<title>7&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M7807.0969,-2152.7751C7807.0969,-2261.7613 7807.0969,-2425.8876 7807.0969,-2566.9197"/>
<polygon fill="none" stroke="#000000" points="7796.597,-2567.0977 7807.0969,-2597.0977 7817.597,-2567.0978 7796.597,-2567.0977"/>
</g>
<!-- 8&#45;&gt;2 -->
<g id="edge59" class="edge">
<title>8&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M4876.8594,-3458.6448C4882.9489,-3454.8424 4889.0294,-3451.0925 4895.0969,-3447.4 5082.962,-3333.0716 5296.0195,-3225.2708 5493.5746,-3133.3108"/>
<polygon fill="#000000" stroke="#000000" points="5495.0794,-3136.471 5502.6723,-3129.082 5492.1288,-3130.1233 5495.0794,-3136.471"/>
</g>
<!-- 8&#45;&gt;3 -->
<g id="edge57" class="edge">
<title>8&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M3857.4706,-4058.8747C3673.6067,-4128.0222 3462.686,-4198.8214 3265.0969,-4245.2 3196.5054,-4261.3 3000.0782,-4231.5425 2950.0969,-4281.2 2707.4925,-4522.2328 2837.3041,-5473.0162 2792.0969,-5812 2790.9327,-5820.7297 2789.7155,-5829.5331 2788.4509,-5838.3928"/>
<polygon fill="#000000" stroke="#000000" points="2784.9684,-5838.021 2787.0033,-5848.4186 2791.8966,-5839.0215 2784.9684,-5838.021"/>
</g>
<!-- 8&#45;&gt;4 -->
<g id="edge58" class="edge">
<title>8&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4713.2303,-4244.9564C4721.5846,-4254.5783 4729.9647,-4264.2301 4738.3551,-4273.8936"/>
<polygon fill="#000000" stroke="#000000" points="4735.8868,-4276.3894 4745.0858,-4281.6457 4741.1725,-4271.8001 4735.8868,-4276.3894"/>
</g>
<!-- 8&#45;&gt;10 -->
<g id="edge60" class="edge">
<title>8&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3857.5006,-3938.291C3461.5188,-4018.5213 2953.5219,-4143.4114 2793.0969,-4281.2 2454.9224,-4571.6572 2751.2595,-4945.2364 2383.0969,-5196.6 2314.8369,-5243.2046 1699.0379,-5174.6571 1640.0969,-5232.6 1548.0817,-5323.0572 1694.4808,-5721.9194 1602.0969,-5812 1530.919,-5881.4033 778.1581,-5777.4696 708.0969,-5848 669.6041,-5886.7506 692.1044,-6778.6957 675.0969,-6830.6 663.3698,-6866.3894 644.8255,-6901.7236 624.1951,-6934.0575"/>
<polygon fill="#000000" stroke="#000000" points="621.1254,-6932.3582 618.6177,-6942.652 626.9974,-6936.1688 621.1254,-6932.3582"/>
</g>
<!-- 8&#45;&gt;23 -->
<g id="edge56" class="edge">
<title>8&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4359.5511,-4244.9677C4354.2506,-4630.8078 4353.0923,-5162.4725 4386.0969,-5196.6 4444.6355,-5257.1302 5084.053,-5172.5625 5143.0969,-5232.6 5171.1988,-5261.1748 5190.1512,-6370.4742 5197.1218,-6856.467"/>
<polygon fill="#000000" stroke="#000000" points="5193.6263,-6856.8186 5197.2691,-6866.7675 5200.6256,-6856.7185 5193.6263,-6856.8186"/>
</g>
<!-- 9&#45;&gt;2 -->
<g id="edge62" class="edge">
<title>9&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M6885.4216,-2203.1711C6861.5333,-2224.6786 6836.1624,-2247.5207 6809.7705,-2271.2822"/>
<polygon fill="#000000" stroke="#000000" points="6807.3898,-2268.7161 6802.3,-2278.0082 6812.0736,-2273.9183 6807.3898,-2268.7161"/>
</g>
<!-- 9&#45;&gt;23 -->
<g id="edge61" class="edge">
<title>9&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7114.8296,-2203.3166C7172.4335,-2468.5461 7277.9809,-2994.4552 7316.0969,-3447.4 7353.5336,-3892.272 7330.7556,-5672.2252 7293.0969,-5812 7158.0264,-6313.3305 7146.352,-6532.7168 6721.0969,-6830.6 6512.9718,-6976.3877 5776.6046,-7043.5092 5410.2642,-7068.4496"/>
<polygon fill="#000000" stroke="#000000" points="5409.8118,-7064.9721 5400.0708,-7069.1391 5410.2843,-7071.9561 5409.8118,-7064.9721"/>
</g>
<!-- 10struct0 -->
<g id="node30" class="node">
<title>10struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="277.7634,-6238.9 277.7634,-6439.7 408.4304,-6439.7 408.4304,-6238.9 277.7634,-6238.9"/>
<text text-anchor="middle" x="343.0969" y="-6423.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="343.0969" y="-6406.3" font-family="Times,serif" font-size="14.00" fill="#000000">Loan</text>
<polyline fill="none" stroke="#000000" points="277.7634,-6398.1 408.4304,-6398.1 "/>
<text text-anchor="start" x="285.7634" y="-6381.5" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint</text>
<text text-anchor="start" x="285.7634" y="-6364.7" font-family="Times,serif" font-size="14.00" fill="#000000">account: address</text>
<text text-anchor="start" x="285.7634" y="-6347.9" font-family="Times,serif" font-size="14.00" fill="#000000">collateral: uint</text>
<text text-anchor="start" x="285.7634" y="-6331.1" font-family="Times,serif" font-size="14.00" fill="#000000">currency: bytes32</text>
<text text-anchor="start" x="285.7634" y="-6314.3" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="285.7634" y="-6297.5" font-family="Times,serif" font-size="14.00" fill="#000000">short: bool</text>
<text text-anchor="start" x="285.7634" y="-6280.7" font-family="Times,serif" font-size="14.00" fill="#000000">accruedInterest: uint</text>
<text text-anchor="start" x="285.7634" y="-6263.9" font-family="Times,serif" font-size="14.00" fill="#000000">interestIndex: uint</text>
<text text-anchor="start" x="285.7634" y="-6247.1" font-family="Times,serif" font-size="14.00" fill="#000000">lastInteraction: uint</text>
</g>
<!-- 10struct0&#45;&gt;10 -->
<g id="edge19" class="edge">
<title>10struct0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M352.7545,-6440.1065C363.6304,-6540.176 384.2122,-6697.4518 417.0969,-6830.6 425.2317,-6863.5373 435.9063,-6898.2686 446.9804,-6931.0225"/>
<polygon fill="#000000" stroke="#000000" points="447.0289,-6931.1644 452.7547,-6935.5479 450.9106,-6942.5192 445.1848,-6938.1357 447.0289,-6931.1644"/>
</g>
<!-- 13 -->
<g id="node33" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1231.4818,-5468.3 1231.4818,-5576.3 1592.712,-5576.3 1592.712,-5468.3 1231.4818,-5468.3"/>
<text text-anchor="middle" x="1412.0969" y="-5559.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1412.0969" y="-5542.9" font-family="Times,serif" font-size="14.00" fill="#000000">ISwapRouter</text>
<polyline fill="none" stroke="#000000" points="1231.4818,-5534.7 1592.712,-5534.7 "/>
<text text-anchor="middle" x="1412.0969" y="-5518.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1231.4818,-5509.9 1592.712,-5509.9 "/>
<text text-anchor="start" x="1239.4818" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1239.4818" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exactInput(params: ExactInputParams): (amountOut: uint)</text>
</g>
<!-- 13struct0 -->
<g id="node34" class="node">
<title>13struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1330.011,-4672.1 1330.011,-4805.7 1494.1828,-4805.7 1494.1828,-4672.1 1330.011,-4672.1"/>
<text text-anchor="middle" x="1412.0969" y="-4789.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1412.0969" y="-4772.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExactInputParams</text>
<polyline fill="none" stroke="#000000" points="1330.011,-4764.1 1494.1828,-4764.1 "/>
<text text-anchor="start" x="1338.011" y="-4747.5" font-family="Times,serif" font-size="14.00" fill="#000000">path: bytes</text>
<text text-anchor="start" x="1338.011" y="-4730.7" font-family="Times,serif" font-size="14.00" fill="#000000">recipient: address</text>
<text text-anchor="start" x="1338.011" y="-4713.9" font-family="Times,serif" font-size="14.00" fill="#000000">deadline: uint</text>
<text text-anchor="start" x="1338.011" y="-4697.1" font-family="Times,serif" font-size="14.00" fill="#000000">amountIn: uint</text>
<text text-anchor="start" x="1338.011" y="-4680.3" font-family="Times,serif" font-size="14.00" fill="#000000">amountOutMinimum: uint</text>
</g>
<!-- 13struct0&#45;&gt;13 -->
<g id="edge20" class="edge">
<title>13struct0&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M1412.0969,-4806.0309C1412.0969,-4954.2958 1412.0969,-5308.2159 1412.0969,-5455.8494"/>
<polygon fill="#000000" stroke="#000000" points="1412.097,-5456.2222 1416.0969,-5462.2222 1412.0969,-5468.2222 1408.0969,-5462.2221 1412.097,-5456.2222"/>
</g>
<!-- 15 -->
<g id="node36" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="426.3146,-6276.9 426.3146,-6401.7 665.8792,-6401.7 665.8792,-6276.9 426.3146,-6276.9"/>
<text text-anchor="middle" x="546.0969" y="-6385.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="546.0969" y="-6368.3" font-family="Times,serif" font-size="14.00" fill="#000000">ITestERC20</text>
<polyline fill="none" stroke="#000000" points="426.3146,-6360.1 665.8792,-6360.1 "/>
<text text-anchor="middle" x="546.0969" y="-6343.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="426.3146,-6335.3 665.8792,-6335.3 "/>
<text text-anchor="start" x="434.3146" y="-6318.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="434.3146" y="-6301.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="434.3146" y="-6285.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(account: address, amount: uint)</text>
</g>
<!-- 16 -->
<g id="node37" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6787.8394,-5384.3 6787.8394,-5660.3 7284.3544,-5660.3 7284.3544,-5384.3 6787.8394,-5384.3"/>
<text text-anchor="middle" x="7036.0969" y="-5643.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7036.0969" y="-5626.9" font-family="Times,serif" font-size="14.00" fill="#000000">Address</text>
<polyline fill="none" stroke="#000000" points="6787.8394,-5618.7 7284.3544,-5618.7 "/>
<text text-anchor="middle" x="7036.0969" y="-5602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6787.8394,-5593.9 7284.3544,-5593.9 "/>
<text text-anchor="start" x="6795.8394" y="-5577.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6795.8394" y="-5560.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_verifyCallResult(success: bool, returndata: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5543.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6795.8394" y="-5526.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isContract(account: address): bool</text>
<text text-anchor="start" x="6795.8394" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionCallWithoutValue(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionStaticCall(target: address, data: bytes, errorMessage: string): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes): bytes</text>
<text text-anchor="start" x="6795.8394" y="-5392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;functionDelegateCall(target: address, data: bytes, errorMessage: string): bytes</text>
</g>
<!-- 17&#45;&gt;16 -->
<g id="edge63" class="edge">
<title>17&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7788.9036,-3091.7216C7748.7101,-3533.3746 7627.4355,-4478.8393 7290.0969,-5196.6 7260.1537,-5260.3106 7215.8228,-5323.0546 7172.5425,-5376.2041"/>
<polygon fill="#000000" stroke="#000000" points="7169.8037,-5374.0243 7166.1663,-5383.9752 7175.2152,-5378.4645 7169.8037,-5374.0243"/>
</g>
<!-- 18&#45;&gt;16 -->
<g id="edge64" class="edge">
<title>18&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7018.7955,-5145.8018C7022.5553,-5227.6193 7026.2744,-5308.5512 7029.2953,-5374.2898"/>
<polygon fill="#000000" stroke="#000000" points="7025.7995,-5374.463 7029.7549,-5384.2917 7032.7921,-5374.1416 7025.7995,-5374.463"/>
</g>
<!-- 18&#45;&gt;18 -->
<g id="edge65" class="edge">
<title>18&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7263.0526,-4649.5504C7274.3662,-4672.4605 7280.9487,-4702.2438 7280.9487,-4738.9 7280.9487,-4770.831 7275.9539,-4797.5468 7267.188,-4819.0472"/>
<polygon fill="#000000" stroke="#000000" points="7263.9591,-4817.6936 7263.0526,-4828.2496 7270.3441,-4820.5629 7263.9591,-4817.6936"/>
</g>
<!-- 19 -->
<g id="node40" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8154.7824,-456.7 8154.7824,-699.1 9703.4114,-699.1 9703.4114,-456.7 8154.7824,-456.7"/>
<text text-anchor="middle" x="8929.0969" y="-682.5" font-family="Times,serif" font-size="14.00" fill="#000000">LyraMarketsRegistry</text>
<polyline fill="none" stroke="#000000" points="8154.7824,-674.3 9703.4114,-674.3 "/>
<text text-anchor="start" x="8162.7824" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8162.7824" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarkets: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="8162.7824" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8162.7824" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketsAddresses: mapping(address=&gt;MarketAddresses)</text>
<polyline fill="none" stroke="#000000" points="8154.7824,-599.1 9703.4114,-599.1 "/>
<text text-anchor="start" x="8162.7824" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8162.7824" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addMarket(optionMarket: address, liquidityPool: address, liquidityCertificate: address, optionGreekCache: address, optionMarketPricer: address, poolHedger: address, shortCollateral: address, quoteAsset: address, baseAsset: address, optionToken: address)</text>
<text text-anchor="start" x="8162.7824" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeMarket(optionMarket: address)</text>
<text text-anchor="start" x="8162.7824" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarkets(): address[]</text>
<text text-anchor="start" x="8162.7824" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOptionMarketsAddresses(optionMarketList: address[]): MarketAddresses[]</text>
<text text-anchor="start" x="8162.7824" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8162.7824" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketAdded(optionMarket: address, liquidityPool: address, liquidityCertificate: address, optionGreekCache: address, optionMarketPricer: address, poolHedger: address, shortCollateral: address, quoteAsset: address, baseAsset: address, optionToken: address)</text>
<text text-anchor="start" x="8162.7824" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MarketRemoved(optionMarket: address)</text>
</g>
<!-- 19struct0 -->
<g id="node41" class="node">
<title>19struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8841.5972,-42.5 8841.5972,-243.3 9016.5966,-243.3 9016.5966,-42.5 8841.5972,-42.5"/>
<text text-anchor="middle" x="8929.0969" y="-226.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="8929.0969" y="-209.9" font-family="Times,serif" font-size="14.00" fill="#000000">MarketAddresses</text>
<polyline fill="none" stroke="#000000" points="8841.5972,-201.7 9016.5966,-201.7 "/>
<text text-anchor="start" x="8849.5972" y="-185.1" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityPool: address</text>
<text text-anchor="start" x="8849.5972" y="-168.3" font-family="Times,serif" font-size="14.00" fill="#000000">liquidityCertificate: address</text>
<text text-anchor="start" x="8849.5972" y="-151.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionGreekCache: address</text>
<text text-anchor="start" x="8849.5972" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionMarketPricer: address</text>
<text text-anchor="start" x="8849.5972" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">poolHedger: address</text>
<text text-anchor="start" x="8849.5972" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateral: address</text>
<text text-anchor="start" x="8849.5972" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">quoteAsset: address</text>
<text text-anchor="start" x="8849.5972" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">baseAsset: address</text>
<text text-anchor="start" x="8849.5972" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionToken: address</text>
</g>
<!-- 19struct0&#45;&gt;19 -->
<g id="edge21" class="edge">
<title>19struct0&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M8929.0969,-243.5174C8929.0969,-303.163 8929.0969,-379.4911 8929.0969,-444.1592"/>
<polygon fill="#000000" stroke="#000000" points="8929.097,-444.5097 8933.0969,-450.5098 8929.0969,-456.5097 8925.0969,-450.5097 8929.097,-444.5097"/>
</g>
<!-- 20 -->
<g id="node42" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1512.2171,-4626.1 1512.2171,-4851.7 2373.9767,-4851.7 2373.9767,-4626.1 1512.2171,-4626.1"/>
<text text-anchor="middle" x="1943.0969" y="-4835.1" font-family="Times,serif" font-size="14.00" fill="#000000">MultistepSwapper</text>
<polyline fill="none" stroke="#000000" points="1512.2171,-4826.9 2373.9767,-4826.9 "/>
<text text-anchor="start" x="1520.2171" y="-4810.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1520.2171" y="-4793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapRouter: ISwapRouter</text>
<text text-anchor="start" x="1520.2171" y="-4776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;synthetix: ISynthetix</text>
<text text-anchor="start" x="1520.2171" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="1520.2171" y="-4743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;approved: mapping(undefined=&gt;bool)</text>
<text text-anchor="start" x="1520.2171" y="-4726.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT_MAX: uint</text>
<polyline fill="none" stroke="#000000" points="1512.2171,-4718.1 2373.9767,-4718.1 "/>
<text text-anchor="start" x="1520.2171" y="-4701.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1520.2171" y="-4684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; swap(tokenIn: IERC20, tokenInCurrencyKey: bytes32, amountIn: uint, swaps: Swap[], amountOutMinimum: uint): (amountOut: uint)</text>
<text text-anchor="start" x="1520.2171" y="-4667.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_swapRouter: ISwapRouter, _synthetix: ISynthetix)</text>
<text text-anchor="start" x="1520.2171" y="-4651.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1520.2171" y="-4634.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 20&#45;&gt;13 -->
<g id="edge66" class="edge">
<title>20&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M1865.8646,-4852.027C1797.6557,-4952.0212 1695.5751,-5101.8769 1607.0969,-5232.6 1554.2205,-5310.723 1493.5831,-5400.9015 1454.1529,-5459.6202"/>
<polygon fill="#000000" stroke="#000000" points="1451.1614,-5457.797 1448.4927,-5468.0502 1456.9729,-5461.6991 1451.1614,-5457.797"/>
</g>
<!-- 20&#45;&gt;14 -->
<g id="edge67" class="edge">
<title>20&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M2132.4257,-4851.7648C2329.124,-4962.4595 2649.6257,-5124.7577 2950.0969,-5196.6 3041.0629,-5218.3498 3726.3909,-5165.0649 3791.0969,-5232.6 4046.529,-5499.2001 3495.2044,-6701.7553 3347.9843,-7009.0328"/>
<polygon fill="#000000" stroke="#000000" points="3344.7116,-7007.7629 3343.5401,-7018.2928 3351.0224,-7010.7917 3344.7116,-7007.7629"/>
</g>
<!-- 20struct0 -->
<g id="node43" class="node">
<title>20struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1922.8714,-3787.9 1922.8714,-3904.7 2117.3224,-3904.7 2117.3224,-3787.9 1922.8714,-3787.9"/>
<text text-anchor="middle" x="2020.0969" y="-3888.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2020.0969" y="-3871.3" font-family="Times,serif" font-size="14.00" fill="#000000">Swap</text>
<polyline fill="none" stroke="#000000" points="1922.8714,-3863.1 2117.3224,-3863.1 "/>
<text text-anchor="start" x="1930.8714" y="-3846.5" font-family="Times,serif" font-size="14.00" fill="#000000">swapType: SwapType</text>
<text text-anchor="start" x="1930.8714" y="-3829.7" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOut: address</text>
<text text-anchor="start" x="1930.8714" y="-3812.9" font-family="Times,serif" font-size="14.00" fill="#000000">tokenOutCurrencyKey: bytes32</text>
<text text-anchor="start" x="1930.8714" y="-3796.1" font-family="Times,serif" font-size="14.00" fill="#000000">poolFee: uint24</text>
</g>
<!-- 20struct0&#45;&gt;20 -->
<g id="edge22" class="edge">
<title>20struct0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M2015.0447,-3904.866C2002.6898,-4048.087 1970.7312,-4418.557 1953.8731,-4613.9803"/>
<polygon fill="#000000" stroke="#000000" points="1953.8658,-4614.0657 1957.3353,-4620.3873 1952.8344,-4626.0213 1949.3649,-4619.6997 1953.8658,-4614.0657"/>
</g>
<!-- 20enum0 -->
<g id="node44" class="node">
<title>20enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1825.7551,-3804.7 1825.7551,-3887.9 1904.4387,-3887.9 1904.4387,-3804.7 1825.7551,-3804.7"/>
<text text-anchor="middle" x="1865.0969" y="-3871.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="1865.0969" y="-3854.5" font-family="Times,serif" font-size="14.00" fill="#000000">SwapType</text>
<polyline fill="none" stroke="#000000" points="1825.7551,-3846.3 1904.4387,-3846.3 "/>
<text text-anchor="start" x="1833.7551" y="-3829.7" font-family="Times,serif" font-size="14.00" fill="#000000">Synthetix</text>
<text text-anchor="start" x="1833.7551" y="-3812.9" font-family="Times,serif" font-size="14.00" fill="#000000">Uniswap</text>
</g>
<!-- 20enum0&#45;&gt;20 -->
<g id="edge23" class="edge">
<title>20enum0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M1868.7544,-3888.1547C1879.9926,-4016.7601 1914.3339,-4409.7486 1932.1363,-4613.4718"/>
<polygon fill="#000000" stroke="#000000" points="1932.1616,-4613.7619 1936.6688,-4619.3908 1933.2063,-4625.7163 1928.6991,-4620.0873 1932.1616,-4613.7619"/>
</g>
<!-- 21 -->
<g id="node45" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7477.134,-448.3 7477.134,-707.5 8137.0598,-707.5 8137.0598,-448.3 7477.134,-448.3"/>
<text text-anchor="middle" x="7807.0969" y="-690.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketSafeSlippage</text>
<polyline fill="none" stroke="#000000" points="7477.134,-682.7 8137.0598,-682.7 "/>
<text text-anchor="start" x="7485.134" y="-666.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7485.134" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="7485.134" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="7485.134" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: IERC20</text>
<text text-anchor="start" x="7485.134" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAsset: IERC20</text>
<text text-anchor="start" x="7485.134" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="7485.134" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UINT_MAX: uint</text>
<polyline fill="none" stroke="#000000" points="7477.134,-557.1 8137.0598,-557.1 "/>
<text text-anchor="start" x="7485.134" y="-540.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7485.134" y="-523.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_optionMarket: OptionMarket, _optionToken: OptionToken, _quoteAsset: IERC20, _baseAsset: IERC20)</text>
<text text-anchor="start" x="7485.134" y="-506.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;openPosition(_listingId: uint, tradeType: OptionMarket.TradeType, amount: uint, maxCost: uint, minCost: uint)</text>
<text text-anchor="start" x="7485.134" y="-490.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;closePosition(_listingId: uint, tradeType: OptionMarket.TradeType, amount: uint, maxCost: uint, minCost: uint)</text>
<text text-anchor="start" x="7485.134" y="-473.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7485.134" y="-456.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 21&#45;&gt;5 -->
<g id="edge69" class="edge">
<title>21&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M7529.1865,-707.6492C7371.9129,-781.0762 7166.7846,-876.8453 6964.9608,-971.0716"/>
<polygon fill="#000000" stroke="#000000" points="6963.2381,-968.0132 6955.6576,-975.415 6966.1994,-974.356 6963.2381,-968.0132"/>
</g>
<!-- 21&#45;&gt;7 -->
<g id="edge70" class="edge">
<title>21&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M7807.0969,-707.5363C7807.0969,-982.8183 7807.0969,-1623.1392 7807.0969,-1900.0321"/>
<polygon fill="#000000" stroke="#000000" points="7803.597,-1900.1296 7807.0969,-1910.1297 7810.597,-1900.1297 7803.597,-1900.1296"/>
</g>
<!-- 21&#45;&gt;23 -->
<g id="edge68" class="edge">
<title>21&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7867.6718,-707.9266C7978.6033,-958.3269 8203.0969,-1527.3466 8203.0969,-2031.5 8203.0969,-2031.5 8203.0969,-2031.5 8203.0969,-5522.3 8203.0969,-6247.2112 7855.7462,-6466.1732 7229.0969,-6830.6 6923.5593,-7008.2849 5865.3107,-7060.8737 5410.5113,-7075.466"/>
<polygon fill="#000000" stroke="#000000" points="5410.096,-7071.9774 5400.2122,-7075.7933 5410.3184,-7078.9738 5410.096,-7071.9774"/>
</g>
<!-- 22 -->
<g id="node46" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4402.9217,-322.3 4402.9217,-833.5 5713.2721,-833.5 5713.2721,-322.3 4402.9217,-322.3"/>
<text text-anchor="middle" x="5058.0969" y="-816.9" font-family="Times,serif" font-size="14.00" fill="#000000">OptionMarketViewer</text>
<polyline fill="none" stroke="#000000" points="4402.9217,-808.7 5713.2721,-808.7 "/>
<text text-anchor="start" x="4410.9217" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4410.9217" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="4410.9217" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarket: OptionMarket</text>
<text text-anchor="start" x="4410.9217" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionMarketPricer: OptionMarketPricer</text>
<text text-anchor="start" x="4410.9217" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;greekCache: OptionGreekCache</text>
<text text-anchor="start" x="4410.9217" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionToken: OptionToken</text>
<text text-anchor="start" x="4410.9217" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;liquidityPool: LiquidityPool</text>
<text text-anchor="start" x="4410.9217" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;blackScholes: BlackScholes</text>
<text text-anchor="start" x="4410.9217" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="4402.9217,-649.5 5713.2721,-649.5 "/>
<text text-anchor="start" x="4410.9217" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4410.9217" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingCache(listingId: uint): OptionGreekCache.OptionListingCache</text>
<text text-anchor="start" x="4410.9217" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGlobalCache(): OptionGreekCache.GlobalCache</text>
<text text-anchor="start" x="4410.9217" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPricingForTrade(pricingGlobals: LyraGlobals.PricingGlobals, trade: OptionMarket.Trade, _listingId: uint, newCallExposure: int, newPutExposure: int, isCall: bool): (pricing: OptionMarketPricer.Pricing)</text>
<text text-anchor="start" x="4410.9217" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timeToMaturitySeconds(expiry: uint): (timeToMaturity: uint)</text>
<text text-anchor="start" x="4410.9217" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4410.9217" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _optionMarket: OptionMarket, _optionMarketPricer: OptionMarketPricer, _greekCache: OptionGreekCache, _optionToken: OptionToken, _liquidityPool: LiquidityPool, _blackScholes: BlackScholes)</text>
<text text-anchor="start" x="4410.9217" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLiveBoards(): (boards: BoardView[])</text>
<text text-anchor="start" x="4410.9217" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingsForBoard(boardId: uint): (boardListings: ListingView[])</text>
<text text-anchor="start" x="4410.9217" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingViewAndBalance(listingId: uint, user: address): (listingView: ListingView, longCallAmt: uint, longPutAmt: uint, shortCallAmt: uint, shortPutAmt: uint)</text>
<text text-anchor="start" x="4410.9217" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForOpen(_listingId: uint, tradeType: OptionMarket.TradeType, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="4410.9217" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForClose(_listingId: uint, tradeType: OptionMarket.TradeType, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="4410.9217" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4410.9217" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4410.9217" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBoard(boardId: uint): OptionMarket.OptionBoard</text>
<text text-anchor="start" x="4410.9217" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListing(listingId: uint): OptionMarket.OptionListing</text>
<text text-anchor="start" x="4410.9217" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getListingView(listingId: uint): (listingView: ListingView)</text>
<text text-anchor="start" x="4410.9217" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPremiumForTrade(_listingId: uint, tradeType: OptionMarket.TradeType, isBuy: bool, amount: uint): (premium: uint, newIv: uint)</text>
<text text-anchor="start" x="4410.9217" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPremiumForTrade(listing: OptionMarket.OptionListing, board: OptionMarket.OptionBoard, trade: OptionMarket.Trade, pricingGlobals: LyraGlobals.PricingGlobals, isCall: bool): (uint, uint)</text>
</g>
<!-- 22&#45;&gt;0 -->
<g id="edge73" class="edge">
<title>22&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M5161.7868,-833.7483C5268.4476,-1120.4394 5419.0969,-1601.4801 5419.0969,-2031.5 5419.0969,-2031.5 5419.0969,-2031.5 5419.0969,-2844.5 5419.0969,-3098.651 5423.0845,-3167.3714 5494.0969,-3411.4 5613.1935,-3820.6659 5797.5413,-3866.9885 5898.0969,-4281.2 5946.128,-4479.0508 5861.2083,-5007.2759 5936.0969,-5196.6 5939.7281,-5205.7799 5943.7334,-5214.8801 5948.0647,-5223.8845"/>
<polygon fill="#000000" stroke="#000000" points="5944.9317,-5225.4449 5952.5028,-5232.8563 5951.206,-5222.3411 5944.9317,-5225.4449"/>
</g>
<!-- 22&#45;&gt;5 -->
<g id="edge72" class="edge">
<title>22&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M5447.8566,-833.5796C5463.5549,-843.8776 5479.4575,-854.3096 5495.5096,-864.8396"/>
<polygon fill="#000000" stroke="#000000" points="5493.6359,-867.7964 5503.9171,-870.355 5497.4754,-861.9433 5493.6359,-867.7964"/>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge71" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4810.312,-833.7129C4586.1489,-1074.4962 4257.0451,-1452.312 4028.0969,-1821.4 3235.956,-3098.4121 3722.9748,-3697.465 3827.0969,-5196.6 3828.2908,-5213.7898 3898.6387,-5796.0248 3905.0969,-5812 4116.994,-6336.1585 4228.7731,-6473.508 4667.0969,-6830.6 4762.6758,-6908.4658 4886.5017,-6968.4751 4990.7433,-7010.1698"/>
<polygon fill="#000000" stroke="#000000" points="4989.541,-7013.4582 5000.1269,-7013.8949 4992.1239,-7006.9521 4989.541,-7013.4582"/>
</g>
<!-- 22struct0 -->
<g id="node47" class="node">
<title>22struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4902.7431,-101.3 4902.7431,-184.5 4991.4507,-184.5 4991.4507,-101.3 4902.7431,-101.3"/>
<text text-anchor="middle" x="4947.0969" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4947.0969" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">BoardView</text>
<polyline fill="none" stroke="#000000" points="4902.7431,-142.9 4991.4507,-142.9 "/>
<text text-anchor="start" x="4910.7431" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="4910.7431" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
</g>
<!-- 22struct0&#45;&gt;22 -->
<g id="edge24" class="edge">
<title>22struct0&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M4957.74,-184.6096C4965.6898,-215.7639 4977.307,-261.2907 4989.8419,-310.414"/>
<polygon fill="#000000" stroke="#000000" points="4989.9058,-310.6648 4995.2651,-315.4895 4992.8729,-322.2923 4987.5135,-317.4676 4989.9058,-310.6648"/>
</g>
<!-- 22struct1 -->
<g id="node48" class="node">
<title>22struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5009.8469,-.5 5009.8469,-285.3 5106.3469,-285.3 5106.3469,-.5 5009.8469,-.5"/>
<text text-anchor="middle" x="5058.0969" y="-268.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5058.0969" y="-251.9" font-family="Times,serif" font-size="14.00" fill="#000000">ListingView</text>
<polyline fill="none" stroke="#000000" points="5009.8469,-243.7 5106.3469,-243.7 "/>
<text text-anchor="start" x="5017.8469" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="5017.8469" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000">boardId: uint</text>
<text text-anchor="start" x="5017.8469" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="5017.8469" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5017.8469" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">iv: uint</text>
<text text-anchor="start" x="5017.8469" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">skew: uint</text>
<text text-anchor="start" x="5017.8469" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="5017.8469" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
<text text-anchor="start" x="5017.8469" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">callDelta: int</text>
<text text-anchor="start" x="5017.8469" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">putDelta: int</text>
<text text-anchor="start" x="5017.8469" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">longCall: uint</text>
<text text-anchor="start" x="5017.8469" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortCall: uint</text>
<text text-anchor="start" x="5017.8469" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">longPut: uint</text>
<text text-anchor="start" x="5017.8469" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortPut: uint</text>
</g>
<!-- 22struct1&#45;&gt;22 -->
<g id="edge25" class="edge">
<title>22struct1&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M5058.0969,-285.3353C5058.0969,-293.4095 5058.0969,-301.641 5058.0969,-309.9771"/>
<polygon fill="#000000" stroke="#000000" points="5058.097,-310.2591 5062.0969,-316.2592 5058.0969,-322.2591 5054.0969,-316.2591 5058.097,-310.2591"/>
</g>
<!-- 22struct2 -->
<g id="node49" class="node">
<title>22struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5124.2799,-50.9 5124.2799,-234.9 5249.9139,-234.9 5249.9139,-50.9 5124.2799,-50.9"/>
<text text-anchor="middle" x="5187.0969" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5187.0969" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000">OwnedOptionView</text>
<polyline fill="none" stroke="#000000" points="5124.2799,-193.3 5249.9139,-193.3 "/>
<text text-anchor="start" x="5132.2799" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">listingId: uint</text>
<text text-anchor="start" x="5132.2799" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="5132.2799" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint</text>
<text text-anchor="start" x="5132.2799" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiry: uint</text>
<text text-anchor="start" x="5132.2799" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">callAmount: int</text>
<text text-anchor="start" x="5132.2799" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">putAmount: int</text>
<text text-anchor="start" x="5132.2799" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">callPrice: uint</text>
<text text-anchor="start" x="5132.2799" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">putPrice: uint</text>
</g>
<!-- 22struct2&#45;&gt;22 -->
<g id="edge26" class="edge">
<title>22struct2&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M5159.7393,-235.1523C5152.9444,-258.0655 5145.3152,-283.7919 5137.3699,-310.5841"/>
<polygon fill="#000000" stroke="#000000" points="5137.3588,-310.6218 5139.4878,-317.5115 5133.9469,-322.1266 5131.8179,-315.2369 5137.3588,-310.6218"/>
</g>
<!-- 25 -->
<g id="node52" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1857.6733,-6268.5 1857.6733,-6410.1 2178.5205,-6410.1 2178.5205,-6268.5 1857.6733,-6268.5"/>
<text text-anchor="middle" x="2018.0969" y="-6393.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2018.0969" y="-6376.7" font-family="Times,serif" font-size="14.00" fill="#000000">BytesLib</text>
<polyline fill="none" stroke="#000000" points="1857.6733,-6368.5 2178.5205,-6368.5 "/>
<text text-anchor="middle" x="2018.0969" y="-6351.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1857.6733,-6343.7 2178.5205,-6343.7 "/>
<text text-anchor="start" x="1865.6733" y="-6327.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1865.6733" y="-6310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;slice(_bytes: bytes, _start: uint, _length: uint): bytes</text>
<text text-anchor="start" x="1865.6733" y="-6293.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toAddress(_bytes: bytes, _start: uint): address</text>
<text text-anchor="start" x="1865.6733" y="-6276.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toUint24(_bytes: bytes, _start: uint): uint24</text>
</g>
<!-- 26 -->
<g id="node53" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="750.7374,-5392.7 750.7374,-5651.9 1213.4564,-5651.9 1213.4564,-5392.7 750.7374,-5392.7"/>
<text text-anchor="middle" x="982.0969" y="-5635.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="982.0969" y="-5618.5" font-family="Times,serif" font-size="14.00" fill="#000000">Path</text>
<polyline fill="none" stroke="#000000" points="750.7374,-5610.3 1213.4564,-5610.3 "/>
<text text-anchor="start" x="758.7374" y="-5593.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="758.7374" y="-5576.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ADDR_SIZE: uint</text>
<text text-anchor="start" x="758.7374" y="-5560.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FEE_SIZE: uint</text>
<text text-anchor="start" x="758.7374" y="-5543.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;NEXT_OFFSET: uint</text>
<text text-anchor="start" x="758.7374" y="-5526.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;POP_OFFSET: uint</text>
<text text-anchor="start" x="758.7374" y="-5509.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MULTIPLE_POOLS_MIN_LENGTH: uint</text>
<polyline fill="none" stroke="#000000" points="750.7374,-5501.5 1213.4564,-5501.5 "/>
<text text-anchor="start" x="758.7374" y="-5484.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="758.7374" y="-5468.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasMultiplePools(path: bytes): bool</text>
<text text-anchor="start" x="758.7374" y="-5451.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;numPools(path: bytes): uint</text>
<text text-anchor="start" x="758.7374" y="-5434.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decodeFirstPool(path: bytes): (tokenA: address, tokenB: address, fee: uint24)</text>
<text text-anchor="start" x="758.7374" y="-5417.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFirstPool(path: bytes): bytes</text>
<text text-anchor="start" x="758.7374" y="-5400.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;skipToken(path: bytes): bytes</text>
</g>
<!-- 26&#45;&gt;25 -->
<g id="edge74" class="edge">
<title>26&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1055.1419,-5652.267C1096.0035,-5711.8614 1152.7393,-5776.9258 1222.0969,-5812 1346.4424,-5874.8816 1736.9642,-5763.9439 1848.0969,-5848 1976.5401,-5945.149 2008.5212,-6145.5459 2016.1094,-6258.0702"/>
<polygon fill="#000000" stroke="#000000" points="2012.6345,-6258.5836 2016.7509,-6268.3461 2019.6209,-6258.1474 2012.6345,-6258.5836"/>
</g>
<!-- 27 -->
<g id="node54" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5945.1656,-4634.5 5945.1656,-4843.3 6497.0282,-4843.3 6497.0282,-4634.5 5945.1656,-4634.5"/>
<text text-anchor="middle" x="6221.0969" y="-4826.7" font-family="Times,serif" font-size="14.00" fill="#000000">TestBlackScholes</text>
<polyline fill="none" stroke="#000000" points="5945.1656,-4818.5 6497.0282,-4818.5 "/>
<text text-anchor="middle" x="6221.0969" y="-4801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5945.1656,-4793.7 6497.0282,-4793.7 "/>
<text text-anchor="start" x="5953.1656" y="-4777.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5953.1656" y="-4760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;ln_pub(x: uint): int</text>
<text text-anchor="start" x="5953.1656" y="-4743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exp_pub(x: int): uint</text>
<text text-anchor="start" x="5953.1656" y="-4726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt_pub(x: uint): uint</text>
<text text-anchor="start" x="5953.1656" y="-4709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;abs_pub(x: int): uint</text>
<text text-anchor="start" x="5953.1656" y="-4693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormal_pub(x: int): uint</text>
<text text-anchor="start" x="5953.1656" y="-4676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stdNormalCDF_pub(x: int): uint</text>
<text text-anchor="start" x="5953.1656" y="-4659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;annualise_pub(secs: uint): (yearFraction: uint)</text>
<text text-anchor="start" x="5953.1656" y="-4642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;d1d2_pub(tAnnualised: uint, volatility: uint, spot: uint, strike: uint, rate: int): (d1: int, d2: int)</text>
</g>
<!-- 27&#45;&gt;0 -->
<g id="edge75" class="edge">
<title>27&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M6220.5637,-4843.3344C6220.094,-4935.3137 6219.3847,-5074.2326 6218.7298,-5202.4996"/>
<polygon fill="none" stroke="#000000" points="6208.2291,-5202.6294 6218.5757,-5232.6827 6229.2288,-5202.7367 6208.2291,-5202.6294"/>
</g>
<!-- 28 -->
<g id="node55" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1648.9702,-5283.5 1648.9702,-5761.1 2085.2236,-5761.1 2085.2236,-5283.5 1648.9702,-5283.5"/>
<text text-anchor="middle" x="1867.0969" y="-5744.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestCollateralShort</text>
<polyline fill="none" stroke="#000000" points="1648.9702,-5736.3 2085.2236,-5736.3 "/>
<text text-anchor="start" x="1656.9702" y="-5719.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1656.9702" y="-5702.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="1656.9702" y="-5686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="1656.9702" y="-5669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nextLoanId: uint</text>
<text text-anchor="start" x="1656.9702" y="-5652.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1656.9702" y="-5635.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCratio: uint</text>
<text text-anchor="start" x="1656.9702" y="-5618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minCollateral: uint</text>
<text text-anchor="start" x="1656.9702" y="-5602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;issueFeeRate: uint</text>
<text text-anchor="start" x="1656.9702" y="-5585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="1656.9702" y="-5568.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="1656.9702" y="-5551.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;loans: mapping(uint=&gt;Loan)</text>
<text text-anchor="start" x="1656.9702" y="-5534.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="1648.9702,-5526.7 2085.2236,-5526.7 "/>
<text text-anchor="start" x="1656.9702" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1656.9702" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="1656.9702" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="1656.9702" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;open(collateral: uint, amount: uint, currency: bytes32): (id: uint)</text>
<text text-anchor="start" x="1656.9702" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;draw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5426.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repay(account: address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5409.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;repayWithCollateral(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(borrower: address, id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(id: uint, amount: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5358.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getShortAndCollateral(account: address, id: uint): (uint, uint)</text>
<text text-anchor="start" x="1656.9702" y="-5342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createTestEmptyLoanForAccount(account: address)</text>
<text text-anchor="start" x="1656.9702" y="-5325.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;testForceClose(id: uint)</text>
<text text-anchor="start" x="1656.9702" y="-5308.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1656.9702" y="-5291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 28&#45;&gt;3 -->
<g id="edge78" class="edge">
<title>28&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M2046.461,-5761.2991C2066.2757,-5779.9457 2087.2412,-5797.2316 2109.0969,-5812 2152.0691,-5841.0373 2176.1718,-5820.4253 2220.0969,-5848 2221.8308,-5849.0885 2223.5628,-5850.1848 2225.2928,-5851.2887"/>
<polygon fill="#000000" stroke="#000000" points="2223.6283,-5854.3804 2233.9261,-5856.8714 2227.4294,-5848.5022 2223.6283,-5854.3804"/>
</g>
<!-- 28&#45;&gt;10 -->
<g id="edge76" class="edge">
<title>28&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1707.1835,-5761.2975C1685.1871,-5781.2876 1661.117,-5798.844 1635.0969,-5812 1547.3692,-5856.356 820.7134,-5778.5943 751.0969,-5848 673.7056,-5925.157 747.0009,-6728.4771 708.0969,-6830.6 696.4308,-6861.2234 679.448,-6890.9078 660.1866,-6918.484"/>
<polygon fill="none" stroke="#000000" points="651.7102,-6912.2871 642.3491,-6942.6618 668.6089,-6924.7543 651.7102,-6912.2871"/>
</g>
<!-- 28&#45;&gt;15 -->
<g id="edge79" class="edge">
<title>28&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M1681.2765,-5761.2713C1656.7157,-5781.341 1630.2189,-5798.9218 1602.0969,-5812 1512.9607,-5853.4529 797.0999,-5789.501 718.0969,-5848 584.9856,-5946.5643 554.3115,-6155.8174 547.6258,-6266.7485"/>
<polygon fill="#000000" stroke="#000000" points="544.1251,-6266.6659 547.0674,-6276.8439 551.1144,-6267.0525 544.1251,-6266.6659"/>
</g>
<!-- 28&#45;&gt;23 -->
<g id="edge77" class="edge">
<title>28&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2051.3109,-5761.4463C2069.841,-5779.6021 2089.1969,-5796.7573 2109.0969,-5812 2139.4078,-5835.217 2165.9015,-5816.2426 2187.0969,-5848 2247.7502,-5938.8779 2147.2354,-6753.9502 2225.0969,-6830.6 2256.1243,-6861.1445 3748.7221,-6862.8196 3792.0969,-6866.6 4220.177,-6903.9099 4715.9291,-6989.233 4990.1878,-7040.1855"/>
<polygon fill="#000000" stroke="#000000" points="4989.782,-7043.67 5000.2536,-7042.0586 4991.0627,-7036.7882 4989.782,-7043.67"/>
</g>
<!-- 29 -->
<g id="node56" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="68.3984,-5434.7 68.3984,-5609.9 341.7954,-5609.9 341.7954,-5434.7 68.3984,-5434.7"/>
<text text-anchor="middle" x="205.0969" y="-5593.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20</text>
<polyline fill="none" stroke="#000000" points="68.3984,-5585.1 341.7954,-5585.1 "/>
<text text-anchor="start" x="76.3984" y="-5568.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="76.3984" y="-5551.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="68.3984,-5543.5 341.7954,-5543.5 "/>
<text text-anchor="start" x="76.3984" y="-5526.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="76.3984" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="76.3984" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="76.3984" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="76.3984" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="76.3984" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 29&#45;&gt;15 -->
<g id="edge80" class="edge">
<title>29&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M232.8901,-5610.0607C256.1927,-5672.4285 294.6439,-5754.9157 350.0969,-5812 373.651,-5836.247 396.1777,-5821.4462 417.0969,-5848 508.9127,-5964.5468 535.7624,-6140.1051 543.3811,-6246.7707"/>
<polygon fill="none" stroke="#000000" points="532.908,-6247.5382 545.1491,-6276.8709 553.8719,-6246.3068 532.908,-6247.5382"/>
</g>
<!-- 30 -->
<g id="node57" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-4651.3 0,-4826.5 410.1938,-4826.5 410.1938,-4651.3 0,-4651.3"/>
<text text-anchor="middle" x="205.0969" y="-4809.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20Fail</text>
<polyline fill="none" stroke="#000000" points="0,-4801.7 410.1938,-4801.7 "/>
<text text-anchor="start" x="8" y="-4785.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-4768.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;forceFail: bool</text>
<polyline fill="none" stroke="#000000" points="0,-4760.1 410.1938,-4760.1 "/>
<text text-anchor="start" x="8" y="-4743.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-4726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setForceFail(_forceFail: bool)</text>
<text text-anchor="start" x="8" y="-4709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="8" y="-4693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(sender: address, receiver: address, amount: uint): bool</text>
<text text-anchor="start" x="8" y="-4676.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-4659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string)</text>
</g>
<!-- 30&#45;&gt;29 -->
<g id="edge81" class="edge">
<title>30&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M205.0969,-4826.864C205.0969,-4968.2311 205.0969,-5246.1272 205.0969,-5404.479"/>
<polygon fill="none" stroke="#000000" points="194.597,-5404.4796 205.0969,-5434.4796 215.597,-5404.4797 194.597,-5404.4796"/>
</g>
<!-- 31 -->
<g id="node58" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="359.4324,-5434.7 359.4324,-5609.9 732.7614,-5609.9 732.7614,-5434.7 359.4324,-5434.7"/>
<text text-anchor="middle" x="546.0969" y="-5593.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestERC20SetDecimals</text>
<polyline fill="none" stroke="#000000" points="359.4324,-5585.1 732.7614,-5585.1 "/>
<text text-anchor="start" x="367.4324" y="-5568.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="367.4324" y="-5551.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;permitted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="359.4324,-5543.5 732.7614,-5543.5 "/>
<text text-anchor="start" x="367.4324" y="-5526.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="367.4324" y="-5510.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;permitMint(user: address, permit: bool)</text>
<text text-anchor="start" x="367.4324" y="-5493.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(account: address, amount: uint)</text>
<text text-anchor="start" x="367.4324" y="-5476.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(account: address, amount: uint)</text>
<text text-anchor="start" x="367.4324" y="-5459.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="367.4324" y="-5442.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(name_: string, symbol_: string, decimals_: uint8)</text>
</g>
<!-- 31&#45;&gt;15 -->
<g id="edge82" class="edge">
<title>31&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M546.0969,-5610.1211C546.0969,-5765.5053 546.0969,-6087.4454 546.0969,-6246.3879"/>
<polygon fill="none" stroke="#000000" points="535.597,-6246.8095 546.0969,-6276.8095 556.597,-6246.8095 535.597,-6246.8095"/>
</g>
<!-- 32 -->
<g id="node59" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="759.6785,-6251.7 759.6785,-6426.9 1162.5153,-6426.9 1162.5153,-6251.7 759.6785,-6251.7"/>
<text text-anchor="middle" x="961.0969" y="-6410.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchangeRates</text>
<polyline fill="none" stroke="#000000" points="759.6785,-6402.1 1162.5153,-6402.1 "/>
<text text-anchor="start" x="767.6785" y="-6385.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="767.6785" y="-6368.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(bytes32=&gt;uint)</text>
<text text-anchor="start" x="767.6785" y="-6351.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isInvalid: mapping(bytes32=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="759.6785,-6343.7 1162.5153,-6343.7 "/>
<text text-anchor="start" x="767.6785" y="-6327.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="767.6785" y="-6310.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;rateAndInvalid(currencyKey: bytes32): (rate: uint, invalid: bool)</text>
<text text-anchor="start" x="767.6785" y="-6293.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRateAndInvalid(currencyKey: bytes32, rate: uint, invalid: bool)</text>
<text text-anchor="start" x="767.6785" y="-6276.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="767.6785" y="-6259.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 32&#45;&gt;11 -->
<g id="edge83" class="edge">
<title>32&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M961.0969,-6427.2597C961.0969,-6571.0245 961.0969,-6854.4737 961.0969,-6996.0569"/>
<polygon fill="none" stroke="#000000" points="950.597,-6996.4272 961.0969,-7026.4272 971.597,-6996.4272 950.597,-6996.4272"/>
</g>
<!-- 33 -->
<g id="node60" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1180.6044,-6260.1 1180.6044,-6418.5 1839.5894,-6418.5 1839.5894,-6260.1 1180.6044,-6260.1"/>
<text text-anchor="middle" x="1510.0969" y="-6401.9" font-family="Times,serif" font-size="14.00" fill="#000000">TestExchanger</text>
<polyline fill="none" stroke="#000000" points="1180.6044,-6393.7 1839.5894,-6393.7 "/>
<text text-anchor="start" x="1188.6044" y="-6377.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1188.6044" y="-6360.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fee: mapping(bytes32=&gt;mapping(bytes32=&gt;uint))</text>
<polyline fill="none" stroke="#000000" points="1180.6044,-6352.1 1839.5894,-6352.1 "/>
<text text-anchor="start" x="1188.6044" y="-6335.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1188.6044" y="-6318.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;feeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32): (exchangeFeeRate: uint)</text>
<text text-anchor="start" x="1188.6044" y="-6301.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRateForExchange(sourceCurrencyKey: bytes32, destinationCurrencyKey: bytes32, newFee: uint)</text>
<text text-anchor="start" x="1188.6044" y="-6285.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1188.6044" y="-6268.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 33&#45;&gt;12 -->
<g id="edge84" class="edge">
<title>33&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1510.418,-6418.6428C1510.9878,-6559.4692 1512.1709,-6851.8445 1512.7552,-6996.2477"/>
<polygon fill="none" stroke="#000000" points="1502.2555,-6996.3855 1512.8769,-7026.3428 1523.2554,-6996.3005 1502.2555,-6996.3855"/>
</g>
<!-- 34 -->
<g id="node61" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6315.3146,-1943.9 6315.3146,-2119.1 6568.8792,-2119.1 6568.8792,-1943.9 6315.3146,-1943.9"/>
<text text-anchor="middle" x="6442.0969" y="-2102.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestLiquidityPool</text>
<polyline fill="none" stroke="#000000" points="6315.3146,-2094.3 6568.8792,-2094.3 "/>
<text text-anchor="middle" x="6442.0969" y="-2077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6315.3146,-2069.5 6568.8792,-2069.5 "/>
<text text-anchor="start" x="6323.3146" y="-2052.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6323.3146" y="-2036.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPoolHedger()</text>
<text text-anchor="start" x="6323.3146" y="-2019.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOptionMarket()</text>
<text text-anchor="start" x="6323.3146" y="-2002.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyShortCollateral()</text>
<text text-anchor="start" x="6323.3146" y="-1985.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_totalQuoteAmountReserved(): uint</text>
<text text-anchor="start" x="6323.3146" y="-1968.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_tokensBurnableForRound(): uint</text>
<text text-anchor="start" x="6323.3146" y="-1952.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pub_totalTokenSupply(): uint</text>
</g>
<!-- 34&#45;&gt;2 -->
<g id="edge85" class="edge">
<title>34&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M6413.0536,-2119.2777C6401.2161,-2155.0543 6386.458,-2199.6578 6370.1161,-2249.0478"/>
<polygon fill="none" stroke="#000000" points="6360.0589,-2246.0178 6360.6036,-2277.7976 6379.9959,-2252.6145 6360.0589,-2246.0178"/>
</g>
<!-- 35 -->
<g id="node62" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9034.7585,-63.7 9034.7585,-222.1 9221.4353,-222.1 9221.4353,-63.7 9034.7585,-63.7"/>
<text text-anchor="middle" x="9128.0969" y="-205.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestPausableOwnable</text>
<polyline fill="none" stroke="#000000" points="9034.7585,-197.3 9221.4353,-197.3 "/>
<text text-anchor="start" x="9042.7585" y="-180.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9042.7585" y="-163.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;someValue: uint</text>
<polyline fill="none" stroke="#000000" points="9034.7585,-155.7 9221.4353,-155.7 "/>
<text text-anchor="start" x="9042.7585" y="-139.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9042.7585" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSomeValue(_value: uint)</text>
<text text-anchor="start" x="9042.7585" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPaused()</text>
<text text-anchor="start" x="9042.7585" y="-88.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9042.7585" y="-71.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 36 -->
<g id="node63" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3996.9428,-2756.9 3996.9428,-2932.1 4737.251,-2932.1 4737.251,-2756.9 3996.9428,-2756.9"/>
<text text-anchor="middle" x="4367.0969" y="-2915.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestPoolHedger</text>
<polyline fill="none" stroke="#000000" points="3996.9428,-2907.3 4737.251,-2907.3 "/>
<text text-anchor="middle" x="4367.0969" y="-2890.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3996.9428,-2882.5 4737.251,-2882.5 "/>
<text text-anchor="start" x="4004.9428" y="-2865.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4004.9428" y="-2849.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hedgeDeltaExt(expectedHedge: int)</text>
<text text-anchor="start" x="4004.9428" y="-2832.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseLongExt(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="4004.9428" y="-2815.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseLongExt(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="4004.9428" y="-2798.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;callTransferQuoteToHedge(exchangeGlobals: LyraGlobals.ExchangeGlobals, amount: uint)</text>
<text text-anchor="start" x="4004.9428" y="-2781.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setShortToExt(exchangeGlobals: LyraGlobals.ExchangeGlobals, desiredShort: uint, currentShort: uint, currentCollateral: uint)</text>
<text text-anchor="start" x="4004.9428" y="-2765.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendAllQuoteToLPExt()</text>
</g>
<!-- 36&#45;&gt;8 -->
<g id="edge86" class="edge">
<title>36&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M4367.0969,-2932.5251C4367.0969,-3041.8633 4367.0969,-3236.1943 4367.0969,-3417.6158"/>
<polygon fill="none" stroke="#000000" points="4356.597,-3417.7782 4367.0969,-3447.7782 4377.597,-3417.7782 4356.597,-3417.7782"/>
</g>
<!-- 37 -->
<g id="node64" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="#000000" points="844.0074,-4642.9 844.0074,-4834.9 1312.1864,-4834.9 1312.1864,-4642.9 844.0074,-4642.9"/>
<text text-anchor="middle" x="1078.0969" y="-4818.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestSwapRouter</text>
<polyline fill="none" stroke="#000000" points="844.0074,-4810.1 1312.1864,-4810.1 "/>
<text text-anchor="start" x="852.0074" y="-4793.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="852.0074" y="-4776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<text text-anchor="start" x="852.0074" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rates: mapping(address=&gt;uint)</text>
<polyline fill="none" stroke="#000000" points="844.0074,-4751.7 1312.1864,-4751.7 "/>
<text text-anchor="start" x="852.0074" y="-4735.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="852.0074" y="-4718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; exactInput(params: ExactInputParams): (amountOut: uint)</text>
<text text-anchor="start" x="852.0074" y="-4701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addToken(token: address, rate: uint)</text>
<text text-anchor="start" x="852.0074" y="-4684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;uniswapV3SwapCallback(amount0Delta: int, amount1Delta: int, _data: bytes)</text>
<text text-anchor="start" x="852.0074" y="-4667.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="852.0074" y="-4651.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_factory: address, _WETH9: address)</text>
</g>
<!-- 37&#45;&gt;13 -->
<g id="edge87" class="edge">
<title>37&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1119.0519,-4834.9602C1185.298,-4990.3412 1314.8089,-5294.11 1377.053,-5440.1042"/>
<polygon fill="none" stroke="#000000" points="1367.4926,-5444.4532 1388.9172,-5467.9317 1386.8102,-5436.2172 1367.4926,-5444.4532"/>
</g>
<!-- 37&#45;&gt;23 -->
<g id="edge88" class="edge">
<title>37&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1098.5243,-4835.0512C1127.4028,-4944.2642 1191.7528,-5117.5387 1321.0969,-5196.6 1379.6442,-5232.3869 3741.7092,-5184.9624 3791.0969,-5232.6 3919.0555,-5356.0243 3755.184,-6696.6658 3872.0969,-6830.6 4015.7301,-6995.1448 4652.9465,-7052.6379 4989.7694,-7071.7575"/>
<polygon fill="#000000" stroke="#000000" points="4989.96,-7075.2737 5000.1404,-7072.3395 4990.3523,-7068.2846 4989.96,-7075.2737"/>
</g>
<!-- 37&#45;&gt;26 -->
<g id="edge90" class="edge">
<title>37&#45;&gt;26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1066.3254,-4834.9602C1049.5333,-4971.9906 1018.5988,-5224.4292 999.2552,-5382.2808"/>
<polygon fill="#000000" stroke="#000000" points="995.7405,-5382.1877 997.9981,-5392.5392 1002.6886,-5383.0392 995.7405,-5382.1877"/>
</g>
<!-- 37&#45;&gt;29 -->
<g id="edge89" class="edge">
<title>37&#45;&gt;29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M950.0394,-4835.0574C819.5485,-4931.3012 609.8032,-5081.2537 419.0969,-5196.6 389.4999,-5214.5014 374.3489,-5207.9365 350.0969,-5232.6 297.0377,-5286.5596 259.6976,-5363.8266 236.2105,-5424.9944"/>
<polygon fill="#000000" stroke="#000000" points="232.8163,-5424.0755 232.5596,-5434.6672 239.3654,-5426.5474 232.8163,-5424.0755"/>
</g>
<!-- 38 -->
<g id="node65" class="node">
<title>38</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2844.4108,-5375.9 2844.4108,-5668.7 3781.783,-5668.7 3781.783,-5375.9 2844.4108,-5375.9"/>
<text text-anchor="middle" x="3313.0969" y="-5652.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetix</text>
<polyline fill="none" stroke="#000000" points="2844.4108,-5643.9 3781.783,-5643.9 "/>
<text text-anchor="start" x="2852.4108" y="-5627.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2852.4108" y="-5610.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;globals: LyraGlobals</text>
<text text-anchor="start" x="2852.4108" y="-5593.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;quoteAsset: ITestERC20</text>
<text text-anchor="start" x="2852.4108" y="-5576.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2852.4108" y="-5560.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;baseAssets: mapping(bytes32=&gt;ITestERC20)</text>
<text text-anchor="start" x="2852.4108" y="-5543.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;markets: mapping(bytes32=&gt;address)</text>
<text text-anchor="start" x="2852.4108" y="-5526.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;initialized: bool</text>
<polyline fill="none" stroke="#000000" points="2844.4108,-5518.3 3781.783,-5518.3 "/>
<text text-anchor="start" x="2852.4108" y="-5501.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2852.4108" y="-5484.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_globals: LyraGlobals, _quoteAsset: ITestERC20)</text>
<text text-anchor="start" x="2852.4108" y="-5468.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBaseAsset(ticker: bytes32, baseAsset: ITestERC20, market: address)</text>
<text text-anchor="start" x="2852.4108" y="-5451.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2852.4108" y="-5434.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Exchange(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32)</text>
<text text-anchor="start" x="2852.4108" y="-5417.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2852.4108" y="-5400.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
<text text-anchor="start" x="2852.4108" y="-5384.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchangeOnBehalf(exchangeForAddress: address, sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 38&#45;&gt;3 -->
<g id="edge93" class="edge">
<title>38&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M3201.3574,-5668.8347C3163.1605,-5718.9261 3118.0322,-5778.1072 3070.6599,-5840.231"/>
<polygon fill="#000000" stroke="#000000" points="3067.8502,-5838.1436 3064.5697,-5848.2177 3073.4165,-5842.3881 3067.8502,-5838.1436"/>
</g>
<!-- 38&#45;&gt;14 -->
<g id="edge91" class="edge">
<title>38&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3313.0969,-5668.9105C3313.0969,-5985.8585 3313.0969,-6727.2641 3313.0969,-6988.007"/>
<polygon fill="none" stroke="#000000" points="3302.597,-6988.0588 3313.0969,-7018.0588 3323.597,-6988.0588 3302.597,-6988.0588"/>
</g>
<!-- 38&#45;&gt;15 -->
<g id="edge94" class="edge">
<title>38&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M3090.5995,-5668.8867C2993.0642,-5724.9686 2874.6484,-5782.5106 2759.0969,-5812 2650.9884,-5839.5899 843.3891,-5785.3039 751.0969,-5848 610.7939,-5943.3109 566.2988,-6154.4552 552.3501,-6266.3744"/>
<polygon fill="#000000" stroke="#000000" points="548.8444,-6266.2145 551.1311,-6276.5596 555.7947,-6267.0465 548.8444,-6266.2145"/>
</g>
<!-- 38&#45;&gt;23 -->
<g id="edge92" class="edge">
<title>38&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3326.1677,-5668.797C3358.912,-5942.8667 3470.0648,-6532.3165 3834.0969,-6830.6 4007.8129,-6972.9408 4652.1449,-7040.5625 4990.1088,-7066.8322"/>
<polygon fill="#000000" stroke="#000000" points="4990.0257,-7070.3361 5000.2655,-7067.6164 4990.5646,-7063.3569 4990.0257,-7070.3361"/>
</g>
<!-- 39 -->
<g id="node66" class="node">
<title>39</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2958.8937,-4659.7 2958.8937,-4818.1 3667.3001,-4818.1 3667.3001,-4659.7 2958.8937,-4659.7"/>
<text text-anchor="middle" x="3313.0969" y="-4801.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestSynthetixReturnZero</text>
<polyline fill="none" stroke="#000000" points="2958.8937,-4793.3 3667.3001,-4793.3 "/>
<text text-anchor="start" x="2966.8937" y="-4776.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2966.8937" y="-4759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;returnZero: bool</text>
<polyline fill="none" stroke="#000000" points="2958.8937,-4751.7 3667.3001,-4751.7 "/>
<text text-anchor="start" x="2966.8937" y="-4735.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2966.8937" y="-4718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setReturnZero(_returnZero: bool)</text>
<text text-anchor="start" x="2966.8937" y="-4701.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2966.8937" y="-4684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="2966.8937" y="-4667.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exchange(sourceCurrencyKey: bytes32, sourceAmount: uint, destinationCurrencyKey: bytes32): (amountReceived: uint)</text>
</g>
<!-- 39&#45;&gt;38 -->
<g id="edge95" class="edge">
<title>39&#45;&gt;38</title>
<path fill="none" stroke="#000000" d="M3313.0969,-4818.3278C3313.0969,-4941.1234 3313.0969,-5180.1088 3313.0969,-5345.3283"/>
<polygon fill="none" stroke="#000000" points="3302.597,-5345.532 3313.0969,-5375.532 3323.597,-5345.5321 3302.597,-5345.532"/>
</g>
</g>
</svg>
